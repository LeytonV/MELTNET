var Gb=Object.defineProperty,Wb=Object.defineProperties;var Kb=Object.getOwnPropertyDescriptors;var ev=Object.getOwnPropertySymbols;var Qb=Object.prototype.hasOwnProperty,Yb=Object.prototype.propertyIsEnumerable;var tv=(t,e,n)=>e in t?Gb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,A=(t,e)=>{for(var n in e||={})Qb.call(e,n)&&tv(t,n,e[n]);if(ev)for(var n of ev(e))Yb.call(e,n)&&tv(t,n,e[n]);return t},ge=(t,e)=>Wb(t,Kb(e));var p=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var nv=null;var nd=1,rv=Symbol("SIGNAL");function J(t){let e=nv;return nv=t,e}var iv={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Jb(t){if(!(sd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===nd)){if(!t.producerMustRecompute(t)&&!rd(t)){t.dirty=!1,t.lastCleanEpoch=nd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=nd}}function sv(t){return t&&(t.nextProducerIndex=0),J(t)}function ov(t,e){if(J(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(sd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)id(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function rd(t){Ca(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Jb(n),r!==n.version))return!0}return!1}function av(t){if(Ca(t),sd(t))for(let e=0;e<t.producerNode.length;e++)id(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function id(t,e){if(Zb(t),Ca(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)id(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ca(i),i.producerIndexOfThis[r]=e}}function sd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ca(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Zb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Xb(){throw new Error}var eC=Xb;function cv(t){eC=t}function j(t){return typeof t=="function"}function Hr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Sa=Hr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function nr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var we=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(j(r))try{r()}catch(s){e=s instanceof Sa?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{uv(s)}catch(o){e=e??[],o instanceof Sa?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Sa(e)}}add(e){var n;if(e&&e!==this)if(this.closed)uv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&nr(n,e)}remove(e){let{_finalizers:n}=this;n&&nr(n,e),e instanceof t&&e._removeParent(this)}};we.EMPTY=(()=>{let t=new we;return t.closed=!0,t})();var od=we.EMPTY;function Aa(t){return t instanceof we||t&&"closed"in t&&j(t.remove)&&j(t.add)&&j(t.unsubscribe)}function uv(t){j(t)?t():t.unsubscribe()}var Et={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Gr={setTimeout(t,e,...n){let{delegate:r}=Gr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Gr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ra(t){Gr.setTimeout(()=>{let{onUnhandledError:e}=Et;if(e)e(t);else throw t})}function ds(){}var lv=ad("C",void 0,void 0);function dv(t){return ad("E",void 0,t)}function hv(t){return ad("N",t,void 0)}function ad(t,e,n){return{kind:t,value:e,error:n}}var rr=null;function Wr(t){if(Et.useDeprecatedSynchronousErrorHandling){let e=!rr;if(e&&(rr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=rr;if(rr=null,n)throw r}}else t()}function fv(t){Et.useDeprecatedSynchronousErrorHandling&&rr&&(rr.errorThrown=!0,rr.error=t)}var ir=class extends we{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Aa(e)&&e.add(this)):this.destination=rC}static create(e,n,r){return new Kr(e,n,r)}next(e){this.isStopped?ud(hv(e),this):this._next(e)}error(e){this.isStopped?ud(dv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ud(lv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},tC=Function.prototype.bind;function cd(t,e){return tC.call(t,e)}var ld=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){xa(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){xa(r)}else xa(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){xa(n)}}},Kr=class extends ir{constructor(e,n,r){super();let i;if(j(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Et.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&cd(e.next,s),error:e.error&&cd(e.error,s),complete:e.complete&&cd(e.complete,s)}):i=e}this.destination=new ld(i)}};function xa(t){Et.useDeprecatedSynchronousErrorHandling?fv(t):Ra(t)}function nC(t){throw t}function ud(t,e){let{onStoppedNotification:n}=Et;n&&Gr.setTimeout(()=>n(t,e))}var rC={closed:!0,next:ds,error:nC,complete:ds};var Qr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function st(t){return t}function Ma(...t){return dd(t)}function dd(t){return t.length===0?st:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Q=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=sC(n)?n:new Kr(n,r,i);return Wr(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=pv(r),new r((i,s)=>{let o=new Kr({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Qr](){return this}pipe(...n){return dd(n)(this)}toPromise(n){return n=pv(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function pv(t){var e;return(e=t??Et.Promise)!==null&&e!==void 0?e:Promise}function iC(t){return t&&j(t.next)&&j(t.error)&&j(t.complete)}function sC(t){return t&&t instanceof ir||iC(t)&&Aa(t)}function hd(t){return j(t?.lift)}function Z(t){return e=>{if(hd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function X(t,e,n,r,i){return new fd(t,e,n,r,i)}var fd=class extends ir{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Yr(){return Z((t,e)=>{let n=null;t._refCount++;let r=X(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Jr=class extends Q{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,hd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new we;let n=this.getSubject();e.add(this.source.subscribe(X(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=we.EMPTY)}return e}refCount(){return Yr()(this)}};var gv=Hr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ot=(()=>{class t extends Q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Pa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new gv}next(n){Wr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Wr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Wr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?od:(this.currentObservers=null,s.push(n),new we(()=>{this.currentObservers=null,nr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new Q;return n.source=this,n}}return t.create=(e,n)=>new Pa(e,n),t})(),Pa=class extends ot{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:od}};var Ne=class extends ot{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var pd={now(){return(pd.delegate||Date).now()},delegate:void 0};var Na=class extends we{constructor(e,n){super()}schedule(e,n=0){return this}};var hs={setInterval(t,e,...n){let{delegate:r}=hs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=hs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Zr=class extends Na{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return hs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&hs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,nr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Xr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Xr.now=pd.now;var ei=class extends Xr{constructor(e,n=Xr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var gd=new ei(Zr);var Oa=class extends Zr{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ka=class extends ei{};var md=new ka(Oa);var ht=new Q(t=>t.complete());function mv(t){return t&&j(t.schedule)}function yv(t){return t[t.length-1]}function vv(t){return j(yv(t))?t.pop():void 0}function En(t){return mv(yv(t))?t.pop():void 0}function yd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Iv(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function wv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function sr(t){return this instanceof sr?(this.v=t,this):new sr(t)}function _v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,I){s.push([h,f,g,I])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof sr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Ev(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof wv=="function"?wv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var La=t=>t&&typeof t.length=="number"&&typeof t!="function";function Fa(t){return j(t?.then)}function Va(t){return j(t[Qr])}function ja(t){return Symbol.asyncIterator&&j(t?.[Symbol.asyncIterator])}function Ua(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function oC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ba=oC();function $a(t){return j(t?.[Ba])}function za(t){return _v(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield sr(n.read());if(i)return yield sr(void 0);yield yield sr(r)}}finally{n.releaseLock()}})}function qa(t){return j(t?.getReader)}function Ae(t){if(t instanceof Q)return t;if(t!=null){if(Va(t))return aC(t);if(La(t))return cC(t);if(Fa(t))return uC(t);if(ja(t))return Tv(t);if($a(t))return lC(t);if(qa(t))return dC(t)}throw Ua(t)}function aC(t){return new Q(e=>{let n=t[Qr]();if(j(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function cC(t){return new Q(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function uC(t){return new Q(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ra)})}function lC(t){return new Q(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Tv(t){return new Q(e=>{hC(t,e).catch(n=>e.error(n))})}function dC(t){return Tv(za(t))}function hC(t,e){var n,r,i,s;return Iv(this,void 0,void 0,function*(){try{for(n=Ev(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function tt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Tn(t,e=0){return Z((n,r)=>{n.subscribe(X(r,i=>tt(r,t,()=>r.next(i),e),()=>tt(r,t,()=>r.complete(),e),i=>tt(r,t,()=>r.error(i),e)))})}function Dn(t,e=0){return Z((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Dv(t,e){return Ae(t).pipe(Dn(e),Tn(e))}function bv(t,e){return Ae(t).pipe(Dn(e),Tn(e))}function Cv(t,e){return new Q(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Sv(t,e){return new Q(n=>{let r;return tt(n,e,()=>{r=t[Ba](),tt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>j(r?.return)&&r.return()})}function Ha(t,e){if(!t)throw new Error("Iterable cannot be null");return new Q(n=>{tt(n,e,()=>{let r=t[Symbol.asyncIterator]();tt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Av(t,e){return Ha(za(t),e)}function Rv(t,e){if(t!=null){if(Va(t))return Dv(t,e);if(La(t))return Cv(t,e);if(Fa(t))return bv(t,e);if(ja(t))return Ha(t,e);if($a(t))return Sv(t,e);if(qa(t))return Av(t,e)}throw Ua(t)}function me(t,e){return e?Rv(t,e):Ae(t)}function O(...t){let e=En(t);return me(t,e)}function ti(t,e){let n=j(t)?t:()=>t,r=i=>i.error(n());return new Q(e?i=>e.schedule(r,0,i):r)}function vd(t){return!!t&&(t instanceof Q||j(t.lift)&&j(t.subscribe))}var tn=Hr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function B(t,e){return Z((n,r)=>{let i=0;n.subscribe(X(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:fC}=Array;function pC(t,e){return fC(e)?t(...e):t(e)}function xv(t){return B(e=>pC(t,e))}var{isArray:gC}=Array,{getPrototypeOf:mC,prototype:yC,keys:vC}=Object;function Mv(t){if(t.length===1){let e=t[0];if(gC(e))return{args:e,keys:null};if(wC(e)){let n=vC(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function wC(t){return t&&typeof t=="object"&&mC(t)===yC}function Pv(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ga(...t){let e=En(t),n=vv(t),{args:r,keys:i}=Mv(t);if(r.length===0)return me([],e);let s=new Q(IC(r,e,i?o=>Pv(i,o):st));return n?s.pipe(xv(n)):s}function IC(t,e,n=st){return r=>{Nv(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)Nv(e,()=>{let u=me(t[c],e),l=!1;u.subscribe(X(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Nv(t,e,n){t?tt(n,t,e):e()}function Ov(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=I=>u<r?g(I):c.push(I),g=I=>{s&&e.next(I),u++;let m=!1;Ae(n(I,l++)).subscribe(X(e,E=>{i?.(E),s?f(E):e.next(E)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;c.length&&u<r;){let E=c.shift();o?tt(e,o,()=>g(E)):g(E)}h()}catch(E){e.error(E)}}))};return t.subscribe(X(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Se(t,e,n=1/0){return j(e)?Se((r,i)=>B((s,o)=>e(r,s,i,o))(Ae(t(r,i))),n):(typeof e=="number"&&(n=e),Z((r,i)=>Ov(r,i,t,n)))}function wd(t=1/0){return Se(st,t)}function kv(){return wd(1)}function ni(...t){return kv()(me(t,En(t)))}function Wa(t){return new Q(e=>{Ae(t()).subscribe(e)})}function nt(t,e){return Z((n,r)=>{let i=0;n.subscribe(X(r,s=>t.call(e,s,i++)&&r.next(s)))})}function bn(t){return Z((e,n)=>{let r=null,i=!1,s;r=e.subscribe(X(n,void 0,void 0,o=>{s=Ae(t(o,bn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Lv(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(X(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Cn(t,e){return j(e)?Se(t,e,1):Se(t,1)}function Sn(t){return Z((e,n)=>{let r=!1;e.subscribe(X(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function nn(t){return t<=0?()=>ht:Z((e,n)=>{let r=0;e.subscribe(X(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Id(t){return B(()=>t)}function Ka(t=_C){return Z((e,n)=>{let r=!1;e.subscribe(X(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function _C(){return new tn}function or(t){return Z((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ot(t,e){let n=arguments.length>=2;return r=>r.pipe(t?nt((i,s)=>t(i,s,r)):st,nn(1),n?Sn(e):Ka(()=>new tn))}function ri(t){return t<=0?()=>ht:Z((e,n)=>{let r=[];e.subscribe(X(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function _d(t,e){let n=arguments.length>=2;return r=>r.pipe(t?nt((i,s)=>t(i,s,r)):st,ri(1),n?Sn(e):Ka(()=>new tn))}function Qa(t,e){return Z(Lv(t,e,arguments.length>=2,!0))}function Ya(...t){let e=En(t);return Z((n,r)=>{(e?ni(t,n,e):ni(t,n)).subscribe(r)})}function at(t,e){return Z((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(X(r,c=>{i?.unsubscribe();let u=0,l=s++;Ae(t(c,l)).subscribe(i=X(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ed(t){return Z((e,n)=>{Ae(t).subscribe(X(n,()=>n.complete(),ds)),!n.closed&&e.subscribe(n)})}function Ie(t,e,n){let r=j(t)||e||n?{next:t,error:e,complete:n}:t;return r?Z((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(X(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):st}var Ew="https://g.co/ng/security#xss",P=class extends Error{constructor(e,n){super(Cc(e,n)),this.code=e}};function Cc(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var Vd=class extends ot{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=J(null);try{super.next(e)}finally{J(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Td(s),i&&(i=Td(i)),o&&(o=Td(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof we&&e.add(a),a}};function Td(t){return e=>{setTimeout(t,void 0,e)}}var Dt=Vd;var G=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(G||{});function ut(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ut).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function jd(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Tw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Tw||{}),Ft=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ft||{});function Ns(t){return{toString:t}.toString()}var rn=globalThis;var ms={},ct=[];function ue(t){for(let e in t)if(t[e]===ue)return e;throw Error("Could not find renamed property on target object.")}var EC=ue({\u0275cmp:ue}),TC=ue({\u0275dir:ue}),DC=ue({\u0275pipe:ue}),bC=ue({\u0275mod:ue}),ac=ue({\u0275fac:ue}),fs=ue({__NG_ELEMENT_ID__:ue}),Fv=ue({__NG_ENV_ID__:ue}),Rn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Rn||{});function Dw(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Ud(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];SC(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function CC(t){return t===3||t===4||t===6}function SC(t){return t.charCodeAt(0)===64}function Sh(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Vv(t,n,i,null,e[++r]):Vv(t,n,i,null,null))}}return t}function Vv(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var bw="ng-template";function AC(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&Dw(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function Cw(t){return t.type===4&&t.value!==bw}function RC(t,e,n){let r=t.type===4&&!n?bw:t.value;return e===r}function xC(t,e,n){let r=4,i=t.attrs||[],s=NC(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Tt(r)&&!Tt(c))return!1;if(o&&Tt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!RC(t,c,n)||c===""&&e.length===1){if(Tt(r))return!1;o=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!AC(t.attrs,u,n)){if(Tt(r))return!1;o=!0}continue}let l=r&8?"class":c,d=MC(l,i,Cw(t),n);if(d===-1){if(Tt(r))return!1;o=!0;continue}if(u!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&Dw(f,u,0)!==-1||r&2&&u!==h){if(Tt(r))return!1;o=!0}}}}return Tt(r)||o}function Tt(t){return(t&1)===0}function MC(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return OC(e,t)}function PC(t,e,n=!1){for(let r=0;r<e.length;r++)if(xC(t,e[r],n))return!0;return!1}function NC(t){for(let e=0;e<t.length;e++){let n=t[e];if(CC(n))return e}return t.length}function OC(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function jv(t,e){return t?":not("+e.trim()+")":e}function kC(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Tt(o)&&(e+=jv(s,i),i=""),r=o,s=s||!Tt(r);n++}return i!==""&&(e+=jv(s,i)),e}function LC(t){return t.map(kC).join(",")}function FC(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Tt(i))break;i=s}r++}return{attrs:e,classes:n}}function je(t){return Ns(()=>{let e=Mw(t),n=ge(A({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Tw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ft.Emulated,styles:t.styles||ct,_:null,schemas:t.schemas||null,tView:null,id:""});Pw(n);let r=t.dependencies;return n.directiveDefs=Bv(r,!1),n.pipeDefs=Bv(r,!0),n.id=UC(n),n})}function VC(t){return cr(t)||Sw(t)}function jC(t){return t!==null}function Pn(t){return Ns(()=>({type:t.type,bootstrap:t.bootstrap||ct,declarations:t.declarations||ct,imports:t.imports||ct,exports:t.exports||ct,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Uv(t,e){if(t==null)return ms;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Rn.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Rn.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Ah(t){return Ns(()=>{let e=Mw(t);return Pw(e),e})}function cr(t){return t[EC]||null}function Sw(t){return t[TC]||null}function Aw(t){return t[DC]||null}function Rw(t){let e=cr(t)||Sw(t)||Aw(t);return e!==null?e.standalone:!1}function xw(t,e){let n=t[bC]||null;if(!n&&e===!0)throw new Error(`Type ${ut(t)} does not have '\u0275mod' property.`);return n}function Mw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ms,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||ct,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Uv(t.inputs,e),outputs:Uv(t.outputs),debugInfo:null}}function Pw(t){t.features?.forEach(e=>e(t))}function Bv(t,e){if(!t)return null;let n=e?Aw:VC;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(jC)}function UC(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var cn=0,W=1,N=2,Ve=3,bt=4,At=5,ys=6,vs=7,Ke=8,ui=9,sn=10,Oe=11,ws=12,$v=13,mi=14,Ct=15,Sc=16,ii=17,li=18,Ac=19,Nw=20,ps=21,Dd=22,ur=23,St=25,Ow=1;var lr=7,cc=8,uc=9,Qe=10,Rh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Rh||{});function ai(t){return Array.isArray(t)&&typeof t[Ow]=="object"}function un(t){return Array.isArray(t)&&t[Ow]===!0}function kw(t){return(t.flags&4)!==0}function Rc(t){return t.componentOffset>-1}function xh(t){return(t.flags&1)===1}function Os(t){return!!t.template}function BC(t){return(t[N]&512)!==0}var $C="svg",zC="math",qC=!1;function HC(){return qC}function Vt(t){for(;Array.isArray(t);)t=t[cn];return t}function Lw(t,e){return Vt(e[t])}function gt(t,e){return Vt(e[t.index])}function Mh(t,e){return t.data[e]}function pr(t,e){let n=e[t];return ai(n)?n:n[cn]}function Ph(t){return(t[N]&128)===128}function GC(t){return un(t[Ve])}function lc(t,e){return e==null?null:t[e]}function Fw(t){t[ii]=0}function WC(t){t[N]&1024||(t[N]|=1024,Ph(t)&&Is(t))}function KC(t,e){for(;t>0;)e=e[mi],t--;return e}function Nh(t){return!!(t[N]&9216||t[ur]?.dirty)}function Bd(t){Nh(t)?Is(t):t[N]&64&&(HC()?(t[N]|=1024,Is(t)):t[sn].changeDetectionScheduler?.notify())}function Is(t){t[sn].changeDetectionScheduler?.notify();let e=_s(t);for(;e!==null&&!(e[N]&8192||(e[N]|=8192,!Ph(e)));)e=_s(e)}function QC(t,e){if((t[N]&256)===256)throw new P(911,!1);t[ps]===null&&(t[ps]=[]),t[ps].push(e)}function _s(t){let e=t[Ve];return un(e)?e[Ve]:e}var ee={lFrame:qw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function YC(){return ee.lFrame.elementDepthCount}function JC(){ee.lFrame.elementDepthCount++}function ZC(){ee.lFrame.elementDepthCount--}function Vw(){return ee.bindingsEnabled}function XC(){return ee.skipHydrationRootTNode!==null}function eS(t){return ee.skipHydrationRootTNode===t}function tS(){ee.skipHydrationRootTNode=null}function pe(){return ee.lFrame.lView}function jt(){return ee.lFrame.tView}function ln(){let t=jw();for(;t!==null&&t.type===64;)t=t.parent;return t}function jw(){return ee.lFrame.currentTNode}function nS(){let t=ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ks(t,e){let n=ee.lFrame;n.currentTNode=t,n.isParent=e}function Uw(){return ee.lFrame.isParent}function rS(){ee.lFrame.isParent=!1}function iS(t){return ee.lFrame.bindingIndex=t}function Ls(){return ee.lFrame.bindingIndex++}function sS(t){let e=ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function oS(){return ee.lFrame.inI18n}function aS(t,e){let n=ee.lFrame;n.bindingIndex=n.bindingRootIndex=t,$d(e)}function cS(){return ee.lFrame.currentDirectiveIndex}function $d(t){ee.lFrame.currentDirectiveIndex=t}function uS(t){let e=ee.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Bw(t){ee.lFrame.currentQueryIndex=t}function lS(t){let e=t[W];return e.type===2?e.declTNode:e.type===1?t[At]:null}function $w(t,e,n){if(n&G.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&G.Host);)if(i=lS(s),i===null||(s=s[mi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ee.lFrame=zw();return r.currentTNode=e,r.lView=t,!0}function Oh(t){let e=zw(),n=t[W];ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function zw(){let t=ee.lFrame,e=t===null?null:t.child;return e===null?qw(t):e}function qw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Hw(){let t=ee.lFrame;return ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Gw=Hw;function kh(){let t=Hw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function dS(t){return(ee.lFrame.contextLView=KC(t,ee.lFrame.contextLView))[Ke]}function gr(){return ee.lFrame.selectedIndex}function dr(t){ee.lFrame.selectedIndex=t}function Lh(){let t=ee.lFrame;return Mh(t.tView,t.selectedIndex)}function hS(){return ee.lFrame.currentNamespace}var Ww=!0;function Fh(){return Ww}function Vh(t){Ww=t}function fS(){return jh(ln(),pe())}function jh(t,e){return new xc(gt(t,e))}var xc=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=fS;let t=e;return t})();function Uh(t,e){t.forEach(n=>Array.isArray(n)?Uh(n,e):e(n))}function Kw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pS(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Qw(t,e,n){let r=Fs(t,e);return r>=0?t[r|1]=n:(r=~r,pS(t,r,e,n)),r}function bd(t,e){let n=Fs(t,e);if(n>=0)return t[n|1]}function Fs(t,e){return gS(t,e,1)}function gS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}function Yw(t){return(t.flags&128)===128}var zd;function Jw(t){zd=t}function Zw(){if(zd!==void 0)return zd;if(typeof document<"u")return document;throw new P(210,!1)}function R(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Nn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Mc(t){return zv(t,eI)||zv(t,tI)}function Xw(t){return Mc(t)!==null}function zv(t,e){return t.hasOwnProperty(e)?t[e]:null}function mS(t){let e=t&&(t[eI]||t[tI]);return e||null}function qv(t){return t&&(t.hasOwnProperty(Hv)||t.hasOwnProperty(yS))?t[Hv]:null}var eI=ue({\u0275prov:ue}),Hv=ue({\u0275inj:ue}),tI=ue({ngInjectableDef:ue}),yS=ue({ngInjectorDef:ue}),k=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},Bh=new k("",{providedIn:"root",factory:()=>vS}),vS="ng",$h=new k(""),Ut=new k("",{providedIn:"platform",factory:()=>"unknown"});var zh=new k("",{providedIn:"root",factory:()=>Zw().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var wS=ue({__forward_ref__:ue});function nI(t){return t.__forward_ref__=nI,t.toString=function(){return ut(this())},t}function pt(t){return rI(t)?t():t}function rI(t){return typeof t=="function"&&t.hasOwnProperty(wS)&&t.__forward_ref__===nI}function iI(t){return t&&!!t.\u0275providers}function Vs(t){return typeof t=="string"?t:t==null?"":String(t)}function IS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Vs(t)}function _S(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new P(-200,t)}function qh(t,e){throw new P(-201,!1)}var qd;function ES(){return qd}function ft(t){let e=qd;return qd=t,e}function sI(t,e,n){let r=Mc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&G.Optional)return null;if(e!==void 0)return e;qh(t,"Injector")}var TS={},Es=TS,Hd="__NG_DI_FLAG__",hc="ngTempTokenPath",DS="ngTokenPath",bS=/\n/gm,CS="\u0275",Gv="__source",gs;function An(t){let e=gs;return gs=t,e}function SS(t,e=G.Default){if(gs===void 0)throw new P(-203,!1);return gs===null?sI(t,void 0,e):gs.get(t,e&G.Optional?null:void 0,e)}function x(t,e=G.Default){return(ES()||SS)(pt(t),e)}function b(t,e=G.Default){return x(t,Pc(e))}function Pc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Gd(t){let e=[];for(let n=0;n<t.length;n++){let r=pt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new P(900,!1);let i,s=G.Default;for(let o=0;o<r.length;o++){let a=r[o],c=RS(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(x(i,s))}else e.push(x(r))}return e}function AS(t,e){return t[Hd]=e,t.prototype[Hd]=e,t}function RS(t){return t[Hd]}function xS(t,e,n,r){let i=t[hc];throw e[Gv]&&i.unshift(e[Gv]),t.message=MS(`
`+t.message,i,n,r),t[DS]=i,t[hc]=null,t}function MS(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==CS?t.slice(2):t;let i=ut(e);if(Array.isArray(e))i=e.map(ut).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ut(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(bS,`
  `)}`}var PS="h",NS="b";var OS=()=>null;function Hh(t,e,n=!1){return OS(t,e,n)}var Ja="__parameters__";function kS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function LS(t,e,n){return Ns(()=>{let r=kS(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(Ja)?c[Ja]:Object.defineProperty(c,Ja,{value:[]})[Ja];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Bt=AS(LS("Optional"),8);function di(t,e){let n=t.hasOwnProperty(ac);return n?t[ac]:null}var hi=new k(""),oI=new k("",-1),aI=new k(""),fc=class{get(e,n=Es){if(n===Es){let r=new Error(`NullInjectorError: No provider for ${ut(e)}!`);throw r.name="NullInjectorError",r}return n}};function yi(t){return{\u0275providers:t}}function Nc(...t){return{\u0275providers:cI(!0,t),\u0275fromNgModule:!0}}function cI(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Uh(e,o=>{let a=o;Wd(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&uI(i,s),n}function uI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Gh(i,s=>{e(s,r)})}}function Wd(t,e,n,r){if(t=pt(t),!t)return!1;let i=null,s=qv(t),o=!s&&cr(t);if(!s&&!o){let c=t.ngModule;if(s=qv(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Wd(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Uh(s.imports,l=>{Wd(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&uI(u,e)}if(!a){let u=di(i)||(()=>new i);e({provide:i,useFactory:u,deps:ct},i),e({provide:aI,useValue:i,multi:!0},i),e({provide:hi,useValue:()=>x(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;Gh(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Gh(t,e){for(let n of t)iI(n)&&(n=n.\u0275providers),Array.isArray(n)?Gh(n,e):e(n)}var FS=ue({provide:String,useValue:ue});function lI(t){return t!==null&&typeof t=="object"&&FS in t}function VS(t){return!!(t&&t.useExisting)}function jS(t){return!!(t&&t.useFactory)}function Kd(t){return typeof t=="function"}var Oc=new k(""),nc={},US={},Cd;function Wh(){return Cd===void 0&&(Cd=new fc),Cd}var rt=class{},Ts=class extends rt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yd(e,o=>this.processProvider(o)),this.records.set(oI,si(void 0,this)),i.has("environment")&&this.records.set(rt,si(void 0,this));let s=this.records.get(Oc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(aI,ct,G.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=J(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),J(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=An(this),r=ft(void 0),i;try{return e()}finally{An(n),ft(r)}}get(e,n=Es,r=G.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Fv))return e[Fv](this);r=Pc(r);let i,s=An(this),o=ft(void 0);try{if(!(r&G.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=GS(e)&&Mc(e);u&&this.injectableDefInScope(u)?c=si(Qd(e),nc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&G.Self?Wh():this.parent;return n=r&G.Optional&&n===Es?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[hc]=a[hc]||[]).unshift(ut(e)),s)throw a;return xS(a,e,"R3InjectorError",this.source)}else throw a}finally{ft(o),An(s)}}resolveInjectorInitializers(){let e=J(null),n=An(this),r=ft(void 0),i;try{let s=this.get(hi,ct,G.Self);for(let o of s)o()}finally{An(n),ft(r),J(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(e){e=pt(e);let n=Kd(e)?e:pt(e&&e.provide),r=$S(e);if(!Kd(e)&&e.multi===!0){let i=this.records.get(n);i||(i=si(void 0,nc,!0),i.factory=()=>Gd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=J(null);try{return n.value===nc&&(n.value=US,n.value=n.factory()),typeof n.value=="object"&&n.value&&HS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{J(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=pt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Qd(t){let e=Mc(t),n=e!==null?e.factory:di(t);if(n!==null)return n;if(t instanceof k)throw new P(204,!1);if(t instanceof Function)return BS(t);throw new P(204,!1)}function BS(t){if(t.length>0)throw new P(204,!1);let n=mS(t);return n!==null?()=>n.factory(t):()=>new t}function $S(t){if(lI(t))return si(void 0,t.useValue);{let e=zS(t);return si(e,nc)}}function zS(t,e,n){let r;if(Kd(t)){let i=pt(t);return di(i)||Qd(i)}else if(lI(t))r=()=>pt(t.useValue);else if(jS(t))r=()=>t.useFactory(...Gd(t.deps||[]));else if(VS(t))r=()=>x(pt(t.useExisting));else{let i=pt(t&&(t.useClass||t.provide));if(qS(t))r=()=>new i(...Gd(t.deps));else return di(i)||Qd(i)}return r}function si(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function qS(t){return!!t.deps}function HS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function GS(t){return typeof t=="function"||typeof t=="object"&&t instanceof k}function Yd(t,e){for(let n of t)Array.isArray(n)?Yd(n,e):n&&iI(n)?Yd(n.\u0275providers,e):e(n)}function dn(t,e){t instanceof Ts&&t.assertNotDestroyed();let n,r=An(t),i=ft(void 0);try{return e()}finally{An(r),ft(i)}}function WS(t){return typeof t=="function"}var Jd=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function dI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function kc(){return hI}function hI(t){return t.type.prototype.ngOnChanges&&(t.setInput=QS),KS}kc.ngInherit=!0;function KS(){let t=pI(this),e=t?.current;if(e){let n=t.previous;if(n===ms)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function QS(t,e,n,r,i){let s=this.declaredInputs[r],o=pI(t)||YS(t,{previous:ms,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Jd(u&&u.currentValue,n,c===ms),dI(t,e,i,n)}var fI="__ngSimpleChanges__";function pI(t){return t[fI]||null}function YS(t,e){return t[fI]=e}var Wv=null;var kt=function(t,e,n){Wv?.(t,e,n)};function JS(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=hI(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Kh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function rc(t,e,n){gI(t,e,3,n)}function ic(t,e,n,r){(t[N]&3)===n&&gI(t,e,n,r)}function Sd(t,e){let n=t[N];(n&3)===e&&(n&=16383,n+=1,t[N]=n)}function gI(t,e,n,r){let i=r!==void 0?t[ii]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[ii]+=65536),(a<s||s==-1)&&(ZS(t,n,e,c),t[ii]=(t[ii]&4294901760)+c+2),c++}function Kv(t,e){kt(4,t,e);let n=J(null);try{e.call(t)}finally{J(n),kt(5,t,e)}}function ZS(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[N]>>14<t[ii]>>16&&(t[N]&3)===e&&(t[N]+=16384,Kv(a,s)):Kv(a,s)}var ci=-1,Ds=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function XS(t){return t instanceof Ds}function eA(t){return(t.flags&8)!==0}function tA(t){return(t.flags&16)!==0}function mI(t){return t!==ci}function pc(t){return t&32767}function nA(t){return t>>16}function gc(t,e){let n=nA(t),r=e;for(;n>0;)r=r[mi],n--;return r}var Zd=!0;function Qv(t){let e=Zd;return Zd=t,e}var rA=256,yI=rA-1,vI=5,iA=0,Lt={};function sA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(fs)&&(r=n[fs]),r==null&&(r=n[fs]=iA++);let i=r&yI,s=1<<i;e.data[t+(i>>vI)]|=s}function wI(t,e){let n=II(t,e);if(n!==-1)return n;let r=e[W];r.firstCreatePass&&(t.injectorIndex=e.length,Ad(r.data,t),Ad(e,null),Ad(r.blueprint,null));let i=Qh(t,e),s=t.injectorIndex;if(mI(i)){let o=pc(i),a=gc(i,e),c=a[W].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Ad(t,e){t.push(0,0,0,0,0,0,0,0,e)}function II(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Qh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=bI(i),r===null)return ci;if(n++,i=i[mi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ci}function oA(t,e,n){sA(t,e,n)}function _I(t,e,n){if(n&G.Optional||t!==void 0)return t;qh(e,"NodeInjector")}function EI(t,e,n,r){if(n&G.Optional&&r===void 0&&(r=null),!(n&(G.Self|G.Host))){let i=t[ui],s=ft(void 0);try{return i?i.get(e,r,n&G.Optional):sI(e,r,n&G.Optional)}finally{ft(s)}}return _I(r,e,n)}function TI(t,e,n,r=G.Default,i){if(t!==null){if(e[N]&2048&&!(r&G.Self)){let o=dA(t,e,n,r,Lt);if(o!==Lt)return o}let s=DI(t,e,n,r,Lt);if(s!==Lt)return s}return EI(e,n,r,i)}function DI(t,e,n,r,i){let s=uA(n);if(typeof s=="function"){if(!$w(e,t,r))return r&G.Host?_I(i,n,r):EI(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&G.Optional))qh(n);else return o}finally{Gw()}}else if(typeof s=="number"){let o=null,a=II(t,e),c=ci,u=r&G.Host?e[Ct][At]:null;for((a===-1||r&G.SkipSelf)&&(c=a===-1?Qh(t,e):e[a+8],c===ci||!Jv(r,!1)?a=-1:(o=e[W],a=pc(c),e=gc(c,e)));a!==-1;){let l=e[W];if(Yv(s,a,l.data)){let d=aA(a,e,n,o,r,u);if(d!==Lt)return d}c=e[a+8],c!==ci&&Jv(r,e[W].data[a+8]===u)&&Yv(s,a,e)?(o=l,a=pc(c),e=gc(c,e)):a=-1}}return i}function aA(t,e,n,r,i,s){let o=e[W],a=o.data[t+8],c=r==null?Rc(a)&&Zd:r!=o&&(a.type&3)!==0,u=i&G.Host&&s===a,l=cA(a,o,n,c,u);return l!==null?bs(e,o,l,a):Lt}function cA(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let g=o[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=o[c];if(f&&Os(f)&&f.type===n)return c}return null}function bs(t,e,n,r){let i=t[n],s=e.data;if(XS(i)){let o=i;o.resolving&&_S(IS(s[n]));let a=Qv(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?ft(o.injectImpl):null,l=$w(t,r,G.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&JS(n,s[n],e)}finally{u!==null&&ft(u),Qv(a),o.resolving=!1,Gw()}}return i}function uA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(fs)?t[fs]:void 0;return typeof e=="number"?e>=0?e&yI:lA:e}function Yv(t,e,n){let r=1<<t;return!!(n[e+(t>>vI)]&r)}function Jv(t,e){return!(t&G.Self)&&!(t&G.Host&&e)}var ar=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return TI(this._tNode,this._lView,e,Pc(r),n)}};function lA(){return new ar(ln(),pe())}function Yh(t){return Ns(()=>{let e=t.prototype.constructor,n=e[ac]||Xd(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[ac]||Xd(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Xd(t){return rI(t)?()=>{let e=Xd(pt(t));return e&&e()}:di(t)}function dA(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[N]&2048&&!(o[N]&512);){let a=DI(s,o,n,r|G.Self,Lt);if(a!==Lt)return a;let c=s.parent;if(!c){let u=o[Nw];if(u){let l=u.get(n,Lt,r);if(l!==Lt)return l}c=bI(o),o=o[mi]}s=c}return i}function bI(t){let e=t[W],n=e.type;return n===2?e.declTNode:n===1?t[At]:null}function Zv(t,e=null,n=null,r){let i=CI(t,e,n,r);return i.resolveInjectorInitializers(),i}function CI(t,e=null,n=null,r,i=new Set){let s=[n||ct,Nc(t)];return r=r||(typeof t=="object"?void 0:ut(t)),new Ts(s,e||Wh(),r||null,i)}var hn=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Zv({name:""},i,r,"");{let s=r.name??"";return Zv({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Es,e.NULL=new fc,e.\u0275prov=R({token:e,providedIn:"any",factory:()=>x(oI)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),hA="ngOriginalError";function Rd(t){return t[hA]}var on=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Rd(e);for(;n&&Rd(n);)n=Rd(n);return n||null}},SI=new k("",{providedIn:"root",factory:()=>b(on).handleError.bind(void 0)});var AI=!1,fA=new k("",{providedIn:"root",factory:()=>AI}),Za;function pA(){if(Za===void 0&&(Za=null,rn.trustedTypes))try{Za=rn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Za}function Lc(t){return pA()?.createHTML(t)||t}var Xa;function gA(){if(Xa===void 0&&(Xa=null,rn.trustedTypes))try{Xa=rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Xa}function Xv(t){return gA()?.createHTML(t)||t}var mc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ew})`}};function vi(t){return t instanceof mc?t.changingThisBreaksApplicationSecurity:t}function Jh(t,e){let n=mA(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Ew})`)}return n===e}function mA(t){return t instanceof mc&&t.getTypeName()||null}function yA(t){let e=new th(t);return vA()?new eh(e):e}var eh=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Lc(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},th=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Lc(e),n}};function vA(){try{return!!new window.DOMParser().parseFromString(Lc(""),"text/html")}catch{return!1}}var wA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Zh(t){return t=String(t),t.match(wA)?t:"unsafe:"+t}function fn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function js(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var RI=fn("area,br,col,hr,img,wbr"),xI=fn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),MI=fn("rp,rt"),IA=js(MI,xI),_A=js(xI,fn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),EA=js(MI,fn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ew=js(RI,_A,EA,IA),PI=fn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),TA=fn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),DA=fn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),bA=js(PI,TA,DA),CA=fn("script,style,template"),nh=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!ew.hasOwnProperty(n))return this.sanitizedSomething=!0,!CA.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!bA.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;PI[a]&&(c=Zh(c)),this.buf.push(" ",o,'="',tw(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();ew.hasOwnProperty(n)&&!RI.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(tw(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},SA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,AA=/([^\#-~ |!])/g;function tw(t){return t.replace(/&/g,"&amp;").replace(SA,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(AA,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var ec;function NI(t,e){let n=null;try{ec=ec||yA(t);let r=e?String(e):"";n=ec.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=ec.getInertBodyElement(r)}while(r!==s);let a=new nh().sanitizeChildren(nw(n)||n);return Lc(a)}finally{if(n){let r=nw(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function nw(t){return"content"in t&&RA(t)?t.content:null}function RA(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Fc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Fc||{});function OI(t){let e=kI();return e?Xv(e.sanitize(Fc.HTML,t)||""):Jh(t,"HTML")?Xv(vi(t)):NI(Zw(),Vs(t))}function Us(t){let e=kI();return e?e.sanitize(Fc.URL,t)||"":Jh(t,"URL")?vi(t):Zh(Vs(t))}function kI(){let t=pe();return t&&t[sn].sanitizer}var LI=new Map,xA=0;function MA(){return xA++}function PA(t){LI.set(t[Ac],t)}function NA(t){LI.delete(t[Ac])}var rw="__ngContext__";function hr(t,e){ai(e)?(t[rw]=e[Ac],PA(e)):t[rw]=e}function FI(t){return t instanceof Function?t():t}var an=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(an||{}),OA;function Xh(t,e){return OA(t,e)}function oi(t,e,n,r,i){if(r!=null){let s,o=!1;un(r)?s=r:ai(r)&&(o=!0,r=r[cn]);let a=Vt(r);t===0&&n!==null?i==null?BI(e,n,a):yc(e,n,a,i||null,!0):t===1&&n!==null?yc(e,n,a,i||null,!0):t===2?JA(e,a,o):t===3&&e.destroyNode(a),s!=null&&XA(e,t,s,n,i)}}function kA(t,e){return t.createText(e)}function LA(t,e,n){t.setValue(e,n)}function VI(t,e,n){return t.createElement(e,n)}function FA(t,e){jI(t,e),e[cn]=null,e[At]=null}function VA(t,e,n,r,i,s){r[cn]=i,r[At]=e,jc(t,r,n,1,i,s)}function jI(t,e){jc(t,e,e[Oe],2,null,null)}function jA(t){let e=t[ws];if(!e)return xd(t[W],t);for(;e;){let n=null;if(ai(e))n=e[ws];else{let r=e[Qe];r&&(n=r)}if(!n){for(;e&&!e[bt]&&e!==t;)ai(e)&&xd(e[W],e),e=e[Ve];e===null&&(e=t),ai(e)&&xd(e[W],e),n=e&&e[bt]}e=n}}function UA(t,e,n,r){let i=Qe+r,s=n.length;r>0&&(n[i-1][bt]=e),r<s-Qe?(e[bt]=n[i],Kw(n,Qe+r,e)):(n.push(e),e[bt]=null),e[Ve]=n;let o=e[Sc];o!==null&&n!==o&&BA(o,e);let a=e[li];a!==null&&a.insertView(t),Bd(e),e[N]|=128}function BA(t,e){let n=t[uc],i=e[Ve][Ve][Ct];e[Ct]!==i&&(t[N]|=Rh.HasTransplantedViews),n===null?t[uc]=[e]:n.push(e)}function UI(t,e){let n=t[uc],r=n.indexOf(e);n.splice(r,1)}function Cs(t,e){if(t.length<=Qe)return;let n=Qe+e,r=t[n];if(r){let i=r[Sc];i!==null&&i!==t&&UI(i,r),e>0&&(t[n-1][bt]=r[bt]);let s=dc(t,Qe+e);FA(r[W],r);let o=s[li];o!==null&&o.detachView(s[W]),r[Ve]=null,r[bt]=null,r[N]&=-129}return r}function Vc(t,e){if(!(e[N]&256)){let n=e[Oe];n.destroyNode&&jc(t,e,n,3,null,null),jA(e)}}function xd(t,e){if(e[N]&256)return;let n=J(null);try{e[N]&=-129,e[N]|=256,e[ur]&&av(e[ur]),zA(t,e),$A(t,e),e[W].type===1&&e[Oe].destroy();let r=e[Sc];if(r!==null&&un(e[Ve])){r!==e[Ve]&&UI(r,e);let i=e[li];i!==null&&i.detachView(t)}NA(e)}finally{J(n)}}function $A(t,e){let n=t.cleanup,r=e[vs];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[vs]=null);let i=e[ps];if(i!==null){e[ps]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function zA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ds)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];kt(4,a,c);try{c.call(a)}finally{kt(5,a,c)}}else{kt(4,i,s);try{s.call(i)}finally{kt(5,i,s)}}}}}function qA(t,e,n){return HA(t,e.parent,n)}function HA(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[cn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Ft.None||s===Ft.Emulated)return null}return gt(r,n)}}function yc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function BI(t,e,n){t.appendChild(e,n)}function iw(t,e,n,r,i){r!==null?yc(t,e,n,r,i):BI(t,e,n)}function GA(t,e,n,r){t.removeChild(e,n,r)}function ef(t,e){return t.parentNode(e)}function WA(t,e){return t.nextSibling(e)}function KA(t,e,n){return YA(t,e,n)}function QA(t,e,n){return t.type&40?gt(t,n):null}var YA=QA,sw;function tf(t,e,n,r){let i=qA(t,r,e),s=e[Oe],o=r.parent||e[At],a=KA(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)iw(s,i,n[c],a,!1);else iw(s,i,n,a,!1);sw!==void 0&&sw(s,r,e,n,i)}function sc(t,e){if(e!==null){let n=e.type;if(n&3)return gt(e,t);if(n&4)return rh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return sc(t,r);{let i=t[e.index];return un(i)?rh(-1,i):Vt(i)}}else{if(n&32)return Xh(e,t)()||Vt(t[e.index]);{let r=$I(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=_s(t[Ct]);return sc(i,r)}else return sc(t,e.next)}}}return null}function $I(t,e){if(e!==null){let r=t[Ct][At],i=e.projection;return r.projection[i]}return null}function rh(t,e){let n=Qe+t+1;if(n<e.length){let r=e[n],i=r[W].firstChild;if(i!==null)return sc(r,i)}return e[lr]}function JA(t,e,n){let r=ef(t,e);r&&GA(t,r,e,n)}function nf(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&hr(Vt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)nf(t,e,n.child,r,i,s,!1),oi(e,t,i,a,s);else if(c&32){let u=Xh(n,r),l;for(;l=u();)oi(e,t,i,l,s);oi(e,t,i,a,s)}else c&16?ZA(t,e,r,n,i,s):oi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function jc(t,e,n,r,i,s){nf(n,r,t.firstChild,e,i,s,!1)}function ZA(t,e,n,r,i,s){let o=n[Ct],c=o[At].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];oi(e,t,i,l,s)}else{let u=c,l=o[Ve];Yw(r)&&(u.flags|=128),nf(t,e,u,l,i,s,!0)}}function XA(t,e,n,r,i){let s=n[lr],o=Vt(n);s!==o&&oi(e,t,r,s,i);for(let a=Qe;a<n.length;a++){let c=n[a];jc(c[W],c,t,e,r,s)}}function eR(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:an.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=an.Important),t.setStyle(n,r,i,s))}}function tR(t,e,n){t.setAttribute(e,"style",n)}function zI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function qI(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Ud(t,e,r),i!==null&&zI(t,e,i),s!==null&&tR(t,e,s)}var On={};function fe(t=1){HI(jt(),pe(),gr()+t,!1)}function HI(t,e,n,r){if(!r)if((e[N]&3)===3){let s=t.preOrderCheckHooks;s!==null&&rc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&ic(e,s,0,n)}dr(n)}function Ye(t,e=G.Default){let n=pe();if(n===null)return x(t,e);let r=ln();return TI(r,n,pt(t),e)}function GI(t,e,n,r,i,s){let o=J(null);try{let a=null;i&Rn.SignalBased&&(a=e[r][rv]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Rn.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):dI(e,a,r,s)}finally{J(o)}}function nR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)dr(~i);else{let s=i,o=n[++r],a=n[++r];aS(o,s);let c=e[s];a(2,c)}}}finally{dr(-1)}}function Uc(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[cn]=i,d[N]=r|4|128|8|64,(u!==null||t&&t[N]&2048)&&(d[N]|=2048),Fw(d),d[Ve]=d[mi]=t,d[Ke]=n,d[sn]=o||t&&t[sn],d[Oe]=a||t&&t[Oe],d[ui]=c||t&&t[ui]||null,d[At]=s,d[Ac]=MA(),d[ys]=l,d[Nw]=u,d[Ct]=e.type==2?t[Ct]:d,d}function Bc(t,e,n,r,i){let s=t.data[e];if(s===null)s=rR(t,e,n,r,i),oS()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=nS();s.injectorIndex=o===null?-1:o.injectorIndex}return ks(s,!0),s}function rR(t,e,n,r,i){let s=jw(),o=Uw(),a=o?s:s&&s.parent,c=t.data[e]=cR(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function WI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function KI(t,e,n,r,i){let s=gr(),o=r&2;try{dr(-1),o&&e.length>St&&HI(t,e,St,!1),kt(o?2:0,i),n(r,i)}finally{dr(s),kt(o?3:1,i)}}function QI(t,e,n){if(kw(e)){let r=J(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{J(r)}}}function YI(t,e,n){Vw()&&(pR(t,e,n,gt(n,e)),(n.flags&64)===64&&n_(t,e,n))}function JI(t,e,n=gt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function ZI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=rf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function rf(t,e,n,r,i,s,o,a,c,u,l){let d=St+r,h=d+i,f=iR(d,h),g=typeof u=="function"?u():u;return f[W]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function iR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:On);return n}function sR(t,e,n,r){let s=r.get(fA,AI)||n===Ft.ShadowDom,o=t.selectRootElement(e,s);return oR(o),o}function oR(t){aR(t)}var aR=()=>null;function cR(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return XC()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ow(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=Rn.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?aw(r,n,u,a,c):aw(r,n,u,a)}return r}function aw(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function uR(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=ow(0,d.inputs,l,c,f),u=ow(1,d.outputs,l,u,g);let I=c!==null&&o!==null&&!Cw(e)?bR(c,l,o):null;a.push(I)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function lR(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function XI(t,e,n,r,i,s,o,a){let c=gt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(sf(t,n,l,r,i),Rc(e)&&dR(n,e.index)):e.type&3?(r=lR(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function dR(t,e){let n=pr(e,t);n[N]&16||(n[N]|=64)}function e_(t,e,n,r){if(Vw()){let i=r===null?null:{"":-1},s=mR(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&t_(t,e,n,o,i,a),i&&yR(n,r,i)}n.mergedAttrs=Sh(n.mergedAttrs,n.attrs)}function t_(t,e,n,r,i,s){for(let u=0;u<r.length;u++)oA(wI(n,e),t,r[u].type);wR(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=WI(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Sh(n.mergedAttrs,l.hostAttrs),IR(t,n,e,c,l),vR(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}uR(t,n,s)}function hR(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;fR(o)!=a&&o.push(a),o.push(n,r,s)}}function fR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function pR(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Rc(n)&&_R(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||wI(n,e),hr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=bs(e,t,a,n);if(hr(u,e),o!==null&&DR(e,a-i,u,c,n,o),Os(c)){let l=pr(n.index,e);l[Ke]=bs(e,t,a,n)}}}function n_(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=cS();try{dr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];$d(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&gR(c,u)}}finally{dr(-1),$d(o)}}function gR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function mR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(PC(e,o.selectors,!1))if(r||(r=[]),Os(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;ih(t,e,c)}else r.unshift(o),ih(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function ih(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function yR(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new P(-301,!1);r.push(e[i],s)}}}function vR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Os(e)&&(n[""]=t)}}function wR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function IR(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=di(i.type,!0)),o=new Ds(s,Os(i),Ye);t.blueprint[r]=o,n[r]=o,hR(t,e,r,WI(t,n,i.hostVars,On),i)}function _R(t,e,n){let r=gt(e,t),i=ZI(n),s=t[sn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=$c(t,Uc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function ER(t,e,n,r,i,s){let o=gt(t,e);TR(e[Oe],o,s,t.value,n,r,i)}function TR(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Vs(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function DR(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];GI(r,n,c,u,l,d)}}function bR(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function r_(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function i_(t,e){let n=t.contentQueries;if(n!==null){let r=J(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Bw(s),a.contentQueries(2,e[o],o)}}}finally{J(r)}}}function $c(t,e){return t[ws]?t[$v][bt]=e:t[ws]=e,t[$v]=e,e}function sh(t,e,n){Bw(0);let r=J(null);try{e(t,n)}finally{J(r)}}function CR(t){return t[vs]||(t[vs]=[])}function SR(t){return t.cleanup||(t.cleanup=[])}function s_(t,e){let n=t[ui],r=n?n.get(on,null):null;r&&r.handleError(e)}function sf(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];GI(l,u,r,a,c,i)}}function AR(t,e,n){let r=Lw(e,t);LA(t[Oe],r,n)}function RR(t,e){let n=pr(e,t),r=n[W];xR(r,n);let i=n[cn];i!==null&&n[ys]===null&&(n[ys]=Hh(i,n[ui])),of(r,n,n[Ke])}function xR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function of(t,e,n){Oh(e);try{let r=t.viewQuery;r!==null&&sh(1,r,n);let i=t.template;i!==null&&KI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[li]?.finishViewCreation(t),t.staticContentQueries&&i_(t,e),t.staticViewQueries&&sh(2,t.viewQuery,n);let s=t.components;s!==null&&MR(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[N]&=-5,kh()}}function MR(t,e){for(let n=0;n<e.length;n++)RR(t,e[n])}function af(t,e,n,r){let i=J(null);try{let s=e.tView,a=t[N]&4096?4096:16,c=Uc(t,s,n,a,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),u=t[e.index];c[Sc]=u;let l=t[li];return l!==null&&(c[li]=l.createEmbeddedView(s)),of(s,c,n),c}finally{J(i)}}function o_(t,e){let n=Qe+e;if(n<t.length)return t[n]}function Ss(t,e){return!e||e.firstChild===null||Yw(t)}function zc(t,e,n,r=!0){let i=e[W];if(UA(i,e,t,n),r){let o=rh(n,t),a=e[Oe],c=ef(a,t[lr]);c!==null&&VA(i,t[At],a,e,c,o)}let s=e[ys];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function a_(t,e){let n=Cs(t,e);return n!==void 0&&Vc(n[W],n),n}function vc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Vt(s)),un(s)&&PR(s,r);let o=n.type;if(o&8)vc(t,e,n.child,r);else if(o&32){let a=Xh(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=$I(e,n);if(Array.isArray(a))r.push(...a);else{let c=_s(e[Ct]);vc(c[W],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function PR(t,e){for(let n=Qe;n<t.length;n++){let r=t[n],i=r[W].firstChild;i!==null&&vc(r[W],r,i,e)}t[lr]!==t[cn]&&e.push(t[lr])}var c_=[];function NR(t){return t[ur]??OR(t)}function OR(t){let e=c_.pop()??Object.create(LR);return e.lView=t,e}function kR(t){t.lView[ur]!==t&&(t.lView=null,c_.push(t))}var LR=ge(A({},iv),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Is(t.lView)},consumerOnSignalRead(){this.lView[ur]=this}});function u_(t){return d_(t[ws])}function l_(t){return d_(t[bt])}function d_(t){for(;t!==null&&!un(t);)t=t[bt];return t}var h_=100;function f_(t,e=!0,n=0){let r=t[sn],i=r.rendererFactory,s=!1;s||i.begin?.();try{FR(t,n)}catch(o){throw e&&s_(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function FR(t,e){oh(t,e);let n=0;for(;Nh(t);){if(n===h_)throw new P(103,!1);n++,oh(t,1)}}function VR(t,e,n,r){let i=e[N];if((i&256)===256)return;let s=!1;!s&&e[sn].inlineEffectRunner?.flush(),Oh(e);let o=null,a=null;!s&&jR(t)&&(a=NR(e),o=sv(a));try{Fw(e),iS(t.bindingStartIndex),n!==null&&KI(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&rc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&ic(e,d,0,null),Sd(e,0)}if(UR(e),p_(e,0),t.contentQueries!==null&&i_(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&rc(e,d)}else{let d=t.contentHooks;d!==null&&ic(e,d,1),Sd(e,1)}nR(t,e);let u=t.components;u!==null&&m_(e,u,0);let l=t.viewQuery;if(l!==null&&sh(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&rc(e,d)}else{let d=t.viewHooks;d!==null&&ic(e,d,2),Sd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Dd]){for(let d of e[Dd])d();e[Dd]=null}s||(e[N]&=-73)}catch(c){throw Is(e),c}finally{a!==null&&(ov(a,o),kR(a)),kh()}}function jR(t){return t.type!==2}function p_(t,e){for(let n=u_(t);n!==null;n=l_(n))for(let r=Qe;r<n.length;r++){let i=n[r];g_(i,e)}}function UR(t){for(let e=u_(t);e!==null;e=l_(e)){if(!(e[N]&Rh.HasTransplantedViews))continue;let n=e[uc];for(let r=0;r<n.length;r++){let i=n[r],s=i[Ve];WC(i)}}}function BR(t,e,n){let r=pr(e,t);g_(r,n)}function g_(t,e){Ph(t)&&oh(t,e)}function oh(t,e){let r=t[W],i=t[N],s=t[ur],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&rd(s)),s&&(s.dirty=!1),t[N]&=-9217,o)VR(r,t,r.template,t[Ke]);else if(i&8192){p_(t,1);let a=r.components;a!==null&&m_(t,a,1)}}function m_(t,e,n){for(let r=0;r<e.length;r++)BR(t,e[r],n)}function cf(t){for(t[sn].changeDetectionScheduler?.notify();t;){t[N]|=64;let e=_s(t);if(BC(t)&&!e)return t;t=e}return null}var fi=class{get rootNodes(){let e=this._lView,n=e[W];return vc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ke]}set context(e){this._lView[Ke]=e}get destroyed(){return(this._lView[N]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ve];if(un(e)){let n=e[cc],r=n?n.indexOf(this):-1;r>-1&&(Cs(e,r),dc(n,r))}this._attachedToViewContainer=!1}Vc(this._lView[W],this._lView)}onDestroy(e){QC(this._lView,e)}markForCheck(){cf(this._cdRefInjectingView||this._lView)}detach(){this._lView[N]&=-129}reattach(){Bd(this._lView),this._lView[N]|=128}detectChanges(){this._lView[N]|=1024,f_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,jI(this._lView[W],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e,Bd(this._lView)}};var iz=new RegExp(`^(\\d+)*(${NS}|${PS})*(.*)`);var $R=()=>null;function As(t,e){return $R(t,e)}var ah=class{},ch=class{},wc=class{};function zR(t){let e=Error(`No component factory found for ${ut(t)}.`);return e[qR]=t,e}var qR="ngComponent";var uh=class{resolveComponentFactory(e){throw zR(e)}},qc=(()=>{let e=class e{};e.NULL=new uh;let t=e;return t})(),Rs=class{};var HR=(()=>{let e=class e{};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Md={};var cw=new Set;function Bs(t){cw.has(t)||(cw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function uw(...t){}function GR(){let t=typeof rn.requestAnimationFrame=="function",e=rn[t?"requestAnimationFrame":"setTimeout"],n=rn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ce=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dt(!1),this.onMicrotaskEmpty=new Dt(!1),this.onStable=new Dt(!1),this.onError=new Dt(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=GR().nativeRequestAnimationFrame,QR(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new P(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,WR,uw,uw);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},WR={};function uf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function KR(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(rn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,lh(t),t.isCheckStableRunning=!0,uf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),lh(t))}function QR(t){let e=()=>{KR(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(YR(a))return n.invokeTask(i,s,o,a);try{return lw(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),dw(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return lw(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),dw(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,lh(t),uf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function lh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function lw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function dw(t){t._nesting--,uf(t)}function YR(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var y_=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function dh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=jd(i,a);else if(s==2){let c=a,u=e[++o];r=jd(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ic=class extends qc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=cr(e);return new xs(n,this.ngModule)}};function hw(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function JR(t){let e=t.toLowerCase();return e==="svg"?$C:e==="math"?zC:null}var hh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Pc(r);let i=this.injector.get(e,Md,r);return i!==Md||n===Md?i:this.parentInjector.get(e,n,r)}},xs=class extends wc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=hw(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return hw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=LC(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=J(null);try{i=i||this.ngModule;let o=i instanceof rt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new hh(e,o):e,c=a.get(Rs,null);if(c===null)throw new P(407,!1);let u=a.get(HR,null),l=a.get(y_,null),d=a.get(ah,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",I=r?sR(f,r,this.componentDef.encapsulation,a):VI(f,g,JR(g)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let E=null;I!==null&&(E=Hh(I,a,!0));let K=rf(0,null,null,1,0,null,null,null,null,null,null),q=Uc(null,K,null,m,null,null,h,f,a,null,E);Oh(q);let V,de;try{let H=this.componentDef,he,it=null;H.findHostDirectiveDefs?(he=[],it=new Map,H.findHostDirectiveDefs(H,he,it),he.push(H)):he=[H];let tr=ZR(q,I),qr=XR(tr,I,H,he,q,h,f);de=Mh(K,St),I&&nx(f,H,I,r),n!==void 0&&rx(de,this.ngContentSelectors,n),V=tx(qr,H,he,it,q,[ix]),of(K,q,null)}finally{kh()}return new fh(this.componentType,V,jh(de,q),q,de)}finally{J(s)}}},fh=class extends ch{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new fi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;sf(s[W],s,i,e,n),this.previousInputValues.set(e,n);let o=pr(this._tNode.index,s);cf(o)}}get injector(){return new ar(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ZR(t,e){let n=t[W],r=St;return t[r]=e,Bc(n,r,2,"#host",null)}function XR(t,e,n,r,i,s,o){let a=i[W];ex(r,t,e,o);let c=null;e!==null&&(c=Hh(e,i[ui]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Uc(i,ZI(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&ih(a,t,r.length-1),$c(i,d),i[t.index]=d}function ex(t,e,n,r){for(let i of t)e.mergedAttrs=Sh(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(dh(e,e.mergedAttrs,!0),n!==null&&qI(r,n,e))}function tx(t,e,n,r,i,s){let o=ln(),a=i[W],c=gt(o,i);t_(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=bs(i,a,d,o);hr(h,i)}n_(a,i,o),c&&hr(c,i);let u=bs(i,a,o.directiveStart+o.componentOffset,o);if(t[Ke]=i[Ke]=u,s!==null)for(let l of s)l(u,e);return QI(a,o,i),u}function nx(t,e,n,r){if(r)Ud(t,n,["ng-version","17.2.4"]);else{let{attrs:i,classes:s}=FC(e.selectors[0]);i&&Ud(t,n,i),s&&s.length>0&&zI(t,n,s.join(" "))}}function rx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function ix(){let t=ln();Kh(pe()[W],t)}var Hc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=sx;let t=e;return t})();function sx(){let t=ln();return ax(t,pe())}var ox=Hc,v_=class extends ox{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return jh(this._hostTNode,this._hostLView)}get injector(){return new ar(this._hostTNode,this._hostLView)}get parentInjector(){let e=Qh(this._hostTNode,this._hostLView);if(mI(e)){let n=gc(e,this._hostLView),r=pc(e),i=n[W].data[r+8];return new ar(i,n)}else return new ar(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=fw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Qe}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=As(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Ss(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!WS(e),a;if(o)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let c=o?e:new xs(cr(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let I=(o?u:this.parentInjector).get(rt,null);I&&(s=I)}let l=cr(c.componentType??{}),d=As(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,Ss(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(GC(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ve],u=new v_(c,c[At],c[Ve]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return zc(o,i,s,r),e.attachToViewContainerRef(),Kw(Pd(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=fw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Cs(this._lContainer,n);r&&(dc(Pd(this._lContainer),n),Vc(r[W],r))}detach(e){let n=this._adjustIndex(e,-1),r=Cs(this._lContainer,n);return r&&dc(Pd(this._lContainer),n)!=null?new fi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function fw(t){return t[cc]}function Pd(t){return t[cc]||(t[cc]=[])}function ax(t,e){let n,r=e[t.index];return un(r)?n=r:(n=r_(r,e,null,t),e[t.index]=n,$c(e,n)),ux(n,e,t,r),new v_(n,t,e)}function cx(t,e){let n=t[Oe],r=n.createComment(""),i=gt(e,t),s=ef(n,i);return yc(n,s,r,WA(n,i),!1),r}var ux=hx,lx=()=>!1;function dx(t,e,n){return lx(t,e,n)}function hx(t,e,n,r){if(t[lr])return;let i;n.type&8?i=Vt(r):i=cx(e,n),t[lr]=i}var xn=class{},Ms=class{};var ph=class extends xn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ic(this);let i=xw(e);this._bootstrapComponents=FI(i.bootstrap),this._r3Injector=CI(e,n,[{provide:xn,useValue:this},{provide:qc,useValue:this.componentFactoryResolver},...r],ut(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},gh=class extends Ms{constructor(e){super(),this.moduleType=e}create(e){return new ph(this.moduleType,e,[])}};var _c=class extends xn{constructor(e){super(),this.componentFactoryResolver=new Ic(this),this.instance=null;let n=new Ts([...e.providers,{provide:xn,useValue:this},{provide:qc,useValue:this.componentFactoryResolver}],e.parent||Wh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function lf(t,e,n=null){return new _c({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var wi=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ne(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ii(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function fx(t,e,n,r,i,s,o,a,c){let u=e.consts,l=Bc(e,t,4,o||null,lc(u,a));e_(e,n,l,lc(u,c)),Kh(e,l);let d=l.tView=rf(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function pi(t,e,n,r,i,s,o,a){let c=pe(),u=jt(),l=t+St,d=u.firstCreatePass?fx(l,u,c,e,n,r,i,s,o):u.data[l];ks(d,!1);let h=px(u,c,d,t);Fh()&&tf(u,c,h,d),hr(h,c);let f=r_(h,c,h,d);return c[l]=f,$c(c,f),dx(f,d,c),xh(d)&&YI(u,c,d),o!=null&&JI(c,d,a),pi}var px=gx;function gx(t,e,n,r){return Vh(!0),e[Oe].createComment("")}function Gc(t,e,n,r){let i=pe(),s=Ls();if(Ii(i,s,e)){let o=jt(),a=Lh();ER(a,i,t,e,n,r)}return Gc}function df(t,e,n,r){return Ii(t,Ls(),n)?e+Vs(n)+r:On}function tc(t,e){return t<<17|e<<2}function fr(t){return t>>17&32767}function mx(t){return(t&2)==2}function yx(t,e){return t&131071|e<<17}function mh(t){return t|2}function gi(t){return(t&131068)>>2}function Nd(t,e){return t&-131069|e<<2}function vx(t){return(t&1)===1}function yh(t){return t|1}function wx(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=fr(o),c=gi(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Fs(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=fr(t[a+1]);t[r+1]=tc(h,a),h!==0&&(t[h+1]=Nd(t[h+1],r)),t[a+1]=yx(t[a+1],r)}else t[r+1]=tc(a,0),a!==0&&(t[a+1]=Nd(t[a+1],r)),a=r;else t[r+1]=tc(c,0),a===0?a=r:t[c+1]=Nd(t[c+1],r),c=r;u&&(t[r+1]=mh(t[r+1])),pw(t,l,r,!0),pw(t,l,r,!1),Ix(e,l,t,r,s),o=tc(a,c),s?e.classBindings=o:e.styleBindings=o}function Ix(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Fs(s,e)>=0&&(n[r+1]=yh(n[r+1]))}function pw(t,e,n,r){let i=t[n+1],s=e===null,o=r?fr(i):gi(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];_x(c,e)&&(a=!0,t[o+1]=r?yh(u):mh(u)),o=r?fr(u):gi(u)}a&&(t[n+1]=r?mh(i):yh(i))}function _x(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Fs(t,e)>=0:!1}var We={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ex(t){return t.substring(We.key,We.keyEnd)}function Tx(t){return t.substring(We.value,We.valueEnd)}function Dx(t){return bx(t),w_(t,Ec(t,0,We.textEnd))}function w_(t,e){let n=We.textEnd,r=We.key=Ec(t,e,n);return n===r?-1:(r=We.keyEnd=Cx(t,r,n),r=gw(t,r,n,58),r=We.value=Ec(t,r,n),r=We.valueEnd=Sx(t,r,n),gw(t,r,n,59))}function bx(t){We.key=0,We.keyEnd=0,We.value=0,We.valueEnd=0,We.textEnd=t.length}function Ec(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Cx(t,e,n){let r;for(;e<n&&((r=t.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function gw(t,e,n,r){return e=Ec(t,e,n),e<n&&e++,e}function Sx(t,e,n){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<n;){let c=t.charCodeAt(o++);if(c===59)return a;c===34||c===39?a=o=mw(t,c,o,n):e===o-4&&s===85&&i===82&&r===76&&c===40?a=o=mw(t,41,o,n):c>32&&(a=o),s=i,i=r,r=c&-33}return a}function mw(t,e,n,r){let i=-1,s=n;for(;s<r;){let o=t.charCodeAt(s++);if(o==e&&i!==92)return s;o==92&&i===92?i=0:i=o}throw new Error}function $t(t,e,n){let r=pe(),i=Ls();if(Ii(r,i,e)){let s=jt(),o=Lh();XI(s,o,r,t,e,r[Oe],n,!1)}return $t}function vh(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";sf(t,n,s[o],o,r)}function Ax(t){xx(__,Rx,t,!1)}function Rx(t,e){for(let n=Dx(e);n>=0;n=w_(e,n))__(t,Ex(e),Tx(e))}function xx(t,e,n,r){let i=jt(),s=sS(2);i.firstUpdatePass&&Mx(i,null,s,r);let o=pe();if(n!==On&&Ii(o,s,n)){let a=i.data[gr()];if(E_(a,r)&&!I_(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=jd(c,n||"")),vh(i,a,o,n,r)}else Fx(i,a,o,o[Oe],o[s+1],o[s+1]=Lx(t,e,n),r,s)}}function I_(t,e){return e>=t.expandoStartIndex}function Mx(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[gr()],o=I_(t,n);E_(s,r)&&e===null&&!o&&(e=!1),e=Px(i,s,e,r),wx(i,s,e,n,o,r)}}function Px(t,e,n,r){let i=uS(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Od(null,t,e,n,r),n=Ps(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Od(i,t,e,n,r),s===null){let c=Nx(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Od(null,t,e,c[1],r),c=Ps(c,e.attrs,r),Ox(t,e,r,c))}else s=kx(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function Nx(t,e,n){let r=n?e.classBindings:e.styleBindings;if(gi(r)!==0)return t[fr(r)]}function Ox(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[fr(i)]=r}function kx(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Ps(r,o,n)}return Ps(r,e.attrs,n)}function Od(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ps(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ps(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Qw(t,o,n?!0:e[++s]))}return t===void 0?null:t}function Lx(t,e,n){if(n==null||n==="")return ct;let r=[],i=vi(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function __(t,e,n){Qw(t,e,vi(n))}function Fx(t,e,n,r,i,s,o,a){i===On&&(i=ct);let c=0,u=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;l!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,f=u<s.length?s[u+1]:void 0,g=null,I;l===d?(c+=2,u+=2,h!==f&&(g=d,I=f)):d===null||l!==null&&l<d?(c+=2,g=l):(u+=2,g=d,I=f),g!==null&&Vx(t,e,n,r,g,I,o,a),l=c<i.length?i[c]:null,d=u<s.length?s[u]:null}}function Vx(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=vx(u)?yw(c,e,n,i,gi(u),o):void 0;if(!Tc(l)){Tc(s)||mx(u)&&(s=yw(c,null,n,i,a,o));let d=Lw(gr(),n);eR(r,o,d,i,s)}}function yw(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===On&&(h=d?ct:void 0);let f=d?bd(h,r):l===r?h:void 0;if(u&&!Tc(f)&&(f=bd(c,r)),Tc(f)&&(a=f,o))return a;let g=t[i+1];i=o?fr(g):gi(g)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=bd(c,r))}return a}function Tc(t){return t!==void 0}function E_(t,e){return(t.flags&(e?8:16))!==0}var wh=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function kd(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function jx(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let c=t.at(s),u=e[s],l=kd(s,c,s,u,n);if(l!==0){l<0&&t.updateValue(s,u),s++;continue}let d=t.at(o),h=e[a],f=kd(o,d,a,h,n);if(f!==0){f<0&&t.updateValue(o,h),o--,a--;continue}let g=n(s,c),I=n(o,d),m=n(s,u);if(Object.is(m,I)){let E=n(a,h);Object.is(E,g)?(t.swap(s,o),t.updateValue(o,h),a--,o--):t.move(o,s),t.updateValue(s,u),s++;continue}if(r??=new Dc,i??=ww(t,s,o,n),Ih(t,r,s,m))t.updateValue(s,u),s++,o++;else if(i.has(m))r.set(g,t.detach(s)),o--;else{let E=t.create(s,e[s]);t.attach(s,E),s++,o++}}for(;s<=a;)vw(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&s<=o;){let u=t.at(s),l=c.value,d=kd(s,u,s,l,n);if(d!==0)d<0&&t.updateValue(s,l),s++,c=a.next();else{r??=new Dc,i??=ww(t,s,o,n);let h=n(s,l);if(Ih(t,r,s,h))t.updateValue(s,l),s++,o++,c=a.next();else if(!i.has(h))t.attach(s,t.create(s,l)),s++,o++,c=a.next();else{let f=n(s,u);r.set(f,t.detach(s)),o--}}}for(;!c.done;)vw(t,r,n,t.length,c.value),c=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function Ih(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function vw(t,e,n,r,i){if(Ih(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function ww(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var Dc=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function $s(t,e,n){Bs("NgControlFlow");let r=pe(),i=Ls(),s=Dh(r,St+t),o=0;if(Ii(r,i,e)){let a=J(null);try{if(a_(s,o),e!==-1){let c=bh(r[W],St+e),u=As(s,c.tView.ssrId),l=af(r,c,n,{dehydratedView:u});zc(s,l,o,Ss(c,u))}}finally{J(a)}}else{let a=o_(s,o);a!==void 0&&(a[Ke]=n)}}var _h=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Qe}};function kn(t){return t}var Eh=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Ln(t,e,n,r,i,s,o,a,c,u,l,d,h){Bs("NgControlFlow");let f=c!==void 0,g=pe(),I=a?o.bind(g[Ct][Ke]):o,m=new Eh(f,I);g[St+t]=m,pi(t+1,e,n,r,i,s),f&&pi(t+2,c,u,l,d,h)}var Th=class extends wh{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Qe}at(e){return this.getLView(e)[Ke].$implicit}attach(e,n){let r=n[ys];this.needsIndexUpdate||=e!==this.length,zc(this.lContainer,n,e,Ss(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Ux(this.lContainer,e)}create(e,n){let r=As(this.lContainer,this.templateTNode.tView.ssrId);return af(this.hostLView,this.templateTNode,new _h(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Vc(e[W],e)}updateValue(e,n){this.getLView(e)[Ke].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ke].$index=e}getLView(e){return Bx(this.lContainer,e)}};function Fn(t){let e=J(null),n=gr();try{let r=pe(),i=r[W],s=r[n];if(s.liveCollection===void 0){let a=n+1,c=Dh(r,a),u=bh(i,a);s.liveCollection=new Th(c,r,u)}else s.liveCollection.reset();let o=s.liveCollection;if(jx(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=Ls(),c=o.length===0;if(Ii(r,a,c)){let u=n+2,l=Dh(r,u);if(c){let d=bh(i,u),h=As(l,d.tView.ssrId),f=af(r,d,void 0,{dehydratedView:h});zc(l,f,0,Ss(d,h))}else a_(l,0)}}}finally{J(e)}}function Dh(t,e){return t[e]}function Ux(t,e){return Cs(t,e)}function Bx(t,e){return o_(t,e)}function bh(t,e){return Mh(t,e)}function $x(t,e,n,r,i,s){let o=e.consts,a=lc(o,i),c=Bc(e,t,2,r,a);return e_(e,n,c,lc(o,s)),c.attrs!==null&&dh(c,c.attrs,!1),c.mergedAttrs!==null&&dh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function v(t,e,n,r){let i=pe(),s=jt(),o=St+t,a=i[Oe],c=s.firstCreatePass?$x(o,s,i,e,n,r):s.data[o],u=zx(s,i,c,a,e,t);i[o]=u;let l=xh(c);return ks(c,!0),qI(a,u,c),(c.flags&32)!==32&&Fh()&&tf(s,i,u,c),YC()===0&&hr(u,i),JC(),l&&(YI(s,i,c),QI(s,c,i)),r!==null&&JI(i,c),v}function _(){let t=ln();Uw()?rS():(t=t.parent,ks(t,!1));let e=t;eS(e)&&tS(),ZC();let n=jt();return n.firstCreatePass&&(Kh(n,t),kw(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&eA(e)&&vh(n,e,pe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&tA(e)&&vh(n,e,pe(),e.stylesWithoutHost,!1),_}function L(t,e,n,r){return v(t,e,n,r),_(),L}var zx=(t,e,n,r,i,s)=>(Vh(!0),VI(r,i,hS()));var bc="en-US";var qx=bc;function Hx(t){typeof t=="string"&&(qx=t.toLowerCase().replace(/_/g,"-"))}function mr(t,e,n,r){let i=pe(),s=jt(),o=ln();return Wx(s,i,i[Oe],o,t,e,r),mr}function Gx(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[vs],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function Wx(t,e,n,r,i,s,o){let a=xh(r),u=t.firstCreatePass&&SR(t),l=e[Ke],d=CR(e),h=!0;if(r.type&3||o){let I=gt(r,e),m=o?o(I):I,E=d.length,K=o?V=>o(Vt(V[r.index])):r.index,q=null;if(!o&&a&&(q=Gx(t,e,i,r.index)),q!==null){let V=q.__ngLastListenerFn__||q;V.__ngNextListenerFn__=s,q.__ngLastListenerFn__=s,h=!1}else{s=_w(r,e,l,s,!1);let V=n.listen(m,i,s);d.push(s,V),u&&u.push(i,K,E,E+1)}}else s=_w(r,e,l,s,!1);let f=r.outputs,g;if(h&&f!==null&&(g=f[i])){let I=g.length;if(I)for(let m=0;m<I;m+=2){let E=g[m],K=g[m+1],de=e[E][K].subscribe(s),H=d.length;if(d.push(s,de),u){let he=typeof de=="function"?H+1:-(H+1);u.push(i,r.index,H,he)}}}}function Iw(t,e,n,r){let i=J(null);try{return kt(6,e,n),n(r)!==!1}catch(s){return s_(t,s),!1}finally{kt(7,e,n),J(i)}}function _w(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?pr(t.index,e):e;cf(a);let c=Iw(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=Iw(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function zs(t=1){return dS(t)}function Wc(t,e,n){return T_(t,"",e,"",n),Wc}function T_(t,e,n,r,i){let s=pe(),o=df(s,e,n,r);if(o!==On){let a=jt(),c=Lh();XI(a,c,s,t,o,s[Oe],i,!1)}return T_}function D_(t,e,n){let r=pe(),i=df(r,t,e,n);Ax(i)}function C(t,e=""){let n=pe(),r=jt(),i=t+St,s=r.firstCreatePass?Bc(r,i,1,e,null):r.data[i],o=Kx(r,n,s,e,t);n[i]=o,Fh()&&tf(r,n,o,s),ks(s,!1)}var Kx=(t,e,n,r,i)=>(Vh(!0),kA(e[Oe],r));function _i(t){return Kc("",t,""),_i}function Kc(t,e,n){let r=pe(),i=df(r,t,e,n);return i!==On&&AR(r,gr(),i),Kc}var Qx=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=cI(!1,r.type),s=i.length>0?lf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=R({token:e,providedIn:"environment",factory:()=>new e(x(rt))});let t=e;return t})();function Ue(t){Bs("NgStandalone"),t.getStandaloneInjector=e=>e.get(Qx).getOrCreateStandaloneInjector(t)}var Mn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},b_=new Mn("17.2.4"),Qc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var C_=new k("");function qs(t){return!!t&&typeof t.then=="function"}function S_(t){return!!t&&typeof t.subscribe=="function"}var A_=new k(""),R_=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=b(A_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(qs(o))r.push(o);else if(S_(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yc=new k("");function Yx(){cv(()=>{throw new P(600,!1)})}function Jx(t){return t.isBoundToModule}function Zx(t,e,n){try{let r=n();return qs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Ei=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=b(SI),this.afterRenderEffectManager=b(y_),this.componentTypes=[],this.components=[],this.isStable=b(wi).hasPendingTasks.pipe(B(r=>!r)),this._injector=b(rt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof wc;if(!this._injector.get(R_).done){let f=!s&&Rw(r),g=!1;throw new P(405,g)}let a;s?a=r:a=this._injector.get(qc).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=Jx(a)?void 0:this._injector.get(xn),u=i||a.selector,l=a.create(hn.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(C_,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Ld(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new P(101,!1);let r=J(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,J(r)}}detectChangesInAttachedViews(){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===h_)throw new P(103,!1);let s=r===0;for(let{_lView:o,notifyErrorHandler:a}of this._views)!s&&!Fd(o)||this.detectChangesInView(o,a,s);if(r++,i.executeInternalCallbacks(),!this._views.some(({_lView:o})=>Fd(o))&&(i.execute(),!this._views.some(({_lView:o})=>Fd(o))))break}}detectChangesInView(r,i,s){let o;s?(o=0,r[N]|=1024):r[N]&64?o=0:o=1,f_(r,i,o)}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Ld(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Yc,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ld(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new P(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ld(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Fd(t){return Nh(t)}var Ch=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},hf=(()=>{let e=class e{compileModuleSync(r){return new gh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=xw(r),o=FI(s.declarations).reduce((a,c)=>{let u=cr(c);return u&&a.push(new xs(u)),a},[]);return new Ch(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Xx=(()=>{let e=class e{constructor(){this.zone=b(ce),this.applicationRef=b(Ei)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function eM(t){return[{provide:ce,useFactory:t},{provide:hi,multi:!0,useFactory:()=>{let e=b(Xx,{optional:!0});return()=>e.initialize()}},{provide:hi,multi:!0,useFactory:()=>{let e=b(iM);return()=>{e.initialize()}}},{provide:SI,useFactory:tM}]}function tM(){let t=b(ce),e=b(on);return n=>t.runOutsideAngular(()=>e.handleError(n))}function nM(t){let e=eM(()=>new ce(rM(t)));return yi([[],e])}function rM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var iM=(()=>{let e=class e{constructor(){this.subscription=new we,this.initialized=!1,this.zone=b(ce),this.pendingTasks=b(wi)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ce.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ce.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sM(){return typeof $localize<"u"&&$localize.locale||bc}var ff=new k("",{providedIn:"root",factory:()=>b(ff,G.Optional|G.SkipSelf)||sM()});var x_=new k("");var oc=null;function oM(t=[],e){return hn.create({name:e,providers:[{provide:Oc,useValue:"platform"},{provide:x_,useValue:new Set([()=>oc=null])},...t]})}function aM(t=[]){if(oc)return oc;let e=oM(t);return oc=e,Yx(),cM(e),e}function cM(t){t.get($h,null)?.forEach(n=>n())}var Hs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=uM;let t=e;return t})();function uM(t){return lM(ln(),pe(),(t&16)===16)}function lM(t,e,n){if(Rc(t)&&!n){let r=pr(t.index,e);return new fi(r,r)}else if(t.type&47){let r=e[Ct];return new fi(r,e)}return null}function M_(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=aM(r),s=[nM(),...n||[]],a=new _c({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(ce);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(on,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=i.get(x_);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),Zx(u,c,()=>{let f=a.get(R_);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(ff,bc);Hx(g||bc);let I=a.get(Ei);return e!==void 0&&I.bootstrap(e),I})})})}catch(e){return Promise.reject(e)}}var k_=null;function vr(){return k_}function L_(t){k_??=t}var Jc=class{};var Ze=new k(""),F_=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>b(pM),providedIn:"platform"});let t=e;return t})();var pM=(()=>{let e=class e extends F_{constructor(){super(),this._doc=b(Ze),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vr().getBaseHref(this._doc)}onPopState(r){let i=vr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=vr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function V_(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function P_(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function yr(t){return t&&t[0]!=="?"?"?"+t:t}var Zc=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>b(j_),providedIn:"root"});let t=e;return t})(),gM=new k(""),j_=(()=>{let e=class e extends Zc{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??b(Ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return V_(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+yr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+yr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+yr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(x(F_),x(gM,8))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Gs=(()=>{let e=class e{constructor(r){this._subject=new Dt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=vM(P_(N_(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+yr(i))}normalize(r){return e.stripTrailingSlash(yM(this._basePath,N_(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+yr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+yr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=yr,e.joinWithSlash=V_,e.stripTrailingSlash=P_,e.\u0275fac=function(i){return new(i||e)(x(Zc))},e.\u0275prov=R({token:e,factory:()=>mM(),providedIn:"root"});let t=e;return t})();function mM(){return new Gs(x(Zc))}function yM(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function N_(t){return t.replace(/\/index.html$/,"")}function vM(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Xc(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var U_="browser",wM="server";function pf(t){return t===wM}var Ti=class{};var Ks=class{},Qs=class{},pn=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var yf=class{encodeKey(e){return B_(e)}encodeValue(e){return B_(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function TM(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var DM=/%(\d[a-f0-9])/gi,bM={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function B_(t){return encodeURIComponent(t).replace(DM,(e,n)=>bM[n]??e)}function eu(t){return`${t}`}var jn=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new yf,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=TM(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(eu):[eu(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(eu(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(eu(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var vf=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function CM(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function $_(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function z_(t){return typeof Blob<"u"&&t instanceof Blob}function q_(t){return typeof FormData<"u"&&t instanceof FormData}function SM(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ws=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(CM(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new pn,this.context??=new vf,!this.params)this.params=new jn,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:$_(this.body)||z_(this.body)||q_(this.body)||SM(this.body)||typeof this.body=="string"?this.body:this.body instanceof jn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||q_(this.body)?null:z_(this.body)?this.body.type||null:$_(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof jn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,l=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),u)),new t(n,r,s,{params:u,headers:c,context:l,reportProgress:a,responseType:i,withCredentials:o})}},Un=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Un||{}),Ys=class{constructor(e,n=Zs.Ok,r="OK"){this.headers=e.headers||new pn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},tu=class t extends Ys{constructor(e={}){super(e),this.type=Un.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Js=class t extends Ys{constructor(e={}){super(e),this.type=Un.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Vn=class extends Ys{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Zs=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Zs||{});function gf(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var _f=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Ws)o=r;else{let u;s.headers instanceof pn?u=s.headers:u=new pn(s.headers);let l;s.params&&(s.params instanceof jn?l=s.params:l=new jn({fromObject:s.params})),o=new Ws(r,i,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=O(o).pipe(Cn(u=>this.handler.handle(u)));if(r instanceof Ws||s.observe==="events")return a;let c=a.pipe(nt(u=>u instanceof Js));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(B(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(B(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(B(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(B(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new jn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,gf(s,i))}post(r,i,s={}){return this.request("POST",r,gf(s,i))}put(r,i,s={}){return this.request("PUT",r,gf(s,i))}};e.\u0275fac=function(i){return new(i||e)(x(Ks))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),AM=/^\)\]\}',?\n/,RM="X-Request-URL";function H_(t){if(t.url)return t.url;let e=RM.toLocaleLowerCase();return t.headers.get(e)}var mf=(()=>{let e=class e{constructor(){this.fetchImpl=b(wf,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=b(ce)}handle(r){return new Q(i=>{let s=new AbortController;return this.doRequest(r,s.signal,i).then(If,o=>i.error(new Vn({error:o}))),()=>s.abort()})}doRequest(r,i,s){return p(this,null,function*(){let o=this.createRequestInit(r),a;try{let g=this.fetchImpl(r.urlWithParams,A({signal:i},o));xM(g),s.next({type:Un.Sent}),a=yield g}catch(g){s.error(new Vn({error:g,status:g.status??0,statusText:g.statusText,url:r.urlWithParams,headers:g.headers}));return}let c=new pn(a.headers),u=a.statusText,l=H_(a)??r.urlWithParams,d=a.status,h=null;if(r.reportProgress&&s.next(new tu({headers:c,status:d,statusText:u,url:l})),a.body){let g=a.headers.get("content-length"),I=[],m=a.body.getReader(),E=0,K,q,V=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>p(this,null,function*(){for(;;){let{done:H,value:he}=yield m.read();if(H)break;if(I.push(he),E+=he.length,r.reportProgress){q=r.responseType==="text"?(q??"")+(K??=new TextDecoder).decode(he,{stream:!0}):void 0;let it=()=>s.next({type:Un.DownloadProgress,total:g?+g:void 0,loaded:E,partialText:q});V?V.run(it):it()}}}));let de=this.concatChunks(I,E);try{let H=a.headers.get("Content-Type")??"";h=this.parseBody(r,de,H)}catch(H){s.error(new Vn({error:H,headers:new pn(a.headers),status:a.status,statusText:a.statusText,url:H_(a)??r.urlWithParams}));return}}d===0&&(d=h?Zs.Ok:0),d>=200&&d<300?(s.next(new Js({body:h,headers:c,status:d,statusText:u,url:l})),s.complete()):s.error(new Vn({error:h,headers:c,status:d,statusText:u,url:l}))})}parseBody(r,i,s){switch(r.responseType){case"json":let o=new TextDecoder().decode(i).replace(AM,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:s});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},s=r.withCredentials?"include":void 0;if(r.headers.forEach((o,a)=>i[o]=a.join(",")),i.Accept??="application/json, text/plain, */*",!i["Content-Type"]){let o=r.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:s}}concatChunks(r,i){let s=new Uint8Array(i),o=0;for(let a of r)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),wf=class{};function If(){}function xM(t){t.then(If,If)}function MM(t,e){return e(t)}function PM(t,e,n){return(r,i)=>dn(n,()=>e(r,s=>t(s,i)))}var K_=new k(""),NM=new k(""),Q_=new k("");var G_=(()=>{let e=class e extends Ks{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=b(wi);let s=b(Q_,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(K_),...this.injector.get(NM,[])]));this.chain=s.reduceRight((o,a)=>PM(o,a,this.injector),MM)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(or(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(x(Qs),x(rt))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();var OM=/^\)\]\}',?\n/;function kM(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var W_=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new P(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?me(i.\u0275loadImpl()):O(null)).pipe(at(()=>new Q(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((m,E)=>a.setRequestHeader(m,E.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let m=r.detectContentTypeHeader();m!==null&&a.setRequestHeader("Content-Type",m)}if(r.responseType){let m=r.responseType.toLowerCase();a.responseType=m!=="json"?m:"text"}let c=r.serializeBody(),u=null,l=()=>{if(u!==null)return u;let m=a.statusText||"OK",E=new pn(a.getAllResponseHeaders()),K=kM(a)||r.url;return u=new tu({headers:E,status:a.status,statusText:m,url:K}),u},d=()=>{let{headers:m,status:E,statusText:K,url:q}=l(),V=null;E!==Zs.NoContent&&(V=typeof a.response>"u"?a.responseText:a.response),E===0&&(E=V?Zs.Ok:0);let de=E>=200&&E<300;if(r.responseType==="json"&&typeof V=="string"){let H=V;V=V.replace(OM,"");try{V=V!==""?JSON.parse(V):null}catch(he){V=H,de&&(de=!1,V={error:he,text:V})}}de?(o.next(new Js({body:V,headers:m,status:E,statusText:K,url:q||void 0})),o.complete()):o.error(new Vn({error:V,headers:m,status:E,statusText:K,url:q||void 0}))},h=m=>{let{url:E}=l(),K=new Vn({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:E||void 0});o.error(K)},f=!1,g=m=>{f||(o.next(l()),f=!0);let E={type:Un.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(E.total=m.total),r.responseType==="text"&&a.responseText&&(E.partialText=a.responseText),o.next(E)},I=m=>{let E={type:Un.UploadProgress,loaded:m.loaded};m.lengthComputable&&(E.total=m.total),o.next(E)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",g),c!==null&&a.upload&&a.upload.addEventListener("progress",I)),a.send(c),o.next({type:Un.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",g),c!==null&&a.upload&&a.upload.removeEventListener("progress",I)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(x(Ti))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Y_=new k(""),LM="XSRF-TOKEN",FM=new k("",{providedIn:"root",factory:()=>LM}),VM="X-XSRF-TOKEN",jM=new k("",{providedIn:"root",factory:()=>VM}),nu=class{},UM=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xc(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(x(Ze),x(Ut),x(FM))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function BM(t,e){let n=t.url.toLowerCase();if(!b(Y_)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=b(nu).getToken(),i=b(jM);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var J_=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(J_||{});function $M(t,e){return{\u0275kind:t,\u0275providers:e}}function Z_(...t){let e=[_f,W_,G_,{provide:Ks,useExisting:G_},{provide:Qs,useExisting:W_},{provide:K_,useValue:BM,multi:!0},{provide:Y_,useValue:!0},{provide:nu,useClass:UM}];for(let n of t)e.push(...n.\u0275providers);return yi(e)}function X_(){return $M(J_.Fetch,[mf,{provide:Qs,useExisting:mf},{provide:Q_,useExisting:mf}])}var Df=class extends Jc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},bf=class t extends Df{static makeCurrent(){L_(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=qM();return n==null?null:HM(n)}resetBaseElement(){Xs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Xc(document.cookie,e)}},Xs=null;function qM(){return Xs=Xs||document.querySelector("base"),Xs?Xs.getAttribute("href"):null}function HM(t){return new URL(t,document.baseURI).pathname}var GM=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Cf=new k(""),rE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new P(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(x(Cf),x(ce))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),ru=class{constructor(e){this._doc=e}},Ef="ng-app-id",iE=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=pf(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Ef}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Ef),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Ef,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(x(Ze),x(Bh),x(zh,8),x(Ut))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Tf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Af=/%COMP%/g,sE="%COMP%",WM=`_nghost-${sE}`,KM=`_ngcontent-${sE}`,QM=!0,YM=new k("",{providedIn:"root",factory:()=>QM});function JM(t){return KM.replace(Af,t)}function ZM(t){return WM.replace(Af,t)}function oE(t,e){return e.map(n=>n.replace(Af,t))}var eE=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=pf(c),this.defaultRenderer=new eo(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ft.ShadowDom&&(i=ge(A({},i),{encapsulation:Ft.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof iu?s.applyToHost(r):s instanceof to&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Ft.Emulated:o=new iu(u,l,i,this.appId,d,a,c,h);break;case Ft.ShadowDom:return new Sf(u,l,r,i,a,c,this.nonce,h);default:o=new to(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(x(rE),x(iE),x(Bh),x(YM),x(Ze),x(Ut),x(ce),x(zh))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),eo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Tf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(tE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(tE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new P(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Tf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Tf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(an.DashCase|an.Important)?e.style.setProperty(n,r,i&an.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&an.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=vr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function tE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Sf=class extends eo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=oE(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},to=class extends eo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?oE(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},iu=class extends to{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=JM(u),this.hostAttr=ZM(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},XM=(()=>{let e=class e extends ru{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(x(Ze))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),nE=["alt","control","meta","shift"],eP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},nP=(()=>{let e=class e extends ru{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),nE.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=eP[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),nE.forEach(a=>{if(a!==s){let c=tP[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(x(Ze))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function aE(t,e){return M_(A({rootComponent:t},rP(e)))}function rP(t){return{appProviders:[...cP,...t?.providers??[]],platformProviders:aP}}function iP(){bf.makeCurrent()}function sP(){return new on}function oP(){return Jw(document),document}var aP=[{provide:Ut,useValue:U_},{provide:$h,useValue:iP,multi:!0},{provide:Ze,useFactory:oP,deps:[]}];var cP=[{provide:Oc,useValue:"root"},{provide:on,useFactory:sP,deps:[]},{provide:Cf,useClass:XM,multi:!0,deps:[Ze,ce,Ut]},{provide:Cf,useClass:nP,multi:!0,deps:[Ze]},eE,iE,rE,{provide:Rs,useExisting:eE},{provide:Ti,useClass:GM,deps:[]},[]];var cE=(()=>{let e=class e{constructor(r){this._doc=r,this._dom=vr()}addTag(r,i=!1){return r?this._getOrCreateElement(r,i):null}addTags(r,i=!1){return r?r.reduce((s,o)=>(o&&s.push(this._getOrCreateElement(o,i)),s),[]):[]}getTag(r){return r&&this._doc.querySelector(`meta[${r}]`)||null}getTags(r){if(!r)return[];let i=this._doc.querySelectorAll(`meta[${r}]`);return i?[].slice.call(i):[]}updateTag(r,i){if(!r)return null;i=i||this._parseSelector(r);let s=this.getTag(i);return s?this._setMetaElementAttributes(r,s):this._getOrCreateElement(r,!0)}removeTag(r){this.removeTagElement(this.getTag(r))}removeTagElement(r){r&&this._dom.remove(r)}_getOrCreateElement(r,i=!1){if(!i){let a=this._parseSelector(r),c=this.getTags(a).filter(u=>this._containsAttributes(r,u))[0];if(c!==void 0)return c}let s=this._dom.createElement("meta");return this._setMetaElementAttributes(r,s),this._doc.getElementsByTagName("head")[0].appendChild(s),s}_setMetaElementAttributes(r,i){return Object.keys(r).forEach(s=>i.setAttribute(this._getMetaKeyMap(s),r[s])),i}_parseSelector(r){let i=r.name?"name":"property";return`${i}="${r[i]}"`}_containsAttributes(r,i){return Object.keys(r).every(s=>i.getAttribute(this._getMetaKeyMap(s))===r[s])}_getMetaKeyMap(r){return uP[r]||r}};e.\u0275fac=function(i){return new(i||e)(x(Ze))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uP={httpEquiv:"http-equiv"},uE=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(x(Ze))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $="primary",yo=Symbol("RouteTitle"),Nf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ai(t){return new Nf(t)}function lP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function dP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!zt(t[n],e[n]))return!1;return!0}function zt(t,e){let n=t?Of(t):void 0,r=e?Of(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!mE(t[i],e[i]))return!1;return!0}function Of(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function mE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function yE(t){return t.length>0?t[t.length-1]:null}function qn(t){return vd(t)?t:qs(t)?me(Promise.resolve(t)):O(t)}var hP={exact:wE,subset:IE},vE={exact:fP,subset:pP,ignored:()=>!0};function dE(t,e,n){return hP[n.paths](t.root,e.root,n.matrixParams)&&vE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function fP(t,e){return zt(t,e)}function wE(t,e,n){if(!Ir(t.segments,e.segments)||!au(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!wE(t.children[r],e.children[r],n))return!1;return!0}function pP(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>mE(t[n],e[n]))}function IE(t,e,n){return _E(t,e,e.segments,n)}function _E(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ir(i,n)||e.hasChildren()||!au(i,n,r))}else if(t.segments.length===n.length){if(!Ir(t.segments,n)||!au(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!IE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Ir(t.segments,i)||!au(t.segments,i,r)||!t.children[$]?!1:_E(t.children[$],e,s,r)}}function au(t,e,n){return e.every((r,i)=>vE[n](t[i].parameters,r.parameters))}var Bn=class{constructor(e=new ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ai(this.queryParams),this._queryParamMap}toString(){return yP.serialize(this)}},ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cu(this)}},wr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ai(this.parameters),this._parameterMap}toString(){return TE(this)}};function gP(t,e){return Ir(t,e)&&t.every((n,r)=>zt(n.parameters,e[r].parameters))}function Ir(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function mP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===$&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==$&&(n=n.concat(e(i,r)))}),n}var op=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>new lu,providedIn:"root"});let t=e;return t})(),lu=class{parse(e){let n=new Lf(e);return new Bn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${no(e.root,!0)}`,r=IP(e.queryParams),i=typeof e.fragment=="string"?`#${vP(e.fragment)}`:"";return`${n}${r}${i}`}},yP=new lu;function cu(t){return t.segments.map(e=>TE(e)).join("/")}function no(t,e){if(!t.hasChildren())return cu(t);if(e){let n=t.children[$]?no(t.children[$],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==$&&r.push(`${i}:${no(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=mP(t,(r,i)=>i===$?[no(t.children[$],!1)]:[`${i}:${no(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[$]!=null?`${cu(t)}/${n[0]}`:`${cu(t)}/(${n.join("//")})`}}function EE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function su(t){return EE(t).replace(/%3B/gi,";")}function vP(t){return encodeURI(t)}function kf(t){return EE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uu(t){return decodeURIComponent(t)}function hE(t){return uu(t.replace(/\+/g,"%20"))}function TE(t){return`${kf(t.path)}${wP(t.parameters)}`}function wP(t){return Object.entries(t).map(([e,n])=>`;${kf(e)}=${kf(n)}`).join("")}function IP(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${su(n)}=${su(i)}`).join("&"):`${su(n)}=${su(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var _P=/^[^\/()?;#]+/;function Rf(t){let e=t.match(_P);return e?e[0]:""}var EP=/^[^\/()?;=#]+/;function TP(t){let e=t.match(EP);return e?e[0]:""}var DP=/^[^=?&#]+/;function bP(t){let e=t.match(DP);return e?e[0]:""}var CP=/^[^&#]+/;function SP(t){let e=t.match(CP);return e?e[0]:""}var Lf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[$]=new ie(e,n)),r}parseSegment(){let e=Rf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new wr(uu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=TP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Rf(this.remaining);i&&(r=i,this.capture(r))}e[uu(n)]=uu(r)}parseQueryParam(e){let n=bP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=SP(this.remaining);o&&(r=o,this.capture(r))}let i=hE(n),s=hE(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Rf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new P(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=$);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[$]:new ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}};function DE(t){return t.segments.length>0?new ie([],{[$]:t}):t}function bE(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=bE(i);if(r===$&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ie(t.segments,e);return AP(n)}function AP(t){if(t.numberOfChildren===1&&t.children[$]){let e=t.children[$];return new ie(t.segments.concat(e.segments),e.children)}return t}function Ri(t){return t instanceof Bn}function RP(t,e,n=null,r=null){let i=CE(t);return SE(i,e,n,r)}function CE(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new ie(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=DE(r);return e??i}function SE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return xf(i,i,i,n,r);let s=xP(e);if(s.toRoot())return xf(i,i,new ie([],{}),n,r);let o=MP(s,i,t),a=o.processChildren?so(o.segmentGroup,o.index,s.commands):RE(o.segmentGroup,o.index,s.commands);return xf(i,o.segmentGroup,a,n,r)}function du(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function co(t){return typeof t=="object"&&t!=null&&t.outlets}function xf(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=AE(t,e,n);let a=DE(bE(o));return new Bn(a,s,i)}function AE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=AE(s,e,n)}),new ie(t.segments,r)}var hu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&du(r[0]))throw new P(4003,!1);let i=r.find(co);if(i&&i!==yE(r))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function xP(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new hu(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new hu(n,e,r)}var Ci=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function MP(t,e,n){if(t.isAbsolute)return new Ci(e,!0,0);if(!n)return new Ci(e,!1,NaN);if(n.parent===null)return new Ci(n,!0,0);let r=du(t.commands[0])?0:1,i=n.segments.length-1+r;return PP(n,i,t.numberOfDoubleDots)}function PP(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new P(4005,!1);i=r.segments.length}return new Ci(r,!1,i-s)}function NP(t){return co(t[0])?t[0].outlets:{[$]:t}}function RE(t,e,n){if(t??=new ie([],{}),t.segments.length===0&&t.hasChildren())return so(t,e,n);let r=OP(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ie(t.segments.slice(0,r.pathIndex),{});return s.children[$]=new ie(t.segments.slice(r.pathIndex),t.children),so(s,0,i)}else return r.match&&i.length===0?new ie(t.segments,{}):r.match&&!t.hasChildren()?Ff(t,e,n):r.match?so(t,0,i):Ff(t,e,n)}function so(t,e,n){if(n.length===0)return new ie(t.segments,{});{let r=NP(n),i={};if(Object.keys(r).some(s=>s!==$)&&t.children[$]&&t.numberOfChildren===1&&t.children[$].segments.length===0){let s=so(t.children[$],e,n);return new ie(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=RE(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ie(t.segments,i)}}function OP(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(co(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!pE(c,u,o))return s;r+=2}else{if(!pE(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ff(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(co(s)){let c=kP(s.outlets);return new ie(r,c)}if(i===0&&du(n[0])){let c=t.segments[e];r.push(new wr(c.path,fE(n[0]))),i++;continue}let o=co(s)?s.outlets[$]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&du(a)?(r.push(new wr(o,fE(a))),i+=2):(r.push(new wr(o,{})),i++)}return new ie(r,{})}function kP(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ff(new ie([],{}),0,r))}),e}function fE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function pE(t,e,n){return t==n.path&&zt(e,n.parameters)}var oo="imperative",ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ke||{}),yt=class{constructor(e,n){this.id=e,this.url=n}},uo=class extends yt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ke.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_r=class extends yt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},mt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(mt||{}),Vf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Vf||{}),$n=class extends yt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Er=class extends yt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ke.NavigationSkipped}},lo=class extends yt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fu=class extends yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jf=class extends yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uf=class extends yt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Bf=class extends yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$f=class extends yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zf=class{constructor(e){this.route=e,this.type=ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},qf=class{constructor(e){this.route=e,this.type=ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Hf=class{constructor(e){this.snapshot=e,this.type=ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gf=class{constructor(e){this.snapshot=e,this.type=ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wf=class{constructor(e){this.snapshot=e,this.type=ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kf=class{constructor(e){this.snapshot=e,this.type=ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ho=class{},fo=class{constructor(e){this.url=e}};var Qf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new wu,this.attachRef=null}},wu=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Qf,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Yf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Yf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Jf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Jf(e,this._root).map(n=>n.value)}};function Yf(t,e){if(t===e.value)return e;for(let n of e.children){let r=Yf(t,n);if(r)return r}return null}function Jf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Jf(t,n);if(r.length)return r.unshift(e),r}return[]}var lt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function bi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var gu=class extends pu{constructor(e,n){super(e),this.snapshot=n,cp(this,e)}toString(){return this.snapshot.toString()}};function xE(t){let e=LP(t),n=new Ne([new wr("",{})]),r=new Ne({}),i=new Ne({}),s=new Ne({}),o=new Ne(""),a=new zn(n,r,s,o,i,$,t,e.root);return a.snapshot=e.root,new gu(new lt(a,[]),e)}function LP(t){let e={},n={},r={},i="",s=new po([],e,r,i,n,$,t,null,{});return new mu("",new lt(s,[]))}var zn=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(B(u=>u[yo]))??O(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(B(e=>Ai(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(B(e=>Ai(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ap(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:A(A({},e.params),t.params),data:A(A({},e.data),t.data),resolve:A(A(A(A({},t.data),e.data),i?.data),t._resolvedData)}:r={params:A({},t.params),data:A({},t.data),resolve:A(A({},t.data),t._resolvedData??{})},i&&PE(i)&&(r.resolve[yo]=i.title),r}var po=class{get title(){return this.data?.[yo]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ai(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ai(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},mu=class extends pu{constructor(e,n){super(n),this.url=e,cp(this,n)}toString(){return ME(this._root)}};function cp(t,e){e.value._routerState=t,e.children.forEach(n=>cp(t,n))}function ME(t){let e=t.children.length>0?` { ${t.children.map(ME).join(", ")} } `:"";return`${t.value}${e}`}function Mf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,zt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),zt(e.params,n.params)||t.paramsSubject.next(n.params),dP(e.url,n.url)||t.urlSubject.next(n.url),zt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Zf(t,e){let n=zt(t.params,e.params)&&gP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Zf(t.parent,e.parent))}function PE(t){return typeof t.title=="string"||t.title===null}var up=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=$,this.activateEvents=new Dt,this.deactivateEvents=new Dt,this.attachEvents=new Dt,this.detachEvents=new Dt,this.parentContexts=b(wu),this.location=b(Hc),this.changeDetector=b(Hs),this.environmentInjector=b(rt),this.inputBinder=b(lp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Xf(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ah({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[kc]});let t=e;return t})(),Xf=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===zn?this.route:e===wu?this.childContexts:this.parent.get(e,n)}},lp=new k("");function FP(t,e,n){let r=go(t,e._root,n?n._root:void 0);return new gu(r,e)}function go(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=VP(t,e,n);return new lt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>go(t,a)),o}}let r=jP(e.value),i=e.children.map(s=>go(t,s));return new lt(r,i)}}function VP(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return go(t,r,i);return go(t,r)})}function jP(t){return new zn(new Ne(t.url),new Ne(t.params),new Ne(t.queryParams),new Ne(t.fragment),new Ne(t.data),t.outlet,t.component,t)}var NE="ngNavigationCancelingError";function OE(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ri(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=kE(!1,mt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function kE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[NE]=!0,n.cancellationCode=e,n}function UP(t){return LE(t)&&Ri(t.url)}function LE(t){return!!t&&t[NE]}var BP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=je({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ue],decls:1,vars:0,template:function(i,s){i&1&&L(0,"router-outlet")},dependencies:[up],encapsulation:2});let t=e;return t})();function $P(t,e){return t.providers&&!t._injector&&(t._injector=lf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function dp(t){let e=t.children&&t.children.map(dp),n=e?ge(A({},t),{children:e}):A({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==$&&(n.component=BP),n}function qt(t){return t.outlet||$}function zP(t,e){let n=t.filter(r=>qt(r)===e);return n.push(...t.filter(r=>qt(r)!==e)),n}function vo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var qP=(t,e,n,r)=>B(i=>(new ep(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),ep=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Mf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=bi(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=bi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=bi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=bi(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Kf(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Gf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Mf(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Mf(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=vo(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},yu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Si=class{constructor(e,n){this.component=e,this.route=n}};function HP(t,e,n){let r=t._root,i=e?e._root:null;return ro(r,i,n,[r.value])}function GP(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Mi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Xw(t)?t:e.get(t):r}function ro(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=bi(e);return t.children.forEach(o=>{WP(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ao(a,n.getContext(o),i)),i}function WP(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=KP(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new yu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ro(t,e,a?a.children:null,r,i):ro(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Si(a.outlet.component,o))}else o&&ao(e,a,i),i.canActivateChecks.push(new yu(r)),s.component?ro(t,null,a?a.children:null,r,i):ro(t,null,n,r,i);return i}function KP(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ir(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ir(t.url,e.url)||!zt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zf(t,e)||!zt(t.queryParams,e.queryParams);case"paramsChange":default:return!Zf(t,e)}}function ao(t,e,n){let r=bi(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ao(o,e.children.getContext(s),n):ao(o,null,n):ao(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Si(e.outlet.component,i)):n.canDeactivateChecks.push(new Si(null,i)):n.canDeactivateChecks.push(new Si(null,i))}function wo(t){return typeof t=="function"}function QP(t){return typeof t=="boolean"}function YP(t){return t&&wo(t.canLoad)}function JP(t){return t&&wo(t.canActivate)}function ZP(t){return t&&wo(t.canActivateChild)}function XP(t){return t&&wo(t.canDeactivate)}function eN(t){return t&&wo(t.canMatch)}function FE(t){return t instanceof tn||t?.name==="EmptyError"}var ou=Symbol("INITIAL_VALUE");function xi(){return at(t=>Ga(t.map(e=>e.pipe(nn(1),Ya(ou)))).pipe(B(e=>{for(let n of e)if(n!==!0){if(n===ou)return ou;if(n===!1||n instanceof Bn)return n}return!0}),nt(e=>e!==ou),nn(1)))}function tN(t,e){return Se(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?O(ge(A({},n),{guardsResult:!0})):nN(o,r,i,t).pipe(Se(a=>a&&QP(a)?rN(r,s,t,e):O(a)),B(a=>ge(A({},n),{guardsResult:a})))})}function nN(t,e,n,r){return me(t).pipe(Se(i=>cN(i.component,i.route,n,e,r)),Ot(i=>i!==!0,!0))}function rN(t,e,n,r){return me(e).pipe(Cn(i=>ni(sN(i.route.parent,r),iN(i.route,r),aN(t,i.path,n),oN(t,i.route,n))),Ot(i=>i!==!0,!0))}function iN(t,e){return t!==null&&e&&e(new Wf(t)),O(!0)}function sN(t,e){return t!==null&&e&&e(new Hf(t)),O(!0)}function oN(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return O(!0);let i=r.map(s=>Wa(()=>{let o=vo(e)??n,a=Mi(s,o),c=JP(a)?a.canActivate(e,t):dn(o,()=>a(e,t));return qn(c).pipe(Ot())}));return O(i).pipe(xi())}function aN(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>GP(o)).filter(o=>o!==null).map(o=>Wa(()=>{let a=o.guards.map(c=>{let u=vo(o.node)??n,l=Mi(c,u),d=ZP(l)?l.canActivateChild(r,t):dn(u,()=>l(r,t));return qn(d).pipe(Ot())});return O(a).pipe(xi())}));return O(s).pipe(xi())}function cN(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return O(!0);let o=s.map(a=>{let c=vo(e)??i,u=Mi(a,c),l=XP(u)?u.canDeactivate(t,e,n,r):dn(c,()=>u(t,e,n,r));return qn(l).pipe(Ot())});return O(o).pipe(xi())}function uN(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return O(!0);let s=i.map(o=>{let a=Mi(o,t),c=YP(a)?a.canLoad(e,n):dn(t,()=>a(e,n));return qn(c)});return O(s).pipe(xi(),VE(r))}function VE(t){return Ma(Ie(e=>{if(Ri(e))throw OE(t,e)}),B(e=>e===!0))}function lN(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return O(!0);let s=i.map(o=>{let a=Mi(o,t),c=eN(a)?a.canMatch(e,n):dn(t,()=>a(e,n));return qn(c)});return O(s).pipe(xi(),VE(r))}var mo=class{constructor(e){this.segmentGroup=e||null}},vu=class extends Error{constructor(e){super(),this.urlTree=e}};function Di(t){return ti(new mo(t))}function dN(t){return ti(new P(4e3,!1))}function hN(t){return ti(kE(!1,mt.GuardRejected))}var tp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return O(r);if(i.numberOfChildren>1||!i.children[$])return dN(e.redirectTo);i=i.children[$]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new vu(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Bn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new P(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},np={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fN(t,e,n,r,i){let s=hp(t,e,n);return s.matched?(r=$P(e,r),lN(r,e,n,i).pipe(B(o=>o===!0?s:A({},np)))):O(s)}function hp(t,e,n){if(e.path==="**")return pN(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?A({},np):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||lP)(n,t,e);if(!i)return A({},np);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?A(A({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function pN(t){return{matched:!0,parameters:t.length>0?yE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function gE(t,e,n,r){return n.length>0&&yN(t,n,r)?{segmentGroup:new ie(e,mN(r,new ie(n,t.children))),slicedSegments:[]}:n.length===0&&vN(t,n,r)?{segmentGroup:new ie(t.segments,gN(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ie(t.segments,t.children),slicedSegments:n}}function gN(t,e,n,r){let i={};for(let s of n)if(Iu(t,e,s)&&!r[qt(s)]){let o=new ie([],{});i[qt(s)]=o}return A(A({},r),i)}function mN(t,e){let n={};n[$]=e;for(let r of t)if(r.path===""&&qt(r)!==$){let i=new ie([],{});n[qt(r)]=i}return n}function yN(t,e,n){return n.some(r=>Iu(t,e,r)&&qt(r)!==$)}function vN(t,e,n){return n.some(r=>Iu(t,e,r))}function Iu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function wN(t,e,n,r){return qt(t)!==r&&(r===$||!Iu(e,n,t))?!1:hp(e,t,n).matched}function IN(t,e,n){return e.length===0&&!t.children[n]}var rp=class{};function _N(t,e,n,r,i,s,o="emptyOnly"){return new ip(t,e,n,r,i,o,s).recognize()}var EN=31,ip=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new tp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new P(4002,`'${e.segmentGroup}'`)}recognize(){let e=gE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(B(n=>{let r=new po([],Object.freeze({}),Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,{},$,this.rootComponentType,null,{}),i=new lt(r,n),s=new mu("",i),o=RP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,$).pipe(bn(r=>{if(r instanceof vu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof mo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=ap(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(B(s=>s instanceof lt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return me(i).pipe(Cn(s=>{let o=r.children[s],a=zP(n,s);return this.processSegmentGroup(e,a,o,s)}),Qa((s,o)=>(s.push(...o),s)),Sn(null),_d(),Se(s=>{if(s===null)return Di(r);let o=jE(s);return TN(o),O(o)}))}processSegment(e,n,r,i,s,o){return me(n).pipe(Cn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(bn(c=>{if(c instanceof mo)return O(null);throw c}))),Ot(a=>!!a),bn(a=>{if(FE(a))return IN(r,i,s)?O(new rp):Di(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return wN(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Di(i):Di(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=hp(n,i,s);if(!a)return Di(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>EN&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(Se(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=fN(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(at(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(at(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new po(l,h,Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,bN(r),qt(r),r.component??r._loadedComponent??null,r,CN(r)),{segmentGroup:g,slicedSegments:I}=gE(n,l,d,c);if(I.length===0&&g.hasChildren())return this.processChildren(u,c,g).pipe(B(E=>E===null?null:new lt(f,E)));if(c.length===0&&I.length===0)return O(new lt(f,[]));let m=qt(r)===s;return this.processSegment(u,c,g,I,m?$:s,!0).pipe(B(E=>new lt(f,E instanceof lt?[E]:[])))}))):Di(n)))}getChildConfig(e,n,r){return n.children?O({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?O({routes:n._loadedRoutes,injector:n._loadedInjector}):uN(e,n,r,this.urlSerializer).pipe(Se(i=>i?this.configLoader.loadChildren(e,n).pipe(Ie(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):hN(n))):O({routes:[],injector:e})}};function TN(t){t.sort((e,n)=>e.value.outlet===$?-1:n.value.outlet===$?1:e.value.outlet.localeCompare(n.value.outlet))}function DN(t){let e=t.value.routeConfig;return e&&e.path===""}function jE(t){let e=[],n=new Set;for(let r of t){if(!DN(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=jE(r.children);e.push(new lt(r.value,i))}return e.filter(r=>!n.has(r))}function bN(t){return t.data||{}}function CN(t){return t.resolve||{}}function SN(t,e,n,r,i,s){return Se(o=>_N(t,e,n,r,o.extractedUrl,i,s).pipe(B(({state:a,tree:c})=>ge(A({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function AN(t,e){return Se(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return O(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of UE(c))o.add(u);let a=0;return me(o).pipe(Cn(c=>s.has(c)?RN(c,r,t,e):(c.data=ap(c,c.parent,t).resolve,O(void 0))),Ie(()=>a++),ri(1),Se(c=>a===o.size?O(n):ht))})}function UE(t){let e=t.children.map(n=>UE(n)).flat();return[t,...e]}function RN(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!PE(i)&&(s[yo]=i.title),xN(s,t,e,r).pipe(B(o=>(t._resolvedData=o,t.data=ap(t,t.parent,n).resolve,null)))}function xN(t,e,n,r){let i=Of(t);if(i.length===0)return O({});let s={};return me(i).pipe(Se(o=>MN(t[o],e,n,r).pipe(Ot(),Ie(a=>{s[o]=a}))),ri(1),Id(s),bn(o=>FE(o)?ht:ti(o)))}function MN(t,e,n,r){let i=vo(e)??r,s=Mi(t,i),o=s.resolve?s.resolve(e,n):dn(i,()=>s(e,n));return qn(o)}function Pf(t){return at(e=>{let n=t(e);return n?me(n).pipe(B(()=>e)):O(e)})}var BE=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===$);return i}getResolvedTitleForRoute(r){return r.data[yo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>b(PN),providedIn:"root"});let t=e;return t})(),PN=(()=>{let e=class e extends BE{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(x(uE))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fp=new k("",{providedIn:"root",factory:()=>({})}),pp=new k(""),NN=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=b(hf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return O(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=qn(r.loadComponent()).pipe(B($E),Ie(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),or(()=>{this.componentLoaders.delete(r)})),s=new Jr(i,()=>new ot).pipe(Yr());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return O({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=ON(i,this.compiler,r,this.onLoadEndListener).pipe(or(()=>{this.childrenLoaders.delete(i)})),a=new Jr(o,()=>new ot).pipe(Yr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ON(t,e,n,r){return qn(t.loadChildren()).pipe(B($E),Se(i=>i instanceof Ms||Array.isArray(i)?O(i):me(e.compileModuleAsync(i))),B(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(pp,[],{optional:!0,self:!0}).flat()),{routes:o.map(dp),injector:s}}))}function kN(t){return t&&typeof t=="object"&&"default"in t}function $E(t){return kN(t)?t.default:t}var gp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>b(LN),providedIn:"root"});let t=e;return t})(),LN=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),FN=new k("");var VN=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ot,this.transitionAbortSubject=new ot,this.configLoader=b(NN),this.environmentInjector=b(rt),this.urlSerializer=b(op),this.rootContexts=b(wu),this.location=b(Gs),this.inputBindingEnabled=b(lp,{optional:!0})!==null,this.titleStrategy=b(BE),this.options=b(fp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=b(gp),this.createViewTransition=b(FN,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>O(void 0),this.rootComponentType=null;let r=s=>this.events.next(new zf(s)),i=s=>this.events.next(new qf(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ge(A(A({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ne({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:oo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(nt(o=>o.id!==0),B(o=>ge(A({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),at(o=>{this.currentTransition=o;let a=!1,c=!1;return O(o).pipe(Ie(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ge(A({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),at(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Er(u.id,this.urlSerializer.serialize(u.rawUrl),h,Vf.IgnoredSameUrlNavigation)),u.resolve(null),ht}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return O(u).pipe(at(h=>{let f=this.transitions?.getValue();return this.events.next(new uo(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?ht:Promise.resolve(h)}),SN(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ie(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ge(A({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new fu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:I,extras:m}=u,E=new uo(h,this.urlSerializer.serialize(f),g,I);this.events.next(E);let K=xE(this.rootComponentType).snapshot;return this.currentTransition=o=ge(A({},u),{targetSnapshot:K,urlAfterRedirects:f,extras:ge(A({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,O(o)}else{let h="";return this.events.next(new Er(u.id,this.urlSerializer.serialize(u.extractedUrl),h,Vf.IgnoredByUrlHandlingStrategy)),u.resolve(null),ht}}),Ie(u=>{let l=new jf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),B(u=>(this.currentTransition=o=ge(A({},u),{guards:HP(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),tN(this.environmentInjector,u=>this.events.next(u)),Ie(u=>{if(o.guardsResult=u.guardsResult,Ri(u.guardsResult))throw OE(this.urlSerializer,u.guardsResult);let l=new Uf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),nt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",mt.GuardRejected),!1)),Pf(u=>{if(u.guards.canActivateChecks.length)return O(u).pipe(Ie(l=>{let d=new Bf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),at(l=>{let d=!1;return O(l).pipe(AN(this.paramsInheritanceStrategy,this.environmentInjector),Ie({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",mt.NoDataFromResolver)}}))}),Ie(l=>{let d=new $f(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Pf(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ie(f=>{d.component=f}),B(()=>{})));for(let f of d.children)h.push(...l(f));return h};return Ga(l(u.targetSnapshot.root)).pipe(Sn(null),nn(1))}),Pf(()=>this.afterPreactivation()),at(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?me(d).pipe(B(()=>o)):O(o)}),B(u=>{let l=FP(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ge(A({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Ie(()=>{this.events.next(new ho)}),qP(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),nn(1),Ie({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _r(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Ed(this.transitionAbortSubject.pipe(Ie(u=>{throw u}))),or(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",mt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),bn(u=>{if(c=!0,LE(u))this.events.next(new $n(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),UP(u)?this.events.next(new fo(u.url)):o.resolve(!1);else{this.events.next(new lo(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return ht}))}))}cancelNavigationTransition(r,i,s){let o=new $n(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jN(t){return t!==oo}var UN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>b(BN),providedIn:"root"});let t=e;return t})(),sp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},BN=(()=>{let e=class e extends sp{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Yh(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>b($N),providedIn:"root"});let t=e;return t})(),$N=(()=>{let e=class e extends zE{constructor(){super(...arguments),this.location=b(Gs),this.urlSerializer=b(op),this.options=b(fp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=b(gp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Bn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=xE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof uo)this.stateMemento=this.createStateMemento();else if(r instanceof Er)this.rawUrlTree=i.initialUrl;else if(r instanceof fu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof ho?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof $n&&(r.code===mt.GuardRejected||r.code===mt.NoDataFromResolver)?this.restoreHistory(i):r instanceof lo?this.restoreHistory(i,!0):r instanceof _r&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=A(A({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=A(A({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Yh(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),io=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(io||{});function zN(t,e){t.events.pipe(nt(n=>n instanceof _r||n instanceof $n||n instanceof lo||n instanceof Er),B(n=>n instanceof _r||n instanceof Er?io.COMPLETE:(n instanceof $n?n.code===mt.Redirect||n.code===mt.SupersededByNewNavigation:!1)?io.REDIRECTING:io.FAILED),nt(n=>n!==io.REDIRECTING),nn(1)).subscribe(()=>{e()})}function qN(t){throw t}var HN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},GN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},_u=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=b(Qc),this.stateManager=b(zE),this.options=b(fp,{optional:!0})||{},this.pendingTasks=b(wi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=b(VN),this.urlSerializer=b(op),this.location=b(Gs),this.urlHandlingStrategy=b(gp),this._events=new ot,this.errorHandler=this.options.errorHandler||qN,this.navigated=!1,this.routeReuseStrategy=b(UN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=b(pp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!b(lp,{optional:!0}),this.eventsSubscription=new we,this.isNgZoneEnabled=b(ce)instanceof ce&&ce.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof $n&&i.code!==mt.Redirect&&i.code!==mt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof _r)this.navigated=!0;else if(i instanceof fo){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||jN(s.source)};this.scheduleNavigation(a,oo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}KN(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),oo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=A({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(dp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=A(A({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=CE(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return SE(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Ri(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,oo,null,i)}navigate(r,i={skipLocationChange:!1}){return WN(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=A({},HN):i===!1?s=A({},GN):s=i,Ri(r))return dE(this.currentUrlTree,r,s);let o=this.parseUrl(r);return dE(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return zN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function WN(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new P(4008,!1)}function KN(t){return!(t instanceof ho)&&!(t instanceof fo)}var QN=new k("");function qE(t,...e){return yi([{provide:pp,multi:!0,useValue:t},[],{provide:zn,useFactory:YN,deps:[_u]},{provide:Yc,multi:!0,useFactory:JN},e.map(n=>n.\u0275providers)])}function YN(t){return t.routerState.root}function JN(){let t=b(hn);return e=>{let n=t.get(Ei);if(e!==n.components[0])return;let r=t.get(_u),i=t.get(ZN);t.get(XN)===1&&r.initialNavigation(),t.get(eO,null,G.Optional)?.setUpPreloading(),t.get(QN,null,G.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var ZN=new k("",{factory:()=>new ot}),XN=new k("",{providedIn:"root",factory:()=>1});var eO=new k("");var WE=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},tO=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},KE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(WE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new yp;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},yp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},nO=function(t){let e=WE(t);return KE.encodeByteArray(e,!0)},Io=function(t){return nO(t).replace(/\./g,"")},wp=function(t){try{return KE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function rO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var iO=()=>rO().__FIREBASE_DEFAULTS__,sO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&wp(t[1]);return e&&JSON.parse(e)},Tu=()=>{try{return iO()||sO()||oO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},QE=t=>{var e,n;return(n=(e=Tu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},YE=t=>{let e=QE(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ip=()=>{var t;return(t=Tu())===null||t===void 0?void 0:t.config},JE=t=>{var e;return(e=Tu())===null||e===void 0?void 0:e[`_${t}`]};var Eu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function ZE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Io(JSON.stringify(n)),Io(JSON.stringify(o)),""].join(".")}function Be(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function aO(){var t;let e=(t=Tu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nT(){return!aO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Du(){try{return typeof indexedDB=="object"}catch{return!1}}function rT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var cO="FirebaseError",vt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cO,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gn.prototype.create)}},gn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?uO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new vt(i,a,r)}};function uO(t,e){return t.replace(lO,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var lO=/\{\$([^}]+)}/g;function Pi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(GE(s)&&GE(o)){if(!Pi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function GE(t){return t!==null&&typeof t=="object"}function _p(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function iT(t,e){let n=new vp(t,e);return n.subscribe.bind(n)}var vp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mp),i.error===void 0&&(i.error=mp),i.complete===void 0&&(i.complete=mp);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function dO(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mp(){}var zq=4*60*60*1e3;function Rt(t){return t&&t._delegate?t._delegate:t}var wt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Tr="[DEFAULT]";var Ep=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Eu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fO(e))try{this.getOrInitializeService({instanceIdentifier:Tr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Tr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Tr){return this.instances.has(e)}getOptions(e=Tr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Tr){return this.component?this.component.multipleInstances?e:Tr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function hO(t){return t===Tr?void 0:t}function fO(t){return t.instantiationMode==="EAGER"}var bu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Ep(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var pO=[],Y=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Y||{}),gO={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},mO=Y.INFO,yO={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},vO=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=yO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Hn=class{constructor(e){this.name=e,this._logLevel=mO,this._logHandler=vO,this._userLogHandler=null,pO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}};var wO=(t,e)=>e.some(n=>t instanceof n),sT,oT;function IO(){return sT||(sT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _O(){return oT||(oT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var aT=new WeakMap,Dp=new WeakMap,cT=new WeakMap,Tp=new WeakMap,Cp=new WeakMap;function EO(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ht(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&aT.set(n,t)}).catch(()=>{}),Cp.set(e,t),e}function TO(t){if(Dp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Dp.set(t,e)}var bp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ht(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uT(t){bp=t(bp)}function DO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Cu(this),e,...n);return cT.set(r,e.sort?e.sort():[e]),Ht(r)}:_O().includes(t)?function(...e){return t.apply(Cu(this),e),Ht(aT.get(this))}:function(...e){return Ht(t.apply(Cu(this),e))}}function bO(t){return typeof t=="function"?DO(t):(t instanceof IDBTransaction&&TO(t),wO(t,IO())?new Proxy(t,bp):t)}function Ht(t){if(t instanceof IDBRequest)return EO(t);if(Tp.has(t))return Tp.get(t);let e=bO(t);return e!==t&&(Tp.set(t,e),Cp.set(e,t)),e}var Cu=t=>Cp.get(t);function dT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Ht(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ht(o.result),c.oldVersion,c.newVersion,Ht(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var CO=["get","getKey","getAll","getAllKeys","count"],SO=["put","add","delete","clear"],Sp=new Map;function lT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sp.get(e))return Sp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=SO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||CO.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Sp.set(e,s),s}uT(t=>ge(A({},t),{get:(e,n,r)=>lT(e,n)||t.get(e,n,r),has:(e,n)=>!!lT(e,n)||t.has(e,n)}));var Rp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AO(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function AO(t){let e=t.getComponent();return e?.type==="VERSION"}var xp="@firebase/app",hT="0.9.28";var Dr=new Hn("@firebase/app"),RO="@firebase/app-compat",xO="@firebase/analytics-compat",MO="@firebase/analytics",PO="@firebase/app-check-compat",NO="@firebase/app-check",OO="@firebase/auth",kO="@firebase/auth-compat",LO="@firebase/database",FO="@firebase/database-compat",VO="@firebase/functions",jO="@firebase/functions-compat",UO="@firebase/installations",BO="@firebase/installations-compat",$O="@firebase/messaging",zO="@firebase/messaging-compat",qO="@firebase/performance",HO="@firebase/performance-compat",GO="@firebase/remote-config",WO="@firebase/remote-config-compat",KO="@firebase/storage",QO="@firebase/storage-compat",YO="@firebase/firestore",JO="@firebase/firestore-compat",ZO="firebase",XO="10.8.1";var Mp="[DEFAULT]",ek={[xp]:"fire-core",[RO]:"fire-core-compat",[MO]:"fire-analytics",[xO]:"fire-analytics-compat",[NO]:"fire-app-check",[PO]:"fire-app-check-compat",[OO]:"fire-auth",[kO]:"fire-auth-compat",[LO]:"fire-rtdb",[FO]:"fire-rtdb-compat",[VO]:"fire-fn",[jO]:"fire-fn-compat",[UO]:"fire-iid",[BO]:"fire-iid-compat",[$O]:"fire-fcm",[zO]:"fire-fcm-compat",[qO]:"fire-perf",[HO]:"fire-perf-compat",[GO]:"fire-rc",[WO]:"fire-rc-compat",[KO]:"fire-gcs",[QO]:"fire-gcs-compat",[YO]:"fire-fst",[JO]:"fire-fst-compat","fire-js":"fire-js",[ZO]:"fire-js-all"};var _o=new Map,Pp=new Map;function tk(t,e){try{t.container.addComponent(e)}catch(n){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wn(t){let e=t.name;if(Pp.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;Pp.set(e,t);for(let n of _o.values())tk(n,t);return!0}function Lp(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var nk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Gn=new gn("app","Firebase",nk);var Np=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}};var Ni=XO;function Fp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Mp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Gn.create("bad-app-name",{appName:String(i)});if(n||(n=Ip()),!n)throw Gn.create("no-options");let s=_o.get(i);if(s){if(Pi(n,s.options)&&Pi(r,s.config))return s;throw Gn.create("duplicate-app",{appName:i})}let o=new bu(i);for(let c of Pp.values())o.addComponent(c);let a=new Np(n,r,o);return _o.set(i,a),a}function To(t=Mp){let e=_o.get(t);if(!e&&t===Mp&&Ip())return Fp();if(!e)throw Gn.create("no-app",{appName:t});return e}function Su(){return Array.from(_o.values())}function Re(t,e,n){var r;let i=(r=ek[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(a.join(" "));return}Wn(new wt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var rk="firebase-heartbeat-database",ik=1,Eo="firebase-heartbeat-store",Ap=null;function mT(){return Ap||(Ap=dT(rk,ik,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Eo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gn.create("idb-open",{originalErrorMessage:t.message})})),Ap}function sk(t){return p(this,null,function*(){try{let n=(yield mT()).transaction(Eo),r=yield n.objectStore(Eo).get(yT(t));return yield n.done,r}catch(e){if(e instanceof vt)Dr.warn(e.message);else{let n=Gn.create("idb-get",{originalErrorMessage:e?.message});Dr.warn(n.message)}}})}function fT(t,e){return p(this,null,function*(){try{let r=(yield mT()).transaction(Eo,"readwrite");yield r.objectStore(Eo).put(e,yT(t)),yield r.done}catch(n){if(n instanceof vt)Dr.warn(n.message);else{let r=Gn.create("idb-set",{originalErrorMessage:n?.message});Dr.warn(r.message)}}})}function yT(t){return`${t.name}!${t.options.appId}`}var ok=1024,ak=30*24*60*60*1e3,Op=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new kp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=pT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=ak}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=pT(),{heartbeatsToSend:r,unsentEntries:i}=ck(this._heartbeatsCache.heartbeats),s=Io(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function pT(){return new Date().toISOString().substring(0,10)}function ck(t,e=ok){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),gT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var kp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return Du()?rT().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield sk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return fT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return fT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function gT(t){return Io(JSON.stringify({version:2,heartbeats:t})).length}function uk(t){Wn(new wt("platform-logger",e=>new Rp(e),"PRIVATE")),Wn(new wt("heartbeat",e=>new Op(e),"PRIVATE")),Re(xp,hT,t),Re(xp,hT,"esm2017"),Re("fire-js","")}uk("");var lk="firebase",dk="10.8.1";Re(lk,dk,"app");var ki=new Mn("ANGULARFIRE2_VERSION");function jp(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var bo=(t,e)=>{let n=e?[e]:Su(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Do=class{constructor(){return bo(hk)}},hk="app-check";function Oi(){}var Au=class{zone;delegate;constructor(e,n=md){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Vp=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oi,{},Oi,Oi)),n.pipe(Ie({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Co=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Au(Zone.current)),this.insideAngular=n.run(()=>new Au(Zone.current,gd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(x(ce))};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ru(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function fk(t){return Ru().ngZone.runOutsideAngular(()=>t())}function br(t){return Ru().ngZone.run(()=>t())}function pk(t){return gk(Ru())(t)}function gk(t){return function(n){return n=n.lift(new Vp(t.ngZone)),n.pipe(Dn(t.outsideAngular),Tn(t.insideAngular))}}var mk=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),br(()=>t.apply(void 0,r))},mn=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=br(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oi,{},Oi,Oi))),r[s]=mk(r[s],n));let i=fk(()=>t.apply(this,r));if(!e)if(i instanceof Q){let s=Ru();return i.pipe(Dn(s.outsideAngular),Tn(s.insideAngular))}else return br(()=>i);return i instanceof Q?i.pipe(pk):i instanceof Promise?br(()=>new Promise((s,o)=>i.then(a=>br(()=>s(a)),a=>br(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:br(()=>i)};var Cr=class{constructor(e){return e}},So=class{constructor(){return Su()}};function yk(t){return t&&t.length===1?t[0]:new Cr(To())}var Up=new k("angularfire2._apps"),vk={provide:Cr,useFactory:yk,deps:[[new Bt,Up]]},wk={provide:So,deps:[[new Bt,Up]]};function Ik(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Cr(r)}}var _k=(()=>{class t{constructor(n){Re("angularfire",ki.full,"core"),Re("angularfire",ki.full,"app"),Re("angular",b_.full,n.toString())}static \u0275fac=function(r){return new(r||t)(x(Ut))};static \u0275mod=Pn({type:t});static \u0275inj=Nn({providers:[vk,wk]})}return t})();function vT(t,...e){return{ngModule:_k,providers:[{provide:Up,useFactory:Ik(t),multi:!0,deps:[ce,hn,Co,...e]}]}}var wT=mn(Fp,!0);function CT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ST=CT,AT=new gn("auth","Firebase",CT());var Pu=new Hn("@firebase/auth");function Tk(t,...e){Pu.logLevel<=Y.WARN&&Pu.warn(`Auth (${Ni}): ${t}`,...e)}function Mu(t,...e){Pu.logLevel<=Y.ERROR&&Pu.error(`Auth (${Ni}): ${t}`,...e)}function IT(t,...e){throw Zp(t,...e)}function Jp(t,...e){return Zp(t,...e)}function Dk(t,e,n){let r=Object.assign(Object.assign({},ST()),{[e]:n});return new gn("auth","Firebase",r).create(e,{appName:t.name})}function Zp(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AT.create(t,...e)}function oe(t,e,...n){if(!t)throw Zp(e,...n)}function Ao(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Mu(e),new Error(e)}function Nu(t,e){t||Ao(e)}function bk(){return _T()==="http:"||_T()==="https:"}function _T(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Ck(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bk()||eT()||"connection"in navigator)?navigator.onLine:!0}function Sk(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ar=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Nu(n>e,"Short delay should be less than long delay!"),this.isMobile=XE()||tT()}get(){return Ck()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ak(t,e){Nu(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ou=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ao("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ao("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ao("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Rk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var xk=new Ar(3e4,6e4);function RT(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Bu(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return xT(t,i,()=>p(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=_p(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Ou.fetch()(MT(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function xT(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Rk),e);try{let i=new zp(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw xu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw xu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw xu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw xu(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Dk(t,l,u);IT(t,l)}}catch(i){if(i instanceof vt)throw i;IT(t,"network-request-failed",{message:String(i)})}})}function MT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Ak(t.config,i):`${t.config.apiScheme}://${i}`}var zp=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jp(this.auth,"network-request-failed")),xk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function xu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Jp(t,e,r);return i.customData._tokenResponse=n,i}function Mk(t,e){return p(this,null,function*(){return Bu(t,"POST","/v1/accounts:delete",e)})}function Pk(t,e){return p(this,null,function*(){return Bu(t,"POST","/v1/accounts:lookup",e)})}function Ro(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Xp(t,e=!1){return p(this,null,function*(){let n=Rt(t),r=yield n.getIdToken(e),i=PT(r);oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ro(Bp(i.auth_time)),issuedAtTime:Ro(Bp(i.iat)),expirationTime:Ro(Bp(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Bp(t){return Number(t)*1e3}function PT(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Mu("JWT malformed, contained fewer than 3 sections"),null;try{let i=wp(n);return i?JSON.parse(i):(Mu("Failed to decode base64 JWT payload"),null)}catch(i){return Mu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Nk(t){let e=PT(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function qp(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof vt&&Ok(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Ok({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Hp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ku=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ro(this.lastLoginAt),this.creationTime=Ro(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Lu(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield qp(t,Pk(n,{idToken:r}));oe(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Lk(s.providerUserInfo):[],a=kk(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ku(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function eg(t){return p(this,null,function*(){let e=Rt(t);yield Lu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function kk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Lk(t){return t.map(e=>{var{providerId:n}=e,r=yd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Fk(t,e){return p(this,null,function*(){let n=yield xT(t,{},()=>p(this,null,function*(){let r=_p({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=MT(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ou.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Vk(t,e){return p(this,null,function*(){return Bu(t,"POST","/v2/accounts:revokeToken",RT(t,e))})}var Fu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return p(this,null,function*(){return oe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Fk(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(oe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ao("not implemented")}};function Kn(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Vu=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=yd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ku(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield qp(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Xp(this,e)}reload(){return eg(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Lu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){let e=yield this.getIdToken();return yield qp(this,Mk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,m=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,K=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:q,emailVerified:V,isAnonymous:de,providerData:H,stsTokenManager:he}=n;oe(q&&he,e,"internal-error");let it=Fu.fromJSON(this.name,he);oe(typeof q=="string",e,"internal-error"),Kn(d,e.name),Kn(h,e.name),oe(typeof V=="boolean",e,"internal-error"),oe(typeof de=="boolean",e,"internal-error"),Kn(f,e.name),Kn(g,e.name),Kn(I,e.name),Kn(m,e.name),Kn(E,e.name),Kn(K,e.name);let tr=new t({uid:q,auth:e,email:h,emailVerified:V,displayName:d,isAnonymous:de,photoURL:g,phoneNumber:f,tenantId:I,stsTokenManager:it,createdAt:E,lastLoginAt:K});return H&&Array.isArray(H)&&(tr.providerData=H.map(qr=>Object.assign({},qr))),m&&(tr._redirectEventId=m),tr}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new Fu;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Lu(s),s})}};var ET=new Map;function Sr(t){Nu(t instanceof Function,"Expected a class definition");let e=ET.get(t);return e?(Nu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ET.set(t,e),e)}var jk=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Gp=jk;function $p(t,e,n){return`firebase:${t}:${e}:${n}`}var ju=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=$p(this.userKey,i.apiKey,s),this.fullPersistenceKey=$p("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Vu._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(Sr(Gp),e,r);let i=(yield Promise.all(n.map(u=>p(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Sr(Gp),o=$p(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=Vu._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>p(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function TT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Uk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hk(e))return"Blackberry";if(Gk(e))return"Webos";if(Bk(e))return"Safari";if((e.includes("chrome/")||$k(e))&&!e.includes("edge/"))return"Chrome";if(qk(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Uk(t=Be()){return/firefox\//i.test(t)}function Bk(t=Be()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $k(t=Be()){return/crios\//i.test(t)}function zk(t=Be()){return/iemobile/i.test(t)}function qk(t=Be()){return/android/i.test(t)}function Hk(t=Be()){return/blackberry/i.test(t)}function Gk(t=Be()){return/webos/i.test(t)}function NT(t,e=[]){let n;switch(t){case"Browser":n=TT(Be());break;case"Worker":n=`${TT(Be())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ni}/${r}`}var Wp=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Wk(n){return p(this,arguments,function*(t,e={}){return Bu(t,"GET","/v2/passwordPolicy",RT(t,e))})}var Kk=6,Kp=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Kk,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Qp=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uu(this),this.idTokenSubscription=new Uu(this),this.beforeStateQueue=new Wp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Sr(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield ju.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield Lu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Sk()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){let n=e?Rt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(Sr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield Wk(this),n=new Kp(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Vk(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Sr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=yield ju.create(this,[Sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Tk(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Qk(t){return Rt(t)}var Uu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=iT(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Yk={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Jk(t){Yk=t}function Zk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Xk(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Sr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var FH=Zk("rcb"),VH=new Ar(3e4,6e4);var jH=new Ar(2e3,1e4);var UH=10*60*1e3;var BH=new Ar(3e4,6e4);var $H=new Ar(5e3,15e3);var zH=encodeURIComponent("fac");var DT="@firebase/auth",bT="1.6.1";var Yp=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function e1(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function t1(t){Wn(new wt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NT(t)},u=new Qp(r,i,s,c);return Xk(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wn(new wt("auth-internal",e=>{let n=Qk(e.getProvider("auth").getImmediate());return(r=>new Yp(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Re(DT,bT,e1(t)),Re(DT,bT,"esm2017")}var n1=5*60,qH=JE("authIdTokenMaxAge")||n1;function r1(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Jk({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Jp("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",r1().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});t1("Browser");var nL="auth";var $u=class{constructor(){return bo(nL)}};var rL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mt={},T,Eg=Eg||{},F=rL||self;function nl(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function zo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function iL(t){return Object.prototype.hasOwnProperty.call(t,tg)&&t[tg]||(t[tg]=++sL)}var tg="closure_uid_"+(1e9*Math.random()>>>0),sL=0;function oL(t,e,n){return t.call.apply(t.bind,arguments)}function aL(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function $e(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?$e=oL:$e=aL,$e.apply(null,arguments)}function zu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Me(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Qn(){this.s=this.s,this.o=this.o}var cL=0;Qn.prototype.s=!1;Qn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),cL!=0)&&iL(this)};Qn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var GT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Tg(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function OT(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(nl(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ze(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ze.prototype.h=function(){this.defaultPrevented=!0};var uL=function(){if(!F.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};F.addEventListener("test",n,e),F.removeEventListener("test",n,e)}catch{}return t}();function ko(t){return/^[\s\xa0]*$/.test(t)}function rl(){var t=F.navigator;return t&&(t=t.userAgent)?t:""}function Gt(t){return rl().indexOf(t)!=-1}function Dg(t){return Dg[" "](t),t}Dg[" "]=function(){};function lL(t,e){var n=ZL;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var dL=Gt("Opera"),ji=Gt("Trident")||Gt("MSIE"),WT=Gt("Edge"),og=WT||ji,KT=Gt("Gecko")&&!(rl().toLowerCase().indexOf("webkit")!=-1&&!Gt("Edge"))&&!(Gt("Trident")||Gt("MSIE"))&&!Gt("Edge"),hL=rl().toLowerCase().indexOf("webkit")!=-1&&!Gt("Edge");function QT(){var t=F.document;return t?t.documentMode:void 0}var ag;e:{if(qu="",Hu=function(){var t=rl();if(KT)return/rv:([^\);]+)(\)|;)/.exec(t);if(WT)return/Edge\/([\d\.]+)/.exec(t);if(ji)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(hL)return/WebKit\/(\S+)/.exec(t);if(dL)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Hu&&(qu=Hu?Hu[1]:""),ji&&(Gu=QT(),Gu!=null&&Gu>parseFloat(qu))){ag=String(Gu);break e}ag=qu}var qu,Hu,Gu,cg;F.document&&ji?(ng=QT(),cg=ng||parseInt(ag,10)||void 0):cg=void 0;var ng,fL=cg;function Lo(t,e){if(ze.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(KT){e:{try{Dg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:pL[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Lo.$.h.call(this)}}Me(Lo,ze);var pL={2:"touch",3:"pen",4:"mouse"};Lo.prototype.h=function(){Lo.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var qo="closure_listenable_"+(1e6*Math.random()|0),gL=0;function mL(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++gL,this.fa=this.ia=!1}function il(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function bg(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function yL(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function YT(t){let e={};for(let n in t)e[n]=t[n];return e}var kT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function JT(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<kT.length;s++)n=kT[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function sl(t){this.src=t,this.g={},this.h=0}sl.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=lg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new mL(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function ug(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=GT(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(il(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function lg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Cg="closure_lm_"+(1e6*Math.random()|0),rg={};function ZT(t,e,n,r,i){if(r&&r.once)return e0(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ZT(t,e[s],n,r,i);return null}return n=Rg(n),t&&t[qo]?t.O(e,n,zo(r)?!!r.capture:!!r,i):XT(t,e,n,!1,r,i)}function XT(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=zo(i)?!!i.capture:!!i,a=Ag(t);if(a||(t[Cg]=a=new sl(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=vL(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)uL||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(n0(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function vL(){function t(n){return e.call(t.src,t.listener,n)}let e=wL;return t}function e0(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)e0(t,e[s],n,r,i);return null}return n=Rg(n),t&&t[qo]?t.P(e,n,zo(r)?!!r.capture:!!r,i):XT(t,e,n,!0,r,i)}function t0(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)t0(t,e[s],n,r,i);else r=zo(r)?!!r.capture:!!r,n=Rg(n),t&&t[qo]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=lg(s,n,r,i),-1<n&&(il(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ag(t))&&(e=t.g[e.toString()],t=-1,e&&(t=lg(e,n,r,i)),(n=-1<t?e[t]:null)&&Sg(n))}function Sg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[qo])ug(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(n0(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ag(e))?(ug(n,t),n.h==0&&(n.src=null,e[Cg]=null)):il(t)}}}function n0(t){return t in rg?rg[t]:rg[t]="on"+t}function wL(t,e){if(t.fa)t=!0;else{e=new Lo(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Sg(t),t=n.call(r,e)}return t}function Ag(t){return t=t[Cg],t instanceof sl?t:null}var ig="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rg(t){return typeof t=="function"?t:(t[ig]||(t[ig]=function(e){return t.handleEvent(e)}),t[ig])}function xe(){Qn.call(this),this.i=new sl(this),this.S=this,this.J=null}Me(xe,Qn);xe.prototype[qo]=!0;xe.prototype.removeEventListener=function(t,e,n,r){t0(this,t,e,n,r)};function Fe(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ze(e,t);else if(e instanceof ze)e.target=e.target||t;else{var i=e;e=new ze(r,t),JT(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Wu(o,r,!0,e)&&i}if(o=e.g=t,i=Wu(o,r,!0,e)&&i,i=Wu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Wu(o,r,!1,e)&&i}xe.prototype.N=function(){if(xe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)il(n[r]);delete t.g[e],t.h--}}this.J=null};xe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};xe.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Wu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&ug(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var xg=F.JSON.stringify,dg=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function IL(){var t=Mg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var hg=class{constructor(){this.h=this.g=null}add(e,n){let r=r0.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},r0=new dg(()=>new fg,t=>t.reset()),fg=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function _L(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function EL(t){F.setTimeout(()=>{throw t},0)}var Fo,Vo=!1,Mg=new hg,i0=()=>{let t=F.Promise.resolve(void 0);Fo=()=>{t.then(TL)}},TL=()=>{for(var t;t=IL();){try{t.h.call(t.g)}catch(n){EL(n)}var e=r0;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Vo=!1};function ol(t,e){xe.call(this),this.h=t||1,this.g=e||F,this.j=$e(this.qb,this),this.l=Date.now()}Me(ol,xe);T=ol.prototype;T.ga=!1;T.T=null;T.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fe(this,"tick"),this.ga&&(Pg(this),this.start()))}};T.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Pg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}T.N=function(){ol.$.N.call(this),Pg(this),delete this.g};function Ng(t,e,n){if(typeof t=="function")n&&(t=$e(t,n));else if(t&&typeof t.handleEvent=="function")t=$e(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:F.setTimeout(t,e||0)}function s0(t){t.g=Ng(()=>{t.g=null,t.i&&(t.i=!1,s0(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var pg=class extends Qn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:s0(this)}N(){super.N(),this.g&&(F.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function jo(t){Qn.call(this),this.h=t,this.g={}}Me(jo,Qn);var LT=[];function o0(t,e,n,r){Array.isArray(n)||(n&&(LT[0]=n.toString()),n=LT);for(var i=0;i<n.length;i++){var s=ZT(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function a0(t){bg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Sg(e)},t),t.g={}}jo.prototype.N=function(){jo.$.N.call(this),a0(this)};jo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function al(){this.g=!0}al.prototype.Ea=function(){this.g=!1};function DL(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function bL(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Fi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+SL(t,n)+(r?" "+r:"")})}function CL(t,e){t.info(function(){return"TIMEOUT: "+e})}al.prototype.info=function(){};function SL(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return xg(n)}catch{return e}}var Pr={},FT=null;function cl(){return FT=FT||new xe}Pr.Ta="serverreachability";function c0(t){ze.call(this,Pr.Ta,t)}Me(c0,ze);function Uo(t){let e=cl();Fe(e,new c0(e))}Pr.STAT_EVENT="statevent";function u0(t,e){ze.call(this,Pr.STAT_EVENT,t),this.stat=e}Me(u0,ze);function Xe(t){let e=cl();Fe(e,new u0(e,t))}Pr.Ua="timingevent";function l0(t,e){ze.call(this,Pr.Ua,t),this.size=e}Me(l0,ze);function Ho(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return F.setTimeout(function(){t()},e)}var ul={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},d0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Og(){}Og.prototype.h=null;function VT(t){return t.h||(t.h=t.i())}function h0(){}var Go={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function kg(){ze.call(this,"d")}Me(kg,ze);function Lg(){ze.call(this,"c")}Me(Lg,ze);var gg;function ll(){}Me(ll,Og);ll.prototype.g=function(){return new XMLHttpRequest};ll.prototype.i=function(){return{}};gg=new ll;function Wo(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new jo(this),this.P=AL,t=og?125:void 0,this.V=new ol(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new f0}function f0(){this.i=null,this.g="",this.h=!1}var AL=45e3,p0={},mg={};T=Wo.prototype;T.setTimeout=function(t){this.P=t};function yg(t,e,n){t.L=1,t.A=hl(vn(e)),t.u=n,t.S=!0,g0(t,null)}function g0(t,e){t.G=Date.now(),Ko(t),t.B=vn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),T0(n.i,"t",r),t.o=0,n=t.l.J,t.h=new f0,t.g=q0(t.l,n?e:null,!t.u),0<t.O&&(t.M=new pg($e(t.Pa,t,t.g),t.O)),o0(t.U,t.g,"readystatechange",t.nb),e=t.I?YT(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Uo(),DL(t.j,t.v,t.B,t.m,t.W,t.u)}T.nb=function(t){t=t.target;let e=this.M;e&&Wt(t)==3?e.l():this.Pa(t)};T.Pa=function(t){try{if(t==this.g)e:{let l=Wt(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||og||this.g&&(this.h.h||this.g.ja()||$T(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?Uo(3):Uo(2)),dl(this);var n=this.g.da();this.ca=n;t:if(m0(this)){var r=$T(this.g);t="";var i=r.length,s=Wt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rr(this),Oo(this);var o="";break t}this.h.i=new F.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,bL(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ko(a)){var u=a;break t}}u=null}if(n=u)Fi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vg(this,n);else{this.i=!1,this.s=3,Xe(12),Rr(this),Oo(this);break e}}this.S?(y0(this,l,o),og&&this.i&&l==3&&(o0(this.U,this.V,"tick",this.mb),this.V.start())):(Fi(this.j,this.m,o,null),vg(this,o)),l==4&&Rr(this),this.i&&!this.J&&(l==4?U0(this.l,this):(this.i=!1,Ko(this)))}else QL(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Xe(12)):(this.s=0,Xe(13)),Rr(this),Oo(this)}}}catch{}finally{}};function m0(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function y0(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=RL(t,n),i==mg){e==4&&(t.s=4,Xe(14),r=!1),Fi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==p0){t.s=4,Xe(15),Fi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Fi(t.j,t.m,i,null),vg(t,i);m0(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Xe(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),$g(e),e.M=!0,Xe(11))):(Fi(t.j,t.m,n,"[Invalid Chunked Response]"),Rr(t),Oo(t))}T.mb=function(){if(this.g){var t=Wt(this.g),e=this.g.ja();this.o<e.length&&(dl(this),y0(this,t,e),this.i&&t!=4&&Ko(this))}};function RL(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?mg:(n=Number(e.substring(n,r)),isNaN(n)?p0:(r+=1,r+n>e.length?mg:(e=e.slice(r,r+n),t.o=r+n,e)))}T.cancel=function(){this.J=!0,Rr(this)};function Ko(t){t.Y=Date.now()+t.P,v0(t,t.P)}function v0(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ho($e(t.lb,t),e)}function dl(t){t.C&&(F.clearTimeout(t.C),t.C=null)}T.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(CL(this.j,this.B),this.L!=2&&(Uo(),Xe(17)),Rr(this),this.s=2,Oo(this)):v0(this,this.Y-t)};function Oo(t){t.l.H==0||t.J||U0(t.l,t)}function Rr(t){dl(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Pg(t.V),a0(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function vg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||wg(n.i,t))){if(!t.K&&wg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Zu(n),gl(n);else break e;Bg(n),Xe(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ho($e(n.ib,n),6e3));if(1>=C0(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else xr(n,11)}else if((t.K||n.g==t)&&Zu(n),!ko(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Fg(s,s.h),s.h=null))}if(r.F){let I=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,le(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=z0(r,r.J?r.pa:null,r.Y),o.K){S0(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(dl(a),Ko(a)),r.g=o}else V0(r);0<n.j.length&&ml(n)}else u[0]!="stop"&&u[0]!="close"||xr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?xr(n,7):Ug(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Uo(4)}catch{}}function xL(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(nl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function ML(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(nl(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function w0(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(nl(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=ML(t),r=xL(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var I0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Mr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Mr){this.h=t.h,Yu(this,t.j),this.s=t.s,this.g=t.g,Ju(this,t.m),this.l=t.l;var e=t.i,n=new Bo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),jT(this,n),this.o=t.o}else t&&(e=String(t).match(I0))?(this.h=!1,Yu(this,e[1]||"",!0),this.s=Po(e[2]||""),this.g=Po(e[3]||"",!0),Ju(this,e[4]),this.l=Po(e[5]||"",!0),jT(this,e[6]||"",!0),this.o=Po(e[7]||"")):(this.h=!1,this.i=new Bo(null,this.h))}Mr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(No(e,UT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(No(e,UT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(No(n,n.charAt(0)=="/"?kL:OL,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",No(n,FL)),t.join("")};function vn(t){return new Mr(t)}function Yu(t,e,n){t.j=n?Po(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ju(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function jT(t,e,n){e instanceof Bo?(t.i=e,VL(t.i,t.h)):(n||(e=No(e,LL)),t.i=new Bo(e,t.h))}function le(t,e,n){t.i.set(e,n)}function hl(t){return le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Po(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function No(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,NL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function NL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var UT=/[#\/\?@]/g,OL=/[#\?:]/g,kL=/[#\?]/g,LL=/[#\?@]/g,FL=/#/g;function Bo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Yn(t){t.g||(t.g=new Map,t.h=0,t.i&&PL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}T=Bo.prototype;T.add=function(t,e){Yn(this),this.i=null,t=Ui(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function _0(t,e){Yn(t),e=Ui(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function E0(t,e){return Yn(t),e=Ui(t,e),t.g.has(e)}T.forEach=function(t,e){Yn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};T.ta=function(){Yn(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};T.Z=function(t){Yn(this);let e=[];if(typeof t=="string")E0(this,t)&&(e=e.concat(this.g.get(Ui(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};T.set=function(t,e){return Yn(this),this.i=null,t=Ui(this,t),E0(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};T.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function T0(t,e,n){_0(t,e),0<n.length&&(t.i=null,t.g.set(Ui(t,e),Tg(n)),t.h+=n.length)}T.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ui(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function VL(t,e){e&&!t.j&&(Yn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(_0(this,r),T0(this,i,n))},t)),t.j=e}var jL=class{constructor(t,e){this.g=t,this.map=e}};function D0(t){this.l=t||UL,F.PerformanceNavigationTiming?(t=F.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(F.g&&F.g.Ka&&F.g.Ka()&&F.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var UL=10;function b0(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function C0(t){return t.h?1:t.g?t.g.size:0}function wg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Fg(t,e){t.g?t.g.add(e):t.h=e}function S0(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}D0.prototype.cancel=function(){if(this.i=A0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function A0(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Tg(t.i)}var BL=class{stringify(t){return F.JSON.stringify(t,void 0)}parse(t){return F.JSON.parse(t,void 0)}};function $L(){this.g=new BL}function zL(t,e,n){let r=n||"";try{w0(t,function(i,s){let o=i;zo(i)&&(o=xg(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function qL(t,e){let n=new al;if(F.Image){let r=new Image;r.onload=zu(Ku,n,r,"TestLoadImage: loaded",!0,e),r.onerror=zu(Ku,n,r,"TestLoadImage: error",!1,e),r.onabort=zu(Ku,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=zu(Ku,n,r,"TestLoadImage: timeout",!1,e),F.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ku(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Qo(t){this.l=t.ec||null,this.j=t.ob||!1}Me(Qo,Og);Qo.prototype.g=function(){return new fl(this.l,this.j)};Qo.prototype.i=function(t){return function(){return t}}({});function fl(t,e){xe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Vg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Me(fl,xe);var Vg=0;T=fl.prototype;T.open=function(t,e){if(this.readyState!=Vg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,$o(this)};T.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||F).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};T.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yo(this)),this.readyState=Vg};T.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,$o(this)),this.g&&(this.readyState=3,$o(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof F.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;R0(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function R0(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}T.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Yo(this):$o(this),this.readyState==3&&R0(this)}};T.Za=function(t){this.g&&(this.response=this.responseText=t,Yo(this))};T.Ya=function(t){this.g&&(this.response=t,Yo(this))};T.ka=function(){this.g&&Yo(this)};function Yo(t){t.readyState=4,t.l=null,t.j=null,t.A=null,$o(t)}T.setRequestHeader=function(t,e){this.v.append(t,e)};T.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};T.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function $o(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(fl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var HL=F.JSON.parse;function ye(t){xe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=x0,this.L=this.M=!1}Me(ye,xe);var x0="",GL=/^https?$/i,WL=["POST","PUT"];T=ye.prototype;T.Oa=function(t){this.M=t};T.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():gg.g(),this.C=this.u?VT(this.u):VT(gg),this.g.onreadystatechange=$e(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){BT(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=F.FormData&&t instanceof F.FormData,!(0<=GT(WL,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{N0(this),0<this.B&&((this.L=KL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$e(this.ua,this)):this.A=Ng(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){BT(this,s)}};function KL(t){return ji&&typeof t.timeout=="number"&&t.ontimeout!==void 0}T.ua=function(){typeof Eg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fe(this,"timeout"),this.abort(8))};function BT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,M0(t),pl(t)}function M0(t){t.F||(t.F=!0,Fe(t,"complete"),Fe(t,"error"))}T.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Fe(this,"complete"),Fe(this,"abort"),pl(this))};T.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pl(this,!0)),ye.$.N.call(this)};T.La=function(){this.s||(this.G||this.v||this.l?P0(this):this.kb())};T.kb=function(){P0(this)};function P0(t){if(t.h&&typeof Eg<"u"&&(!t.C[1]||Wt(t)!=4||t.da()!=2)){if(t.v&&Wt(t)==4)Ng(t.La,0,t);else if(Fe(t,"readystatechange"),Wt(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(I0)[1]||null;!i&&F.self&&F.self.location&&(i=F.self.location.protocol.slice(0,-1)),r=!GL.test(i?i.toLowerCase():"")}n=r}if(n)Fe(t,"complete"),Fe(t,"success");else{t.m=6;try{var s=2<Wt(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",M0(t)}}finally{pl(t)}}}}function pl(t,e){if(t.g){N0(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Fe(t,"ready");try{n.onreadystatechange=r}catch{}}}function N0(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(F.clearTimeout(t.A),t.A=null)}T.isActive=function(){return!!this.g};function Wt(t){return t.g?t.g.readyState:0}T.da=function(){try{return 2<Wt(this)?this.g.status:-1}catch{return-1}};T.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};T.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),HL(e)}};function $T(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case x0:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function QL(t){let e={};t=(t.g&&2<=Wt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ko(t[r]))continue;var n=_L(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}yL(e,function(r){return r.join(", ")})}T.Ia=function(){return this.m};T.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function O0(t){let e="";return bg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function jg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=O0(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):le(t,e,n))}function xo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function k0(t){this.Ga=0,this.j=[],this.l=new al,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xo("baseRetryDelayMs",5e3,t),this.hb=xo("retryDelaySeedMs",1e4,t),this.eb=xo("forwardChannelMaxRetries",2,t),this.xa=xo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new D0(t&&t.concurrentRequestLimit),this.Ja=new $L,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}T=k0.prototype;T.ra=8;T.H=1;function Ug(t){if(L0(t),t.H==3){var e=t.W++,n=vn(t.I);if(le(n,"SID",t.K),le(n,"RID",e),le(n,"TYPE","terminate"),Jo(t,n),e=new Wo(t,t.l,e),e.L=2,e.A=hl(vn(n)),n=!1,F.navigator&&F.navigator.sendBeacon)try{n=F.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&F.Image&&(new Image().src=e.A,n=!0),n||(e.g=q0(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ko(e)}$0(t)}function gl(t){t.g&&($g(t),t.g.cancel(),t.g=null)}function L0(t){gl(t),t.u&&(F.clearTimeout(t.u),t.u=null),Zu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&F.clearTimeout(t.m),t.m=null)}function ml(t){if(!b0(t.i)&&!t.m){t.m=!0;var e=t.Na;Fo||i0(),Vo||(Fo(),Vo=!0),Mg.add(e,t),t.C=0}}function YL(t,e){return C0(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ho($e(t.Na,t,e),B0(t,t.C)),t.C++,!0)}T.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Wo(this,this.l,t),s=this.s;if(this.U&&(s?(s=YT(s),JT(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=F0(this,i,e),n=vn(this.I),le(n,"RID",t),le(n,"CVER",22),this.F&&le(n,"X-HTTP-Session-Id",this.F),Jo(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(O0(s)))+"&"+e:this.o&&jg(n,this.o,s)),Fg(this.i,i),this.bb&&le(n,"TYPE","init"),this.P?(le(n,"$req",e),le(n,"SID","null"),i.aa=!0,yg(i,n,null)):yg(i,n,e),this.H=2}}else this.H==3&&(t?zT(this,t):this.j.length==0||b0(this.i)||zT(this))};function zT(t,e){var n;e?n=e.m:n=t.W++;let r=vn(t.I);le(r,"SID",t.K),le(r,"RID",n),le(r,"AID",t.V),Jo(t,r),t.o&&t.s&&jg(r,t.o,t.s),n=new Wo(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=F0(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Fg(t.i,n),yg(n,r,e)}function Jo(t,e){t.na&&bg(t.na,function(n,r){le(e,r,n)}),t.h&&w0({},function(n,r){le(e,r,n)})}function F0(t,e,n){n=Math.min(t.j.length,n);var r=t.h?$e(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{zL(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function V0(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Fo||i0(),Vo||(Fo(),Vo=!0),Mg.add(e,t),t.A=0}}function Bg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ho($e(t.Ma,t),B0(t,t.A)),t.A++,!0)}T.Ma=function(){if(this.u=null,j0(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ho($e(this.jb,this),t)}};T.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xe(10),gl(this),j0(this))};function $g(t){t.B!=null&&(F.clearTimeout(t.B),t.B=null)}function j0(t){t.g=new Wo(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=vn(t.wa);le(e,"RID","rpc"),le(e,"SID",t.K),le(e,"AID",t.V),le(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&le(e,"TO",t.qa),le(e,"TYPE","xmlhttp"),Jo(t,e),t.o&&t.s&&jg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=hl(vn(e)),n.u=null,n.S=!0,g0(n,t)}T.ib=function(){this.v!=null&&(this.v=null,gl(this),Bg(this),Xe(19))};function Zu(t){t.v!=null&&(F.clearTimeout(t.v),t.v=null)}function U0(t,e){var n=null;if(t.g==e){Zu(t),$g(t),t.g=null;var r=2}else if(wg(t.i,e))n=e.F,S0(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=cl(),Fe(r,new l0(r,n)),ml(t)}else V0(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&YL(t,e)||r==2&&Bg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:xr(t,5);break;case 4:xr(t,10);break;case 3:xr(t,6);break;default:xr(t,2)}}}function B0(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function xr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=$e(t.pb,t);n||(n=new Mr("//www.google.com/images/cleardot.gif"),F.location&&F.location.protocol=="http"||Yu(n,"https"),hl(n)),qL(n.toString(),r)}else Xe(2);t.H=0,t.h&&t.h.za(e),$0(t),L0(t)}T.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Xe(2)):(this.l.info("Failed to ping google.com"),Xe(1))};function $0(t){if(t.H=0,t.ma=[],t.h){let e=A0(t.i);(e.length!=0||t.j.length!=0)&&(OT(t.ma,e),OT(t.ma,t.j),t.i.i.length=0,Tg(t.j),t.j.length=0),t.h.ya()}}function z0(t,e,n){var r=n instanceof Mr?vn(n):new Mr(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ju(r,r.m);else{var i=F.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Mr(null);r&&Yu(s,r),e&&(s.g=e),i&&Ju(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&le(r,n,e),le(r,"VER",t.ra),Jo(t,r),r}function q0(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ye(new Qo({ob:n})):new ye(t.va),e.Oa(t.J),e}T.isActive=function(){return!!this.h&&this.h.isActive(this)};function H0(){}T=H0.prototype;T.Ba=function(){};T.Aa=function(){};T.za=function(){};T.ya=function(){};T.isActive=function(){return!0};T.Va=function(){};function Xu(){if(ji&&!(10<=Number(fL)))throw Error("Environmental error: no available transport.")}Xu.prototype.g=function(t,e){return new dt(t,e)};function dt(t,e){xe.call(this),this.g=new k0(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ko(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ko(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Bi(this)}Me(dt,xe);dt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Xe(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=z0(t,null,t.Y),ml(t)};dt.prototype.close=function(){Ug(this.g)};dt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=xg(t),t=n);e.j.push(new jL(e.fb++,t)),e.H==3&&ml(e)};dt.prototype.N=function(){this.g.h=null,delete this.j,Ug(this.g),delete this.g,dt.$.N.call(this)};function G0(t){kg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Me(G0,kg);function W0(){Lg.call(this),this.status=1}Me(W0,Lg);function Bi(t){this.g=t}Me(Bi,H0);Bi.prototype.Ba=function(){Fe(this.g,"a")};Bi.prototype.Aa=function(t){Fe(this.g,new G0(t))};Bi.prototype.za=function(t){Fe(this.g,new W0)};Bi.prototype.ya=function(){Fe(this.g,"b")};function JL(){this.blockSize=-1}function xt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Me(xt,JL);xt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function sg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}xt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)sg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){sg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){sg(this,r),i=0;break}}this.h=i,this.i+=e};xt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ae(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var ZL={};function zg(t){return-128<=t&&128>t?lL(t,function(e){return new ae([e|0],0>e?-1:0)}):new ae([t|0],0>t?-1:0)}function Kt(t){if(isNaN(t)||!isFinite(t))return Vi;if(0>t)return Le(Kt(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Ig;return new ae(e,0)}function K0(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Le(K0(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Kt(Math.pow(e,8)),r=Vi,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Kt(Math.pow(e,s)),r=r.R(s).add(Kt(o))):(r=r.R(n),r=r.add(Kt(o)))}return r}var Ig=4294967296,Vi=zg(0),_g=zg(1),qT=zg(16777216);T=ae.prototype;T.ea=function(){if(It(this))return-Le(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Ig+r)*e,e*=Ig}return t};T.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(yn(this))return"0";if(It(this))return"-"+Le(this).toString(t);for(var e=Kt(Math.pow(t,6)),n=this,r="";;){var i=tl(n,e).g;n=el(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,yn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};T.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function yn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function It(t){return t.h==-1}T.X=function(t){return t=el(this,t),It(t)?-1:yn(t)?0:1};function Le(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ae(n,~t.h).add(_g)}T.abs=function(){return It(this)?Le(this):this};T.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ae(n,n[n.length-1]&-2147483648?-1:0)};function el(t,e){return t.add(Le(e))}T.R=function(t){if(yn(this)||yn(t))return Vi;if(It(this))return It(t)?Le(this).R(Le(t)):Le(Le(this).R(t));if(It(t))return Le(this.R(Le(t)));if(0>this.X(qT)&&0>t.X(qT))return Kt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,Qu(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Qu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Qu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Qu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ae(n,0)};function Qu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Mo(t,e){this.g=t,this.h=e}function tl(t,e){if(yn(e))throw Error("division by zero");if(yn(t))return new Mo(Vi,Vi);if(It(t))return e=tl(Le(t),e),new Mo(Le(e.g),Le(e.h));if(It(e))return e=tl(t,Le(e)),new Mo(Le(e.g),e.h);if(30<t.g.length){if(It(t)||It(e))throw Error("slowDivide_ only works with positive integers.");for(var n=_g,r=e;0>=r.X(t);)n=HT(n),r=HT(r);var i=Li(n,1),s=Li(r,1);for(r=Li(r,2),n=Li(n,2);!yn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Li(r,1),n=Li(n,1)}return e=el(t,i.R(e)),new Mo(i,e)}for(i=Vi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Kt(n),o=s.R(e);It(o)||0<o.X(t);)n-=r,s=Kt(n),o=s.R(e);yn(s)&&(s=_g),i=i.add(s),t=el(t,o)}return new Mo(i,t)}T.gb=function(t){return tl(this,t).h};T.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ae(n,this.h&t.h)};T.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ae(n,this.h|t.h)};T.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ae(n,this.h^t.h)};function HT(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ae(n,t.h)}function Li(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ae(i,t.h)}Xu.prototype.createWebChannel=Xu.prototype.g;dt.prototype.send=dt.prototype.u;dt.prototype.open=dt.prototype.m;dt.prototype.close=dt.prototype.close;ul.NO_ERROR=0;ul.TIMEOUT=8;ul.HTTP_ERROR=6;d0.COMPLETE="complete";h0.EventType=Go;Go.OPEN="a";Go.CLOSE="b";Go.ERROR="c";Go.MESSAGE="d";xe.prototype.listen=xe.prototype.O;ye.prototype.listenOnce=ye.prototype.P;ye.prototype.getLastError=ye.prototype.Sa;ye.prototype.getLastErrorCode=ye.prototype.Ia;ye.prototype.getStatus=ye.prototype.da;ye.prototype.getResponseJson=ye.prototype.Wa;ye.prototype.getResponseText=ye.prototype.ja;ye.prototype.send=ye.prototype.ha;ye.prototype.setWithCredentials=ye.prototype.Oa;xt.prototype.digest=xt.prototype.l;xt.prototype.reset=xt.prototype.reset;xt.prototype.update=xt.prototype.j;ae.prototype.add=ae.prototype.add;ae.prototype.multiply=ae.prototype.R;ae.prototype.modulo=ae.prototype.gb;ae.prototype.compare=ae.prototype.X;ae.prototype.toNumber=ae.prototype.ea;ae.prototype.toString=ae.prototype.toString;ae.prototype.getBits=ae.prototype.D;ae.fromNumber=Kt;ae.fromString=K0;var Q0=Mt.createWebChannelTransport=function(){return new Xu},Y0=Mt.getStatEventTarget=function(){return cl()},yl=Mt.ErrorCode=ul,J0=Mt.EventType=d0,Z0=Mt.Event=Pr,qg=Mt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},O3=Mt.FetchXmlHttpFactory=Qo,Zo=Mt.WebChannel=h0,X0=Mt.XhrIo=ye,eD=Mt.Md5=xt,Nr=Mt.Integer=ae;var tD="@firebase/firestore";var Pe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Pe.UNAUTHENTICATED=new Pe(null),Pe.GOOGLE_CREDENTIALS=new Pe("google-credentials-uid"),Pe.FIRST_PARTY=new Pe("first-party-uid"),Pe.MOCK_USER=new Pe("mock-user");var cs="10.8.1";var Ur=new Hn("@firebase/firestore");function Xo(){return Ur.logLevel}function D(t,...e){if(Ur.logLevel<=Y.DEBUG){let n=e.map(xy);Ur.debug(`Firestore (${cs}): ${t}`,...n)}}function Zt(t,...e){if(Ur.logLevel<=Y.ERROR){let n=e.map(xy);Ur.error(`Firestore (${cs}): ${t}`,...n)}}function Yi(t,...e){if(Ur.logLevel<=Y.WARN){let n=e.map(xy);Ur.warn(`Firestore (${cs}): ${t}`,...n)}}function xy(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function U(t="Unexpected state"){let e=`FIRESTORE (${cs}) INTERNAL ASSERTION FAILED: `+t;throw Zt(e),new Error(e)}function Ce(t,e){t||U()}function re(t,e){return t}var w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},S=class extends vt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var In=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var El=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Yg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pe.UNAUTHENTICATED))}shutdown(){}},Jg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Zg=class{constructor(e){this.t=e,this.currentUser=Pe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new In;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new In,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>p(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new In)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new El(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new Pe(e)}},Xg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Pe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},em=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Xg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Pe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},tm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},nm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,D("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new tm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function XL(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var rm=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=XL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function se(t,e){return t<e?-1:t>e?1:0}function Ji(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var He=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new S(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new S(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new S(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var z=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new He(0,0))}static max(){return new t(new He(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Tl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&U(),r===void 0?r=e.length-n:r>e.length-n&&U(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},_e=class t extends Tl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new S(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},eF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,_t=class t extends Tl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return eF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new S(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new S(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new S(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new S(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var M=class t{constructor(e){this.path=e}static fromPath(e){return new t(_e.fromString(e))}static fromName(e){return new t(_e.fromString(e).popFirst(5))}static empty(){return new t(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new _e(e.slice()))}};var im=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};im.UNKNOWN_ID=-1;function tF(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=z.fromTimestamp(r===1e9?new He(n+1,0):new He(n,r));return new Br(i,M.empty(),e)}function nF(t){return new Br(t.readTime,t.key,-1)}var Br=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(z.min(),M.empty(),-1)}static max(){return new t(z.max(),M.empty(),-1)}};function rF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=M.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}var iF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function My(t){return p(this,null,function*(){if(t.code!==w.FAILED_PRECONDITION||t.message!==iF)throw t;D("LocalStore","Unexpectedly lost primary lease")})}var y=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&U(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var om=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new In,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new jr(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=Py(r.target.error);this.V.reject(new jr(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new jr(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(D("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new cm(n)}},Dl=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(Be())===12.2&&Zt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return D("SimpleDb","Removing database:",e),Or(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Du())return!1;if(t.C())return!0;let e=Be(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return p(this,null,function*(){return this.db||(D("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new jr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new S(w.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new S(w.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new jr(e,o))},i.onupgradeneeded=s=>{D("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{D("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return p(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=om.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),y.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(D("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},am=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Or(this.k.delete())}},jr=class extends S{constructor(e,n){super(w.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Ea(t){return t.name==="IndexedDbTransactionError"}var cm=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(D("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(D("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Or(r)}add(e){return D("SimpleDb","ADD",this.store.name,e,e),Or(this.store.add(e))}get(e){return Or(this.store.get(e)).next(n=>(n===void 0&&(n=null),D("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return D("SimpleDb","DELETE",this.store.name,e),Or(this.store.delete(e))}count(){return D("SimpleDb","COUNT",this.store.name),Or(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new y((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new y((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){D("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new y((r,i)=>{n.onerror=s=>{let o=Py(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new y((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new am(a),u=n(a.primaryKey,a.value,c);if(u instanceof y){let l=u.catch(d=>(c.done(),y.reject(d)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>y.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Or(t){return new y((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=Py(r.target.error);n(i)}})}var nD=!1;function Py(t){let e=Dl.S(Be());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new S("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return nD||(nD=!0,setTimeout(()=>{throw r},0)),r}}return t}var OD=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Ql(t){return t==null}function oa(t){return t===0&&1/t==-1/0}function sF(t){return typeof t=="number"&&Number.isInteger(t)&&!oa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var oF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],q3=[...oF,"documentOverlays"],aF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cF=aF,H3=[...cF,"indexConfiguration","indexState","indexEntries"];function rD(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ta(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kD(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ee=class t{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hi(this.root,e,this.comparator,!0)}},Hi=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Yt=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw U();let e=this.left.check();if(e!==this.right.check())throw U();return e+(this.isRed()?0:1)}};Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw U()}get value(){throw U()}get color(){throw U()}get left(){throw U()}get right(){throw U()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ge=class t{constructor(e){this.comparator=e,this.data=new Ee(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bl(this.data.getIterator())}getIteratorFrom(e){return new bl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},bl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var kr=class t{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ge(_t.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ji(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Cl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var et=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Cl("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};et.EMPTY_BYTE_STRING=new et("");var uF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jn(t){if(Ce(!!t),typeof t=="string"){let e=0,n=uF.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ve(t.seconds),nanos:ve(t.nanos)}}function ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zn(t){return typeof t=="string"?et.fromBase64String(t):et.fromUint8Array(t)}function Ny(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Oy(t){let e=t.mapValue.fields.__previous_value__;return Ny(e)?Oy(e):e}function aa(t){let e=Jn(t.mapValue.fields.__local_write_time__.timestampValue);return new He(e.seconds,e.nanos)}var um=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Sl=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var vl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $r(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ny(t)?4:LD(t)?9007199254740991:10:U()}function Xt(t,e){if(t===e)return!0;let n=$r(t);if(n!==$r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return aa(t).isEqual(aa(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Jn(i.timestampValue),a=Jn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Zn(i.bytesValue).isEqual(Zn(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ve(i.geoPointValue.latitude)===ve(s.geoPointValue.latitude)&&ve(i.geoPointValue.longitude)===ve(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ve(i.integerValue)===ve(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=ve(i.doubleValue),a=ve(s.doubleValue);return o===a?oa(o)===oa(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ji(t.arrayValue.values||[],e.arrayValue.values||[],Xt);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(rD(o)!==rD(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Xt(o[c],a[c])))return!1;return!0}(t,e);default:return U()}}function ca(t,e){return(t.values||[]).find(n=>Xt(n,e))!==void 0}function Zi(t,e){if(t===e)return 0;let n=$r(t),r=$r(e);if(n!==r)return se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=ve(s.integerValue||s.doubleValue),c=ve(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return iD(t.timestampValue,e.timestampValue);case 4:return iD(aa(t),aa(e));case 5:return se(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Zn(s),c=Zn(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=se(a[u],c[u]);if(l!==0)return l}return se(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=se(ve(s.latitude),ve(o.latitude));return a!==0?a:se(ve(s.longitude),ve(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=Zi(a[u],c[u]);if(l)return l}return se(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===vl.mapValue&&o===vl.mapValue)return 0;if(s===vl.mapValue)return 1;if(o===vl.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=se(c[d],l[d]);if(h!==0)return h;let f=Zi(a[c[d]],u[l[d]]);if(f!==0)return f}return se(c.length,l.length)}(t.mapValue,e.mapValue);default:throw U()}}function iD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);let n=Jn(t),r=Jn(e),i=se(n.seconds,r.seconds);return i!==0?i:se(n.nanos,r.nanos)}function Xi(t){return lm(t)}function lm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Jn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return M.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=lm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${lm(n.fields[o])}`;return i+"}"}(t.mapValue):U()}function sD(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dm(t){return!!t&&"integerValue"in t}function ky(t){return!!t&&"arrayValue"in t}function oD(t){return!!t&&"nullValue"in t}function aD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hg(t){return!!t&&"mapValue"in t}function ta(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ta(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ta(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ta(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var wn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ta(n)}setAll(e){let n=_t.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ta(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Hg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Hg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ta(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(ta(this.value))}};var Pt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,z.min(),z.min(),z.min(),wn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,z.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,z.min(),z.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,z.min(),z.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var es=class{constructor(e,n){this.position=e,this.inclusive=n}};function cD(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=M.comparator(M.fromName(o.referenceValue),n.key):r=Zi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function uD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xt(t.position[n],e.position[n]))return!1;return!0}var ts=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function lF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Al=class{},be=class t extends Al{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new fm(e,n,r):n==="array-contains"?new mm(e,r):n==="in"?new ym(e,r):n==="not-in"?new vm(e,r):n==="array-contains-any"?new wm(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pm(e,r):new gm(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zi(n,this.value)):n!==null&&$r(this.value)===$r(n)&&this.matchesComparison(Zi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return U()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Nt=class t extends Al{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return FD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function FD(t){return t.op==="and"}function VD(t){return dF(t)&&FD(t)}function dF(t){for(let e of t.filters)if(e instanceof Nt)return!1;return!0}function hm(t){if(t instanceof be)return t.field.canonicalString()+t.op.toString()+Xi(t.value);if(VD(t))return t.filters.map(e=>hm(e)).join(",");{let e=t.filters.map(n=>hm(n)).join(",");return`${t.op}(${e})`}}function jD(t,e){return t instanceof be?function(r,i){return i instanceof be&&r.op===i.op&&r.field.isEqual(i.field)&&Xt(r.value,i.value)}(t,e):t instanceof Nt?function(r,i){return i instanceof Nt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&jD(o,i.filters[a]),!0):!1}(t,e):void U()}function UD(t){return t instanceof be?function(n){return`${n.field.canonicalString()} ${n.op} ${Xi(n.value)}`}(t):t instanceof Nt?function(n){return n.op.toString()+" {"+n.getFilters().map(UD).join(" ,")+"}"}(t):"Filter"}var fm=class extends be{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){let n=M.comparator(e.key,this.key);return this.matchesComparison(n)}},pm=class extends be{constructor(e,n){super(e,"in",n),this.keys=BD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},gm=class extends be{constructor(e,n){super(e,"not-in",n),this.keys=BD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function BD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}var mm=class extends be{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return ky(n)&&ca(n.arrayValue,this.value)}},ym=class extends be{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ca(this.value.arrayValue,n)}},vm=class extends be{constructor(e,n){super(e,"not-in",n)}matches(e){if(ca(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ca(this.value.arrayValue,n)}},wm=class extends be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!ky(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ca(this.value.arrayValue,r))}};var Im=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function lD(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Im(t,e,n,r,i,s,o)}function Ly(t){let e=re(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ql(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xi(r)).join(",")),e.ce=n}return e.ce}function Fy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uD(t.startAt,e.startAt)&&uD(t.endAt,e.endAt)}function _m(t){return M.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var zr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function hF(t,e,n,r,i,s,o,a){return new zr(t,e,n,r,i,s,o,a)}function Vy(t){return new zr(t)}function dD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $D(t){return t.collectionGroup!==null}function na(t){let e=re(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ge(_t.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new ts(s,r))}),n.has(_t.keyField().canonicalString())||e.le.push(new ts(_t.keyField(),r))}return e.le}function Jt(t){let e=re(t);return e.he||(e.he=fF(e,na(t))),e.he}function fF(t,e){if(t.limitType==="F")return lD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new ts(i.field,s)});let n=t.endAt?new es(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new es(t.startAt.position,t.startAt.inclusive):null;return lD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Em(t,e){let n=t.filters.concat([e]);return new zr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Tm(t,e,n){return new zr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yl(t,e){return Fy(Jt(t),Jt(e))&&t.limitType===e.limitType}function zD(t){return`${Ly(Jt(t))}|lt:${t.limitType}`}function $i(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>UD(i)).join(", ")}]`),Ql(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xi(i)).join(",")),`Target(${r})`}(Jt(t))}; limitType=${t.limitType})`}function Jl(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):M.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of na(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=cD(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,na(r),i)||r.endAt&&!function(o,a,c){let u=cD(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,na(r),i))}(t,e)}function pF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qD(t){return(e,n)=>{let r=!1;for(let i of na(t)){let s=gF(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function gF(t,e,n){let r=t.field.isKeyField()?M.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Zi(c,u):U()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return U()}}var Xn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return kD(this.inner)}size(){return this.innerSize}};var mF=new Ee(M.comparator);function er(){return mF}var HD=new Ee(M.comparator);function ea(...t){let e=HD;for(let n of t)e=e.insert(n.key,n);return e}function yF(t){let e=HD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Lr(){return ra()}function GD(){return ra()}function ra(){return new Xn(t=>t.toString(),(t,e)=>t.isEqual(e))}var W3=new Ee(M.comparator),vF=new Ge(M.comparator);function ne(...t){let e=vF;for(let n of t)e=e.add(n);return e}var wF=new Ge(se);function IF(){return wF}function WD(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oa(e)?"-0":e}}function KD(t){return{integerValue:""+t}}function _F(t,e){return sF(e)?KD(e):WD(t,e)}var ns=class{constructor(){this._=void 0}};function EF(t,e,n){return t instanceof ua?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ny(s)&&(s=Oy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof rs?QD(t,e):t instanceof is?YD(t,e):function(i,s){let o=DF(i,s),a=hD(o)+hD(i.Ie);return dm(o)&&dm(i.Ie)?KD(a):WD(i.serializer,a)}(t,e)}function TF(t,e,n){return t instanceof rs?QD(t,e):t instanceof is?YD(t,e):n}function DF(t,e){return t instanceof la?function(r){return dm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ua=class extends ns{},rs=class extends ns{constructor(e){super(),this.elements=e}};function QD(t,e){let n=JD(e);for(let r of t.elements)n.some(i=>Xt(i,r))||n.push(r);return{arrayValue:{values:n}}}var is=class extends ns{constructor(e){super(),this.elements=e}};function YD(t,e){let n=JD(e);for(let r of t.elements)n=n.filter(i=>!Xt(i,r));return{arrayValue:{values:n}}}var la=class extends ns{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function hD(t){return ve(t.integerValue||t.doubleValue)}function JD(t){return ky(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function bF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof rs&&i instanceof rs||r instanceof is&&i instanceof is?Ji(r.elements,i.elements,Xt):r instanceof la&&i instanceof la?Xt(r.Ie,i.Ie):r instanceof ua&&i instanceof ua}(t.transform,e.transform)}var ia=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Il(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var da=class{};function ZD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Dm(t.key,ia.none()):new ha(t.key,t.data,ia.none());{let n=t.data,r=wn.empty(),i=new Ge(_t.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ss(t.key,r,new kr(i.toArray()),ia.none())}}function CF(t,e,n){t instanceof ha?function(i,s,o){let a=i.value.clone(),c=pD(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ss?function(i,s,o){if(!Il(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=pD(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(XD(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function sa(t,e,n,r){return t instanceof ha?function(s,o,a,c){if(!Il(s.precondition,o))return a;let u=s.value.clone(),l=gD(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ss?function(s,o,a,c){if(!Il(s.precondition,o))return a;let u=gD(s.fieldTransforms,c,o),l=o.data;return l.setAll(XD(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Il(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function fD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ji(r,i,(s,o)=>bF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ha=class extends da{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ss=class extends da{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function XD(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function pD(t,e,n){let r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,TF(o,a,n[i]))}return r}function gD(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,EF(s,o,e))}return r}var Dm=class extends da{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var bm=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&CF(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=sa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=sa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=GD();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=ZD(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&Ji(this.mutations,e.mutations,(n,r)=>fD(n,r))&&Ji(this.baseMutations,e.baseMutations,(n,r)=>fD(n,r))}};var Cm=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Sm=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Te,te;function eb(t){if(t===void 0)return Zt("GRPC error has no .code"),w.UNKNOWN;switch(t){case Te.OK:return w.OK;case Te.CANCELLED:return w.CANCELLED;case Te.UNKNOWN:return w.UNKNOWN;case Te.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case Te.INTERNAL:return w.INTERNAL;case Te.UNAVAILABLE:return w.UNAVAILABLE;case Te.UNAUTHENTICATED:return w.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case Te.NOT_FOUND:return w.NOT_FOUND;case Te.ALREADY_EXISTS:return w.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return w.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case Te.ABORTED:return w.ABORTED;case Te.OUT_OF_RANGE:return w.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return w.UNIMPLEMENTED;case Te.DATA_LOSS:return w.DATA_LOSS;default:return U()}}(te=Te||(Te={}))[te.OK=0]="OK",te[te.CANCELLED=1]="CANCELLED",te[te.UNKNOWN=2]="UNKNOWN",te[te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",te[te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",te[te.NOT_FOUND=5]="NOT_FOUND",te[te.ALREADY_EXISTS=6]="ALREADY_EXISTS",te[te.PERMISSION_DENIED=7]="PERMISSION_DENIED",te[te.UNAUTHENTICATED=16]="UNAUTHENTICATED",te[te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",te[te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",te[te.ABORTED=10]="ABORTED",te[te.OUT_OF_RANGE=11]="OUT_OF_RANGE",te[te.UNIMPLEMENTED=12]="UNIMPLEMENTED",te[te.INTERNAL=13]="INTERNAL",te[te.UNAVAILABLE=14]="UNAVAILABLE",te[te.DATA_LOSS=15]="DATA_LOSS";var mD=null;function SF(){return new TextEncoder}var AF=new Nr([4294967295,4294967295],0);function yD(t){let e=SF().encode(t),n=new eD;return n.update(e),new Uint8Array(n.digest())}function vD(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Nr([n,r],0),new Nr([i,s],0)]}var Am=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fr(`Invalid padding: ${n}`);if(r<0)throw new Fr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Nr.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Nr.fromNumber(r)));return i.compare(AF)===1&&(i=new Nr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=yD(e),[r,i]=vD(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=yD(e),[r,i]=vD(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Fr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Rl=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,fa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(z.min(),i,new Ee(se),er(),ne())}},fa=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ne(),ne(),ne())}};var Gi=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},xl=class{constructor(e,n){this.targetId=e,this.fe=n}},Ml=class{constructor(e,n,r=et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Pl=class{constructor(){this.ge=0,this.pe=ID(),this.ye=et.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ne(),n=ne(),r=ne();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:U()}}),new fa(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=ID()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ce(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},Rm=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=er(),this.Qe=wD(),this.Ke=new Ee(se)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:U()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(_m(s))if(r===0){let o=new M(s.path);this.We(n,o,Pt.newNoDocument(o,z.min()))}else Ce(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}mD?.tt(function(l,d,h,f,g){var I,m,E,K,q,V;let de={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},H=d.unchangedNames;return H&&(de.bloomFilter={applied:g===0,hashCount:(I=H?.hashCount)!==null&&I!==void 0?I:0,bitmapLength:(K=(E=(m=H?.bits)===null||m===void 0?void 0:m.bitmap)===null||E===void 0?void 0:E.length)!==null&&K!==void 0?K:0,padding:(V=(q=H?.bits)===null||q===void 0?void 0:q.padding)!==null&&V!==void 0?V:0,mightContain:he=>{var it;return(it=f?.mightContain(he))!==null&&it!==void 0&&it}}),de}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Zn(r).toUint8Array()}catch(c){if(c instanceof Cl)return Yi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Am(o,i,s)}catch(c){return Yi(c instanceof Fr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&_m(a.target)){let c=new M(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,Pt.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ne();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new Rl(e,n,this.Ke,this.qe,r);return this.qe=er(),this.Qe=wD(),this.Ke=new Ee(se),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Pl,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ge(se),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||D("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Pl),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function wD(){return new Ee(M.comparator)}function ID(){return new Ee(M.comparator)}var RF={asc:"ASCENDING",desc:"DESCENDING"},xF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MF={and:"AND",or:"OR"},xm=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Mm(t,e){return t.useProto3Json||Ql(e)?e:{value:e}}function Pm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Wi(t){return Ce(!!t),z.fromTimestamp(function(n){let r=Jn(n);return new He(r.seconds,r.nanos)}(t))}function nb(t,e){return Nm(t,e).canonicalString()}function Nm(t,e){let n=function(i){return new _e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function rb(t){let e=_e.fromString(t);return Ce(cb(e)),e}function Gg(t,e){let n=rb(e);if(n.get(1)!==t.databaseId.projectId)throw new S(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new S(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(sb(n))}function ib(t,e){return nb(t.databaseId,e)}function PF(t){let e=rb(t);return e.length===4?_e.emptyPath():sb(e)}function _D(t){return new _e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sb(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function NF(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:U()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(Ce(l===void 0||typeof l=="string"),et.fromBase64String(l||"")):(Ce(l===void 0||l instanceof Uint8Array),et.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?w.UNKNOWN:eb(u.code);return new S(l,u.message||"")}(o);n=new Ml(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Gg(t,r.document.name),s=Wi(r.document.updateTime),o=r.document.createTime?Wi(r.document.createTime):z.min(),a=new wn({mapValue:{fields:r.document.fields}}),c=Pt.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Gi(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Gg(t,r.document),s=r.readTime?Wi(r.readTime):z.min(),o=Pt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Gi([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Gg(t,r.document),s=r.removedTargetIds||[];n=new Gi([],s,i,null)}else{if(!("filter"in e))return U();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Sm(i,s),a=r.targetId;n=new xl(a,o)}}return n}function OF(t,e){return{documents:[ib(t,e.path)]}}function kF(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ib(t,i);let s=function(u){if(u.length!==0)return ab(Nt.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:zi(h.field),direction:VF(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Mm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function LF(t){let e=PF(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ce(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=ob(d);return h instanceof Nt&&VD(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new ts(qi(g.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Ql(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new es(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new es(f,h)}(n.endAt)),hF(e,i,o,s,a,"F",c,u)}function FF(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return U()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ob(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=qi(n.unaryFilter.field);return be.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=qi(n.unaryFilter.field);return be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=qi(n.unaryFilter.field);return be.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=qi(n.unaryFilter.field);return be.create(o,"!=",{nullValue:"NULL_VALUE"});default:return U()}}(t):t.fieldFilter!==void 0?function(n){return be.create(qi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return U()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Nt.create(n.compositeFilter.filters.map(r=>ob(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return U()}}(n.compositeFilter.op))}(t):U()}function VF(t){return RF[t]}function jF(t){return xF[t]}function UF(t){return MF[t]}function zi(t){return{fieldPath:t.canonicalString()}}function qi(t){return _t.fromServerFormat(t.fieldPath)}function ab(t){return t instanceof be?function(n){if(n.op==="=="){if(aD(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NAN"}};if(oD(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aD(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NOT_NAN"}};if(oD(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zi(n.field),op:jF(n.op),value:n.value}}}(t):t instanceof Nt?function(n){let r=n.getFilters().map(i=>ab(i));return r.length===1?r[0]:{compositeFilter:{op:UF(n.op),filters:r}}}(t):U()}function cb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var pa=class t{constructor(e,n,r,i,s=z.min(),o=z.min(),a=et.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Om=class{constructor(e){this.ct=e}};function BF(t){let e=LF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tm(e,e.limit,"L"):e}var Nl=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(ve(e.integerValue));else if("doubleValue"in e){let r=ve(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),oa(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Zn(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?LD(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):U()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),M.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Nl.bt=new Nl;var km=class{constructor(){this._n=new Lm}addToCollectionParentIndex(e,n){return this._n.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}deleteAllFieldIndexes(e){return y.resolve()}createTargetIndexes(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(Br.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(Br.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}},Lm=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ge(_e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ge(_e.comparator)).toArray()}};var K3=new Uint8Array(0);var Qt=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(41943040,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);var ga=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var Fm=class{constructor(){this.changes=new Xn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Vm=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var jm=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&sa(r.mutation,i,kr.empty(),He.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){let i=Lr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ea();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Lr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=er(),o=ra(),a=function(){return ra()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof ss)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),sa(l.mutation,u,l.mutation.getFieldMask(),He.now())):o.set(u.key,kr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new Vm(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=ra(),i=new Ee((o,a)=>o-a),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||kr.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||ne()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=GD();l.forEach(h=>{if(!s.has(h)){let f=ZD(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return M.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$D(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):y.resolve(Lr()),a=-1,c=s;return o.next(u=>y.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?y.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ne())).next(l=>({batchId:a,changes:yF(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=ea();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=ea();return this.indexManager.getCollectionParents(e,s).next(a=>y.forEach(a,c=>{let u=function(d,h){return new zr(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,Pt.newInvalidDocument(l)))});let a=ea();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&sa(l.mutation,u,kr.empty(),He.now()),Jl(n,u)&&(a=a.insert(c,u))}),a})}};var Um=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return y.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wi(i.createTime)}}(n)),y.resolve()}getNamedQuery(e,n){return y.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:BF(i.bundledQuery),readTime:Wi(i.readTime)}}(n)),y.resolve()}};var Bm=class{constructor(){this.overlays=new Ee(M.comparator),this.hr=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Lr();return y.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),y.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){let i=Lr(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ee((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Lr(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Lr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return y.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Cm(n,r));let s=this.hr.get(n);s===void 0&&(s=ne(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var ma=class{constructor(){this.Pr=new Ge(De.Ir),this.Tr=new Ge(De.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new De(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new De(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new M(new _e([])),r=new De(n,e),i=new De(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new M(new _e([])),r=new De(n,e),i=new De(n,e+1),s=ne();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new De(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},De=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return M.comparator(e.key,n.key)||se(e.pr,n.pr)}static Er(e,n){return se(e.pr,n.pr)||M.comparator(e.key,n.key)}};var $m=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ge(De.Ir)}checkEmpty(e){return y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new bm(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new De(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(o)}lookupMutationBatch(e,n){return y.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new De(n,0),i=new De(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ge(se);return n.forEach(i=>{let s=new De(i,0),o=new De(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),y.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;M.isDocumentKey(s)||(s=s.child(""));let o=new De(new M(s),0),a=new Ge(se);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),y.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return y.forEach(n.mutations,i=>{let s=new De(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new De(n,0),i=this.wr.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,y.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var zm=class{constructor(e){this.vr=e,this.docs=function(){return new Ee(M.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():Pt.newInvalidDocument(n))}getEntries(e,n){let r=er();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Pt.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=er(),o=n.path,a=new M(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||rF(nF(l),r)<=0||(i.has(l.key)||Jl(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){U()}Fr(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new qm(this)}getSize(e){return y.resolve(this.size)}},qm=class extends Fm{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var Hm=class{constructor(e){this.persistence=e,this.Mr=new Xn(n=>Ly(n),Fy),this.lastRemoteSnapshotVersion=z.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ma,this.targetCount=0,this.Br=ga.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),y.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new ga(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.qn(n),y.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),y.waitFor(s).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),y.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.Nr.containsKey(n))}};var Gm=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new OD(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Hm(this),this.indexManager=new km,this.remoteDocumentCache=function(i){return new zm(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Om(n),this.$r=new Um(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Bm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new $m(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){D("MemoryPersistence","Starting transaction:",e);let i=new Wm(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return y.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},Wm=class extends sm{constructor(e){super(),this.currentSequenceNumber=e}},Km=class t{constructor(e){this.persistence=e,this.zr=new ma,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw U()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),y.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Jr,r=>{let i=M.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,z.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return y.or([()=>y.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Qm=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ne(),i=ne();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Ym=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Jm=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return nT()?8:Dl.v(Be())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Ym;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Xo()<=Y.DEBUG&&D("QueryEngine","SDK will not create cache indexes for query:",$i(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),y.resolve()):(Xo()<=Y.DEBUG&&D("QueryEngine","Query:",$i(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Xo()<=Y.DEBUG&&D("QueryEngine","The SDK decides to create cache indexes for query:",$i(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jt(n))):y.resolve())}ji(e,n){if(dD(n))return y.resolve(null);let r=Jt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Tm(n,null,"F"),r=Jt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ne(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,Tm(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return dD(n)||i.isEqual(z.min())?y.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?y.resolve(null):(Xo()<=Y.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$i(n)),this.es(e,o,n,tF(i,-1)).next(a=>a))})}Zi(e,n){let r=new Ge(qD(e));return n.forEach((i,s)=>{Jl(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Xo()<=Y.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",$i(n)),this.zi.getDocumentsMatchingQuery(e,n,Br.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Zm=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ee(se),this.rs=new Xn(s=>Ly(s),Fy),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jm(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function $F(t,e,n,r){return new Zm(t,e,n,r)}function ub(t,e){return p(this,null,function*(){let n=re(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=ne();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function lb(t){let e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function zF(t,e){let n=re(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(et.EMPTY_BYTE_STRING,z.min()).withLastLimboFreeSnapshotVersion(z.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(I,m,E){return I.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(h,f,l)&&a.push(n.Qr.updateTargetData(s,f))});let c=er(),u=ne();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(qF(s,o,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(z.min())){let l=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return y.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function qF(t,e,n){let r=ne(),i=ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=er();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(z.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):D("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function HF(t,e){let n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,y.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new pa(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function Xm(t,e,n){return p(this,null,function*(){let r=re(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ea(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function ED(t,e,n){let r=re(t),i=z.min(),s=ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=re(c),h=d.rs.get(l);return h!==void 0?y.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,o,Jt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:z.min(),n?s:ne())).next(a=>(GF(r,pF(e),a),{documents:a,hs:s})))}function GF(t,e,n){let r=t.ss.get(e)||z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}var Ol=class{constructor(){this.activeTargetIds=IF()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var ey=class{constructor(){this.no=new Ol,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Ol,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var ty=class{io(e){}shutdown(){}};var kl=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var wl=null;function Wg(){return wl===null?wl=function(){return 268435456+Math.round(2147483648*Math.random())}():wl++,"0x"+wl.toString(16)}var WF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var ny=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var qe="WebChannelConnection",ry=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){let a=Wg(),c=this.bo(n,r.toUriEncodedString());D("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,c,u,i).then(l=>(D("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Yi("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){let i=WF[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let s=Wg();return new Promise((o,a)=>{let c=new X0;c.setWithCredentials(!0),c.listenOnce(J0.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case yl.NO_ERROR:let l=c.getResponseJson();D(qe,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case yl.TIMEOUT:D(qe,`RPC '${e}' ${s} timed out`),a(new S(w.DEADLINE_EXCEEDED,"Request time out"));break;case yl.HTTP_ERROR:let d=c.getStatus();if(D(qe,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let g=function(m){let E=m.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(E)>=0?E:w.UNKNOWN}(f.status);a(new S(g,f.message))}else a(new S(w.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new S(w.UNAVAILABLE,"Connection failed."));break;default:U()}}finally{D(qe,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);D(qe,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){let i=Wg(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Q0(),a=Y0(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");D(qe,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,f=!1,g=new ny({lo:m=>{f?D(qe,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(D(qe,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),D(qe,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},ho:()=>d.close()}),I=(m,E,K)=>{m.listen(E,q=>{try{K(q)}catch(V){setTimeout(()=>{throw V},0)}})};return I(d,Zo.EventType.OPEN,()=>{f||D(qe,`RPC '${e}' stream ${i} transport opened.`)}),I(d,Zo.EventType.CLOSE,()=>{f||(f=!0,D(qe,`RPC '${e}' stream ${i} transport closed`),g.Vo())}),I(d,Zo.EventType.ERROR,m=>{f||(f=!0,Yi(qe,`RPC '${e}' stream ${i} transport errored:`,m),g.Vo(new S(w.UNAVAILABLE,"The operation could not be completed")))}),I(d,Zo.EventType.MESSAGE,m=>{var E;if(!f){let K=m.data[0];Ce(!!K);let q=K,V=q.error||((E=q[0])===null||E===void 0?void 0:E.error);if(V){D(qe,`RPC '${e}' stream ${i} received error:`,V);let de=V.status,H=function(tr){let qr=Te[tr];if(qr!==void 0)return eb(qr)}(de),he=V.message;H===void 0&&(H=w.INTERNAL,he="Unknown error status: "+de+" with message "+V.message),f=!0,g.Vo(new S(H,he)),d.close()}else D(qe,`RPC '${e}' stream ${i} received:`,K),g.mo(K)}}),I(a,Z0.STAT_EVENT,m=>{m.stat===qg.PROXY?D(qe,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===qg.NOPROXY&&D(qe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}};function Kg(){return typeof document<"u"?document:null}function Zl(t){return new xm(t,!0)}var Ll=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var iy=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Ll(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return p(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return p(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return p(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(Zt(n.toString()),Zt("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===w.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new S(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>p(this,null,function*(){this.state=0,this.start()}))}__(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},sy=class extends iy{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=NF(this.serializer,e),r=function(s){if(!("targetChange"in s))return z.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?z.min():o.readTime?Wi(o.readTime):z.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=_D(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=_m(c)?{documents:OF(s,c)}:{query:kF(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=tb(s,o.resumeToken);let u=Mm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(z.min())>0){a.readTime=Pm(s,o.snapshotVersion.toTimestamp());let u=Mm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=FF(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=_D(this.serializer),n.removeTarget=e,this.t_(n)}};var oy=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new S(w.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Nm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new S(w.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,Nm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new S(w.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var ay=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Zt(n),this.g_=!1):D("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var cy=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>p(this,null,function*(){ba(this)&&(D("RemoteStore","Restarting streams for network reachability change."),yield function(c){return p(this,null,function*(){let u=re(c);u.v_.add(4),yield Da(u),u.x_.set("Unknown"),u.v_.delete(4),yield Xl(u)})}(this))}))}),this.x_=new ay(r,i)}};function Xl(t){return p(this,null,function*(){if(ba(t))for(let e of t.F_)yield e(!0)})}function Da(t){return p(this,null,function*(){for(let e of t.F_)yield e(!1)})}function db(t,e){let n=re(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),By(n)?Uy(n):us(n).Jo()&&jy(n,e))}function hb(t,e){let n=re(t),r=us(n);n.C_.delete(e),r.Jo()&&fb(n,e),n.C_.size===0&&(r.Jo()?r.Xo():ba(n)&&n.x_.set("Unknown"))}function jy(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(z.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}us(t).c_(e)}function fb(t,e){t.O_.Oe(e),us(t).l_(e)}function Uy(t){t.O_=new Rm({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),us(t).start(),t.x_.p_()}function By(t){return ba(t)&&!us(t).Ho()&&t.C_.size>0}function ba(t){return re(t).v_.size===0}function pb(t){t.O_=void 0}function KF(t){return p(this,null,function*(){t.C_.forEach((e,n)=>{jy(t,e)})})}function QF(t,e){return p(this,null,function*(){pb(t),By(t)?(t.x_.S_(e),Uy(t)):t.x_.set("Unknown")})}function YF(t,e,n){return p(this,null,function*(){if(t.x_.set("Online"),e instanceof Ml&&e.state===2&&e.cause)try{yield function(i,s){return p(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield TD(t,r)}else if(e instanceof Gi?t.O_.$e(e):e instanceof xl?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(z.min()))try{let r=yield lb(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.C_.get(u);l&&s.C_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.C_.get(c);if(!l)return;s.C_.set(c,l.withResumeToken(et.EMPTY_BYTE_STRING,l.snapshotVersion)),fb(s,c);let d=new pa(l.target,c,u,l.sequenceNumber);jy(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){D("RemoteStore","Failed to raise snapshot:",r),yield TD(t,r)}})}function TD(t,e,n){return p(this,null,function*(){if(!Ea(e))throw e;t.v_.add(1),yield Da(t),t.x_.set("Offline"),n||(n=()=>lb(t.localStore)),t.asyncQueue.enqueueRetryable(()=>p(this,null,function*(){D("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield Xl(t)}))})}function DD(t,e){return p(this,null,function*(){let n=re(t);n.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");let r=ba(n);n.v_.add(3),yield Da(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield Xl(n)})}function JF(t,e){return p(this,null,function*(){let n=re(t);e?(n.v_.delete(2),yield Xl(n)):e||(n.v_.add(2),yield Da(n),n.x_.set("Unknown"))})}function us(t){return t.N_||(t.N_=function(n,r,i){let s=re(n);return s.R_(),new sy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:KF.bind(null,t),To:QF.bind(null,t),u_:YF.bind(null,t)}),t.F_.push(e=>p(this,null,function*(){e?(t.N_.Zo(),By(t)?Uy(t):t.x_.set("Unknown")):(yield t.N_.stop(),pb(t))}))),t.N_}var uy=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new In,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new S(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function gb(t,e){if(Zt("AsyncQueue",`${e}: ${t}`),Ea(t))return new S(w.UNAVAILABLE,`${e}: ${t}`);throw t}var Fl=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=ea(),this.sortedSet=new Ee(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Vl=class{constructor(){this.L_=new Ee(M.comparator)}track(e){let n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):U():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}},os=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Fl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var ly=class{constructor(){this.q_=void 0,this.Q_=[]}},dy=class{constructor(){this.queries=new Xn(e=>zD(e),Yl),this.onlineState="Unknown",this.K_=new Set}};function ZF(t,e){return p(this,null,function*(){let n=re(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ly),i)try{s.q_=yield n.onListen(r)}catch(o){let a=gb(o,`Initialization of query '${$i(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&$y(n)})}function XF(t,e){return p(this,null,function*(){let n=re(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function eV(t,e){let n=re(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&$y(n)}function tV(t,e,n){let r=re(t),i=r.queries.get(e);if(i)for(let s of i.Q_)s.onError(n);r.queries.delete(e)}function $y(t){t.K_.forEach(e=>{e.next()})}var hy=class{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new os(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=os.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};var jl=class{constructor(e){this.key=e}},Ul=class{constructor(e){this.key=e}},fy=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ne(),this.mutatedKeys=ne(),this.ua=qD(e),this.ca=new Fl(this.ua)}get la(){return this.oa}ha(e,n){let r=n?n.Pa:new Vl,i=n?n.ca:this.ca,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=Jl(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),I=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),m=!1;h&&f?h.data.isEqual(f.data)?g!==I&&(r.track({type:3,doc:f}),m=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),m=!0,(c&&this.ua(f,c)>0||u&&this.ua(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(c||u)&&(a=!0)),m&&(f?(o=o.add(f),s=I?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let o=e.Pa.k_();o.sort((l,d)=>function(f,g){let I=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U()}};return I(f)-I(g)}(l.type,d.type)||this.ua(l.doc,d.doc)),this.Ta(r),i=i!=null&&i;let a=n&&!i?this.Ea():[],c=this.aa.size===0&&this.current&&!i?1:0,u=c!==this._a;return this._a=c,o.length!==0||u?{snapshot:new os(this.query,e.ca,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Vl,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=ne(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});let n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new Ul(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new jl(r))}),n}Ra(e){this.oa=e.hs,this.aa=ne();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return os.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},py=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},gy=class{constructor(e){this.key=e,this.ma=!1}},my=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Xn(a=>zD(a),Yl),this.pa=new Map,this.ya=new Set,this.wa=new Ee(M.comparator),this.Sa=new Map,this.ba=new ma,this.Da={},this.Ca=new Map,this.va=ga.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function nV(t,e){return p(this,null,function*(){let n=uV(t),r,i,s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{let o=yield HF(n.localStore,Jt(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield rV(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&db(n.remoteStore,o)}return i})}function rV(t,e,n,r,i){return p(this,null,function*(){t.Ma=(d,h,f)=>function(I,m,E,K){return p(this,null,function*(){let q=m.view.ha(E);q.Xi&&(q=yield ED(I.localStore,m.query,!1).then(({documents:he})=>m.view.ha(he,q)));let V=K&&K.targetChanges.get(m.targetId),de=K&&K.targetMismatches.get(m.targetId)!=null,H=m.view.applyChanges(q,I.isPrimaryClient,V,de);return CD(I,m.targetId,H.da),H.snapshot})}(t,d,h,f);let s=yield ED(t.localStore,e,!0),o=new fy(e,s.hs),a=o.ha(s.documents),c=fa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);CD(t,n,u.da);let l=new py(e,n,o);return t.ga.set(e,l),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot})}function iV(t,e){return p(this,null,function*(){let n=re(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Yl(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Xm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),hb(n.remoteStore,r.targetId),yy(n,r.targetId)}).catch(My))):(yy(n,r.targetId),yield Xm(n.localStore,r.targetId,!0))})}function mb(t,e){return p(this,null,function*(){let n=re(t);try{let r=yield zF(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Sa.get(s);o&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?Ce(o.ma):i.removedDocuments.size>0&&(Ce(o.ma),o.ma=!1))}),yield vb(n,r,e)}catch(r){yield My(r)}})}function bD(t,e,n){let r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ga.forEach((s,o)=>{let a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=re(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.Q_)h.U_(a)&&(u=!0)}),u&&$y(c)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function sV(t,e,n){return p(this,null,function*(){let r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Ee(M.comparator);o=o.insert(s,Pt.newNoDocument(s,z.min()));let a=ne().add(s),c=new Rl(z.min(),new Map,new Ee(se),o,a);yield mb(r,c),r.wa=r.wa.remove(s),r.Sa.delete(e),zy(r)}else yield Xm(r.localStore,e,!1).then(()=>yy(r,e,n)).catch(My)})}function yy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||yb(t,r)})}function yb(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(hb(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),zy(t))}function CD(t,e,n){for(let r of n)r instanceof jl?(t.ba.addReference(r.key,e),oV(t,r)):r instanceof Ul?(D("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||yb(t,r.key)):U()}function oV(t,e){let n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(D("SyncEngine","New document in limbo: "+n),t.ya.add(r),zy(t))}function zy(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new M(_e.fromString(e)),r=t.va.next();t.Sa.set(r,new gy(n)),t.wa=t.wa.insert(n,r),db(t.remoteStore,new pa(Jt(Vy(n.path)),r,"TargetPurposeLimboResolution",OD._e))}}function vb(t,e,n){return p(this,null,function*(){let r=re(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,c)=>{o.push(r.Ma(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=Qm.Ki(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.fa.u_(i),yield function(c,u){return p(this,null,function*(){let l=re(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>y.forEach(u,h=>y.forEach(h.qi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>y.forEach(h.Qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ea(d))throw d;D("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ns.get(h),g=f.snapshotVersion,I=f.withLastLimboFreeSnapshotVersion(g);l.ns=l.ns.insert(h,I)}}})}(r.localStore,s))})}function aV(t,e){return p(this,null,function*(){let n=re(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());let r=yield ub(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(c=>{c.reject(new S(w.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield vb(n,r.us)}})}function cV(t,e){let n=re(t),r=n.Sa.get(e);if(r&&r.ma)return ne().add(r.key);{let i=ne(),s=n.pa.get(e);if(!s)return i;for(let o of s){let a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function uV(t){let e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sV.bind(null,e),e.fa.u_=eV.bind(null,e.eventManager),e.fa.xa=tV.bind(null,e.eventManager),e}var Bl=class{constructor(){this.synchronizeTabs=!1}initialize(e){return p(this,null,function*(){this.serializer=Zl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return $F(this.persistence,new Jm,e.initialUser,this.serializer)}createPersistence(e){return new Gm(Km.Hr,this.serializer)}createSharedClientState(e){return new ey}terminate(){return p(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var vy=class{initialize(e,n){return p(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aV.bind(null,this.syncEngine),yield JF(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new dy}()}createDatastore(e){let n=Zl(e.databaseInfo.databaseId),r=function(s){return new ry(s)}(e.databaseInfo);return function(s,o,a,c){return new oy(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new cy(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>bD(this.syncEngine,n,0),function(){return kl.D()?new kl:new ty}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new my(i,s,o,a,c,u);return l&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return p(this,null,function*(){var e;yield function(r){return p(this,null,function*(){let i=re(r);D("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield Da(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var wy=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Zt("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Iy=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pe.UNAUTHENTICATED,this.clientId=rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>p(this,null,function*(){D("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(D("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new In;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=gb(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Qg(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>p(this,null,function*(){r.isEqual(i)||(yield ub(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function SD(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield dV(t);D("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>DD(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>DD(e.remoteStore,i)),t._onlineComponents=e})}function lV(t){return t.name==="FirebaseError"?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function dV(t){return p(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){D("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Qg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!lV(n))throw n;Yi("Error using user provided cache. Falling back to memory cache: "+n),yield Qg(t,new Bl)}}else D("FirestoreClient","Using default OfflineComponentProvider"),yield Qg(t,new Bl);return t._offlineComponents})}function hV(t){return p(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(D("FirestoreClient","Using user provided OnlineComponentProvider"),yield SD(t,t._uninitializedComponentsProvider._online)):(D("FirestoreClient","Using default OnlineComponentProvider"),yield SD(t,new vy))),t._onlineComponents})}function AD(t){return p(this,null,function*(){let e=yield hV(t),n=e.eventManager;return n.onListen=nV.bind(null,e.syncEngine),n.onUnlisten=iV.bind(null,e.syncEngine),n})}function wb(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var RD=new Map;function fV(t,e,n){if(!n)throw new S(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pV(t,e,n,r){if(e===!0&&r===!0)throw new S(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xD(t){if(M.isDocumentKey(t))throw new S(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ed(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":U()}function _l(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new S(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ed(t);throw new S(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var $l=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new S(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new S(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new S(w.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new S(w.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new S(w.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ya=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $l({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new S(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new S(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $l(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Yg;switch(r.type){case"firstParty":return new em(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new S(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=RD.get(n);r&&(D("ComponentProvider","Removing Datastore"),RD.delete(n),r.terminate())}(this),Promise.resolve()}};function Ib(t,e,n,r={}){var i;let s=(t=_l(t,ya))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Yi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Pe.MOCK_USER;else{a=ZE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new S(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Pe(u)}t._authCredentials=new Jg(new El(a,c))}}var as=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},en=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ki=class t extends as{constructor(e,n,r){super(e,n,Vy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new M(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function _b(t,e,...n){if(t=Rt(t),fV("collection","path",e),t instanceof ya){let r=_e.fromString(e,...n);return xD(r),new Ki(t,null,r)}{if(!(t instanceof en||t instanceof Ki))throw new S(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(_e.fromString(e,...n));return xD(r),new Ki(t.firestore,null,r)}}var _y=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Ll(this,"async_queue_retry"),this._u=()=>{let n=Kg();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Kg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=Kg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new In;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return p(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Ea(e))throw e;D("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Zt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=uy.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&U()}verifyOperationInProgress(){}hu(){return p(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};function MD(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var va=class extends ya{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new _y}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Tb(this),this._firestoreClient.terminate()}};function Eb(t,e){let n=typeof t=="object"?t:To(),r=typeof t=="string"?t:e||"(default)",i=Lp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=YE("firestore");s&&Ib(i,...s)}return i}function gV(t){return t._firestoreClient||Tb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Tb(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new um(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,wb(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Iy(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var wa=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(et.fromBase64String(e))}catch(n){throw new S(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var zl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new S(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ql=class{constructor(e){this._methodName=e}};var Ia=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new S(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new S(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}};var mV=/^__.*__$/;function Db(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U()}}var Ey=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Dy(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(Db(this.du)&&mV.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},Ty=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zl(e)}Su(e,n,r,i=!1){return new Ey({du:e,methodName:n,wu:r,path:_t.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function yV(t){let e=t._freezeSettings(),n=Zl(t._databaseId);return new Ty(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vV(t,e,n,r=!1){return qy(n,t.Su(r?4:3,e))}function qy(t,e){if(bb(t=Rt(t)))return IV("Unsupported field value:",e,t),wV(t,e);if(t instanceof ql)return function(r,i){if(!Db(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=qy(a,i.gu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _F(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=He.fromDate(r);return{timestampValue:Pm(i.serializer,s)}}if(r instanceof He){let s=new He(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pm(i.serializer,s)}}if(r instanceof Ia)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wa)return{bytesValue:tb(i.serializer,r._byteString)};if(r instanceof en){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:nb(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${ed(r)}`)}(t,e)}function wV(t,e){let n={};return kD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(t,(r,i)=>{let s=qy(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function bb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof Ia||t instanceof wa||t instanceof en||t instanceof ql)}function IV(t,e,n){if(!bb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=ed(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}var _V=new RegExp("[~\\*/\\[\\]]");function EV(t,e,n){if(e.search(_V)>=0)throw Dy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zl(...e.split("."))._internalPath}catch{throw Dy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dy(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new S(w.INVALID_ARGUMENT,a+t+c)}var Hl=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new by(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Hy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},by=class extends Hl{data(){return super.data()}};function Hy(t,e){return typeof e=="string"?EV(t,e):e instanceof zl?e._internalPath:e._delegate._internalPath}function TV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new S(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var _a=class{},Cy=class extends _a{};function Cb(t,e,...n){let r=[];e instanceof _a&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof Sy).length,a=s.filter(c=>c instanceof Gl).length;if(o>1||o>0&&a>0)throw new S(w.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Gl=class t extends Cy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return Ab(e._query,n),new as(e.firestore,e.converter,Em(e._query,n))}_parse(e){let n=yV(e.firestore);return function(s,o,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new S(w.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){ND(d,l);let f=[];for(let g of d)f.push(PD(c,s,g));h={arrayValue:{values:f}}}else h=PD(c,s,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||ND(d,l),h=vV(a,o,d,l==="in"||l==="not-in");return be.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function Sb(t,e,n){let r=e,i=Hy("where",t);return Gl._create(i,r,n)}var Sy=class t extends _a{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Nt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)Ab(o,c),o=Em(o,c)}(e._query,n),new as(e.firestore,e.converter,Em(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function PD(t,e,n){if(typeof(n=Rt(n))=="string"){if(n==="")throw new S(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$D(e)&&n.indexOf("/")!==-1)throw new S(w.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(_e.fromString(n));if(!M.isDocumentKey(r))throw new S(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sD(t,new M(r))}if(n instanceof en)return sD(t,n._key);throw new S(w.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ed(n)}.`)}function ND(t,e){if(!Array.isArray(t)||t.length===0)throw new S(w.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ab(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new S(w.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new S(w.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Ay=class{convertValue(e,n="none"){switch($r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw U()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ta(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ia(ve(e.latitude),ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Oy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(aa(e));default:return null}}convertTimestamp(e){let n=Jn(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=_e.fromString(e);Ce(cb(r));let i=new Sl(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||Zt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};var Vr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Wl=class extends Hl{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Qi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Hy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Qi=class extends Wl{data(e={}){return super.data(e)}},Ry=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qi(this._firestore,this._userDataWriter,r.key,r,new Vr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new S(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Qi(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Qi(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:DV(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function DV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U()}}var Kl=class extends Ay{constructor(e){super(),this.firestore=e}convertBytes(e){return new wa(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}};function Gy(t,...e){var n,r,i;t=Rt(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||MD(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if(MD(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,l;if(t instanceof en)u=_l(t.firestore,va),l=Vy(t._key.path),c={next:d=>{e[o]&&e[o](bV(u,t,d))},error:e[o+1],complete:e[o+2]};else{let d=_l(t,as);u=_l(d.firestore,va),l=d._query;let h=new Kl(u);c={next:f=>{e[o]&&e[o](new Ry(u,h,d,f))},error:e[o+1],complete:e[o+2]},TV(t._query)}return function(h,f,g,I){let m=new wy(I),E=new hy(f,m,g);return h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return ZF(yield AD(h),E)})),()=>{m.La(),h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return XF(yield AD(h),E)}))}}(gV(u),l,a,c)}function bV(t,e,n){let r=n.docs.get(e._key),i=new Kl(t);return new Wl(t,i,e._key,r,new Vr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){cs=i})(Ni),Wn(new wt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new va(new Zg(r.getProvider("auth-internal")),new nm(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new S(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Re(tD,"4.4.3",e),Re(tD,"4.4.3","esm2017")})();var td=function(){return td=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},td.apply(this,arguments)};var AV={includeMetadataChanges:!1};function Rb(t,e){return e===void 0&&(e=AV),new Q(function(n){var r=Gy(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function xb(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:td(td({},r),(n={},n[e.idField]=t.id,n))}function Mb(t){return Rb(t,{includeMetadataChanges:!0}).pipe(B(function(e){return e.docs}))}function Pb(t,e){return e===void 0&&(e={}),Mb(t).pipe(B(function(n){return n.map(function(r){return xb(r,e)})}))}var _n=class{constructor(e){return e}},Nb="firestore",Wy=class{constructor(){return bo(Nb)}};var Ky=new k("angularfire2.firestore-instances");function RV(t,e){let n=jp(Nb,t,e);return n&&new _n(n)}function xV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new _n(r)}}var MV={provide:Wy,deps:[[new Bt,Ky]]},PV={provide:_n,useFactory:RV,deps:[[new Bt,Ky],Cr]},NV=(()=>{class t{constructor(){Re("angularfire",ki.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Pn({type:t});static \u0275inj=Nn({providers:[PV,MV]})}return t})();function Ob(t,...e){return{ngModule:NV,providers:[{provide:Ky,useFactory:xV(t),multi:!0,deps:[ce,hn,Co,So,[new Bt,$u],[new Bt,Do],...e]}]}}var Qy=mn(Pb,!0);var Yy=mn(_b,!0);var kb=mn(Eb,!0);var Jy=mn(Cb,!0);var Lb=mn(Sb,!0);var ls=(()=>{let e=class e{constructor(r){this.firestore=r}projectThumbnailURL(r){return r.resourcesPath+"/"+r.thumbnail}projectCoverURL(r){return r.resourcesPath+"/"+r.cover}getprojectsByType(r,i){let s=Jy(Yy(this.firestore,r));var o=Qy(s);o.subscribe(a=>i(a))}getproject(r,i,s){let o=Jy(Yy(this.firestore,r+"s"),Lb("name","==",i));var a=Qy(o);a.subscribe(c=>s(c))}};e.\u0275fac=function(i){return new(i||e)(x(_n))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Vb=(()=>{let e=class e{constructor(r,i){this.projectsService=r,this._router=i}get getThumbnail(){return this.projectsService.projectThumbnailURL(this.referenceProject)}openProject(){this._router.navigateByUrl("projects/"+this.referenceProject?.projectType+"-"+this.referenceProject?.name)}};e.\u0275fac=function(i){return new(i||e)(Ye(ls),Ye(_u))},e.\u0275cmp=je({type:e,selectors:[["app-project-item"]],inputs:{referenceProject:"referenceProject"},standalone:!0,features:[Ue],decls:5,vars:5,consts:[[1,"item",3,"click"],[1,"itemName"],[1,"imageFrame"],[1,"itemImage"]],template:function(i,s){i&1&&(v(0,"div",0),mr("click",function(){return s.openProject()}),v(1,"p",1),C(2),_(),v(3,"div",2),L(4,"div",3),_()()),i&2&&(Gc("tags",s.referenceProject==null?null:s.referenceProject.tags),fe(2),Kc('"',s.referenceProject==null?null:s.referenceProject.name,'"'),fe(2),D_("--imageURL: url(",s.getThumbnail,")"))},styles:[".item[_ngcontent-%COMP%]{height:200px;width:300px;background-color:var(--keyYellow);outline-color:var(--keyYellow);outline-style:solid;outline-width:3px;display:grid;grid-template-columns:100%;grid-template-rows:auto 1fr;cursor:pointer}.item[_ngcontent-%COMP%]:hover:after{content:attr(tags);display:block;width:100%;margin:0;background-color:#ffea00;box-sizing:border-box;color:#000;font-family:MADE,sans-serif;font-size:20px;text-align:left}.itemName[_ngcontent-%COMP%]{margin:0;text-align:left;align-self:center;margin-inline:10px;color:#000;font-family:MADE,sans-serif;font-size:30px;width:fit-content;text-transform:uppercase}.imageFrame[_ngcontent-%COMP%]{background-color:#000;text-decoration:none;padding:5px}.itemImage[_ngcontent-%COMP%]{background-image:var(--imageURL);width:100%;height:100%;background-size:cover}.gameLink[_ngcontent-%COMP%]{height:60px;background-color:#000;display:grid;grid-template-columns:1fr auto;grid-template-rows:100%}.gameLinkText[_ngcontent-%COMP%]{margin:0 0 0 20px;text-align:left;align-self:center;padding-right:15px;color:var(--keyYellow);font-family:MADE,sans-serif;font-size:25px;text-decoration:none;width:fit-content}.storefrontIconHolder[_ngcontent-%COMP%]{width:100%;height:100%}.storefrontIcon[_ngcontent-%COMP%]{box-sizing:border-box;height:100%;padding:5px}"]});let t=e;return t})();function OV(t,e){if(t&1&&L(0,"app-project-item",3),t&2){let n=e.$implicit;$t("referenceProject",n)}}function kV(t,e){if(t&1&&L(0,"app-project-item",3),t&2){let n=e.$implicit;$t("referenceProject",n)}}function LV(t,e){if(t&1&&L(0,"app-project-item",3),t&2){let n=e.$implicit;$t("referenceProject",n)}}var jb=(()=>{let e=class e{constructor(r,i){this.projects=r,this.firestore=i,this.games=[],this.tools=[],this.others=[],r.getprojectsByType("games",s=>{this.games=s}),r.getprojectsByType("tools",s=>{this.tools=s}),r.getprojectsByType("others",s=>{this.others=s})}};e.\u0275fac=function(i){return new(i||e)(Ye(ls),Ye(_n))},e.\u0275cmp=je({type:e,selectors:[["app-projects"]],standalone:!0,features:[Ue],decls:18,vars:0,consts:[[1,"categoryHeader"],[1,"categoryUnderline"],[1,"itemList"],[3,"referenceProject"]],template:function(i,s){i&1&&(v(0,"p",0),C(1,"MY GAMES"),_(),L(2,"div",1),v(3,"div",2),Ln(4,OV,1,1,"app-project-item",3,kn),_(),v(6,"p",0),C(7,"MY TOOLS"),_(),L(8,"div",1),v(9,"div",2),Ln(10,kV,1,1,"app-project-item",3,kn),_(),v(12,"p",0),C(13,"OTHER"),_(),L(14,"div",1),v(15,"div",2),Ln(16,LV,1,1,"app-project-item",3,kn),_()),i&2&&(fe(4),Fn(s.games),fe(6),Fn(s.tools),fe(6),Fn(s.others))},dependencies:[Vb],styles:[".categoryHeader[_ngcontent-%COMP%]{box-sizing:border-box;color:var(--keyYellow);font-family:MADE,sans-serif;font-size:40px;text-align:left;margin-bottom:0;margin-top:10px}.categoryUnderline[_ngcontent-%COMP%]{margin:0;height:5px;width:100%;background-color:var(--keyYellow)}.itemList[_ngcontent-%COMP%]{--spacing: 25px;display:flex;flex-wrap:wrap;gap:var(--spacing);margin-top:var(--spacing)}@media (max-width:831px){.itemList[_ngcontent-%COMP%]{justify-items:center;justify-content:center}}"]});let t=e;return t})();var Xy=(()=>{let e=class e{constructor(r){this.meta=r}ngOnInit(){this.meta.updateTag({property:"og:title",content:"MELTPACK.NET | HOME"}),this.meta.updateTag({property:"og:image",content:"YOUR_IMAGE"}),this.meta.updateTag({property:"og:url",content:"https://meltpack.net"})}};e.\u0275fac=function(i){return new(i||e)(Ye(cE))},e.\u0275cmp=je({type:e,selectors:[["app-home"]],standalone:!0,features:[Ue],decls:114,vars:0,consts:[[1,"taglineSection"],[1,"tagline"],["src","assets/graphics/StraightGlobeCut.png","alt","",1,"globe"],[1,"homeCategoryBar"],[1,"section"],["id","projects"],["id","about",1,"section"],[1,"softwareExperienceTitle"],[1,"experienceList"],[1,"experienceItem"],["src","assets\\icons\\Unity.png","alt","","loading","lazy",1,"experienceIcon"],[1,"experienceName"],[1,"experienceDate"],[1,"experienceText"],["src","assets\\icons\\C.png","alt","","loading","lazy",1,"experienceIcon"],["src","assets\\icons\\blender.png","alt","","loading","lazy",1,"experienceIcon"],["src","assets\\icons\\photon.png","alt","","loading","lazy",1,"experienceIcon"],["src","assets\\icons\\html.png","alt","","loading","lazy",1,"experienceIcon"],["src","assets\\icons\\css.png","alt","","loading","lazy",1,"experienceIcon"],[1,"subtitle"],[1,"aboutMeBar"],[1,"aboutMeDescription"],[1,"footer"],[1,"arrowGroup"],["src","assets/graphics/Arrow.png","alt","",1,"arrow"],[1,"ZeroRightsReserved"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"p",1),C(2,"LEYTON/MELTPACK"),L(3,"br"),C(4,"TECHNICAL ARTIST"),L(5,"br"),C(6,"I PROGRAM - I MODEL - I ANIMATE - I WRITE SHADERS"),_(),L(7,"img",2),_(),v(8,"p",3),C(9," // PROJECTS"),_(),v(10,"div",4),L(11,"app-projects",5),_(),v(12,"p",3),C(13," // ABOUT ME"),_(),v(14,"div",6)(15,"p",7),C(16,"I'm a professional with"),_(),v(17,"div",8)(18,"div",9),L(19,"img",10),v(20,"div")(21,"p",11),C(22,"UNITY3D"),_(),v(23,"p",12),C(24,"SINCE 2016"),_(),v(25,"p",13),C(26,"-C#"),_(),v(27,"p",13),C(28,"-Debugging"),_(),v(29,"p",13),C(30,"-Shaders"),_(),v(31,"p",13),C(32,"-Animation"),_(),v(33,"p",13),C(34,"-Procgen"),_(),v(35,"p",13),C(36,"-Editor Tools"),_()()(),v(37,"div",9),L(38,"img",14),v(39,"div")(40,"p",11),C(41,"C#"),_(),v(42,"p",12),C(43,"SINCE 2016"),_(),v(44,"p",13),C(45,"-Unity"),_()()(),v(46,"div",9),L(47,"img",15),v(48,"div")(49,"p",11),C(50,"BLENDER"),_(),v(51,"p",12),C(52,"SINCE 2017"),_(),v(53,"p",13),C(54,"-Animation"),_(),v(55,"p",13),C(56,"-Vertex Modelling"),_(),v(57,"p",13),C(58,"-Shader Editing"),_(),v(59,"p",13),C(60,"-Exporting"),_()()(),v(61,"div",9),L(62,"img",16),v(63,"div")(64,"p",11),C(65,"PHOTON"),_(),v(66,"p",12),C(67,"SINCE 2017"),_(),v(68,"p",13),C(69,"-Client-Server architecture"),_(),v(70,"p",13),C(71,"-RPCs"),_(),v(72,"p",13),C(73,"-Synchronisation"),_(),v(74,"p",13),C(75,"-Lobby-Room systems"),_()()()(),v(76,"p",7),C(77,"I know my way around"),_(),v(78,"div",8)(79,"div",9),L(80,"img",17),v(81,"div")(82,"p",11),C(83,"HTML"),_(),v(84,"p",12),C(85,"SINCE 2023"),_()()(),v(86,"div",9),L(87,"img",18),v(88,"div")(89,"p",11),C(90,"CSS"),_(),v(91,"p",12),C(92,"SINCE 2023"),_()()()(),v(93,"p",19),C(94,"ABOUT ME"),_(),v(95,"div",20)(96,"p",21),C(97,"I'm Leyton, and I am a games programmer from the UK. I have a keen interest in technical art, and have been making games for years. During that time, I have gotten my hands into all the ins and outs of the workflow, from animating, to programming, VFX, UI and more. I am a learner and team player, although capable on my own. "),L(98,"br")(99,"br"),C(100,"I use Unity, C#, and Blender, and am always eager to learn more software and toolsets. I cook in my spare time."),_()()(),v(101,"div",22)(102,"div",23),L(103,"img",24)(104,"img",24)(105,"img",24)(106,"img",24)(107,"img",24)(108,"img",24)(109,"img",24)(110,"img",24)(111,"img",24),_(),v(112,"p",25),C(113,"\xA9 Zero Rights Reserved"),_()())},dependencies:[jb],styles:[".taglineSection[_ngcontent-%COMP%]{display:grid;margin-bottom:5px;grid-template-rows:auto auto;height:fit-content;overflow:hidden}.tagline[_ngcontent-%COMP%]{color:var(--keyYellow);font-family:MADE,sans-serif;font-size:35px;text-align:center;justify-self:center;align-self:center;width:100%;word-break:normal}.globe[_ngcontent-%COMP%]{display:flex;align-self:end;justify-self:center;max-width:850px;width:100%}.section[_ngcontent-%COMP%]{width:75%;margin:10px auto 20px}.homeCategoryBar[_ngcontent-%COMP%]{width:100%;margin:0;text-indent:50px;background-color:var(--keyYellow);box-sizing:border-box;color:#000;font-family:MADE,sans-serif;font-size:40px;text-align:left}.footer[_ngcontent-%COMP%]{height:25px;padding-inline:15px;display:grid;grid-template-columns:50% 50%}.arrowGroup[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;width:fit-content;gap:5px}.arrow[_ngcontent-%COMP%]{width:25px;height:25px}.ZeroRightsReserved[_ngcontent-%COMP%]{margin:0;text-align:right;color:var(--keyYellow);font-family:MADE,sans-serif;font-size:25px;text-decoration:none}@media (max-width:950px){.tagline[_ngcontent-%COMP%]{color:var(--keyYellow);font-family:MADE,sans-serif;font-size:22px;text-align:center;justify-self:center;align-self:center}}",".softwareExperienceTitle[_ngcontent-%COMP%]{width:100%;margin:0;margin-block:20px;box-sizing:border-box;color:var(--keyYellow);font-family:MADE,sans-serif;font-size:35px;text-align:center}.subtitle[_ngcontent-%COMP%]{margin:40px 0 0;box-sizing:border-box;color:var(--keyYellow);font-family:MADE,sans-serif;font-size:45px;text-align:center}.experienceList[_ngcontent-%COMP%]{margin:auto;width:fit-content;display:flex;flex-wrap:wrap;gap:30px}.experienceItem[_ngcontent-%COMP%]{width:fit-content;grid-template-columns:50% 50%;margin:0 auto auto}.experienceIcon[_ngcontent-%COMP%]{display:block;margin:auto;height:150px}.experienceName[_ngcontent-%COMP%]{height:fit-content;width:fit-content;margin:0;padding:0;color:var(--keyYellow);font-family:MADE,sans-serif;font-size:40px;box-sizing:border-box;text-align:center;width:100%}.experienceDate[_ngcontent-%COMP%]{height:fit-content;width:fit-content;margin:0;padding:0;box-sizing:border-box;color:var(--keyYellow);font-family:MADE,sans-serif;font-size:25px;width:100%;text-align:center}.experienceText[_ngcontent-%COMP%]{height:fit-content;width:fit-content;margin:0;padding:0;width:100%;color:var(--keyYellow);font-family:MADE,sans-serif;font-size:20px;box-sizing:border-box;text-align:center}.aboutMeDescription[_ngcontent-%COMP%]{padding-left:20px;width:75%;margin:auto;height:fit-content;align-self:center;box-sizing:border-box;color:var(--keyYellow);font-family:MADE,sans-serif;font-size:25px;text-align:center}@media (max-width:831px){.experienceList[_ngcontent-%COMP%]{justify-items:center}}"]});let t=e;return t})();var Ub=(()=>{let e=class e{constructor(){this.viewIndex=0}get CurrentImage(){return this.project?.resourcesPath+"/media/"+this.project.mediaURLS[this.viewIndex]}nextImage(){this.viewIndex++,this.viewIndex==this.project.mediaURLS.length&&(this.viewIndex=0),console.log(this.viewIndex)}previousImage(){this.viewIndex--,this.viewIndex<0&&(this.viewIndex=this.project.mediaURLS.length-1),console.log(this.viewIndex)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=je({type:e,selectors:[["app-media-display"]],inputs:{project:"project"},standalone:!0,features:[Ue],decls:8,vars:1,consts:[[1,"media"],[1,"mediaView"],["alt","",1,"image",3,"src"],[1,"mediaControls"],[1,"mediaControl",3,"click"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"div",1),L(2,"img",2),v(3,"div",3)(4,"button",4),mr("click",function(){return s.previousImage()}),C(5,"<"),_(),v(6,"button",4),mr("click",function(){return s.nextImage()}),C(7,">"),_()()()()),i&2&&(fe(2),$t("src",s.CurrentImage,Us))},styles:["[_nghost-%COMP%]{display:flex;justify-self:center;justify-items:center;justify-content:center}.media[_ngcontent-%COMP%]{display:flex;justify-self:center;justify-items:center;justify-content:center;width:100%;max-width:1000px}.mediaView[_ngcontent-%COMP%]{width:100%;max-width:1000px;position:relative}.image[_ngcontent-%COMP%]{width:100%}.mediaControls[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;justify-content:space-between}.mediaControl[_ngcontent-%COMP%]{outline:none;border:none;opacity:0;font-weight:800;font-size:25px;width:50px;background-color:#272727;color:#fff;transition:opacity .1s linear;cursor:pointer}.mediaControl[_ngcontent-%COMP%]:hover{opacity:.75}.media[_ngcontent-%COMP%]:hover   .mediaControl[_ngcontent-%COMP%]:not(.mediaControl:hover){opacity:.5}"]});let t=e;return t})();function FV(t,e){if(t&1&&(v(0,"a",16),L(1,"img",17),_()),t&2){let n=e.$implicit;Wc("href",n,Us)}}function VV(t,e){if(t&1&&(v(0,"div",13)(1,"p",14),C(2,"GET IT:"),_(),v(3,"div",15),Ln(4,FV,2,1,"a",16,kn),_()(),L(6,"div",9)),t&2){let n=zs();fe(4),Fn(n.referenceProject==null?null:n.referenceProject.links)}}function jV(t,e){if(t&1&&(v(0,"p",19),C(1),_()),t&2){let n=e.$implicit;fe(),_i(n)}}function UV(t,e){if(t&1&&(v(0,"div",13)(1,"p",14),C(2,"TOOLS"),L(3,"br"),C(4,"USED:"),_(),v(5,"div",18),Ln(6,jV,2,1,"p",20,kn),_()(),L(8,"div",9)),t&2){let n=zs();fe(6),Fn(n.referenceProject==null?null:n.referenceProject.toolsUsed)}}function BV(t,e){if(t&1&&(v(0,"p",19),C(1),_()),t&2){let n=e.$implicit;fe(),_i(n)}}function $V(t,e){if(t&1&&(v(0,"div",13)(1,"p",14),C(2,"TOOLS"),L(3,"br"),C(4,"USED:"),_(),v(5,"div",18),Ln(6,BV,2,1,"p",20,kn),_()()),t&2){let n=zs();fe(6),Fn(n.referenceProject==null?null:n.referenceProject.skillsUsed)}}function zV(t,e){if(t&1&&(v(0,"div",1)(1,"div",2)(2,"p",3),C(3,"MEDIA"),_()(),L(4,"app-media-display",21),_()),t&2){let n=zs();fe(4),$t("project",n.referenceProject)}}var Bb=(()=>{let e=class e{constructor(r,i,s){this.http=r,this.projectsService=i,this.route=s,this.projectNotFound=!1,this.projectHTML="";var o=this.route.snapshot.paramMap.get("project")?.split("-"),a=o[0],c=o[1];console.log(a+" "+c),this.projectsService.getproject(a,c,u=>{u.length!=0?(this.referenceProject=u[0],this.getProjectHTML()):this.projectNotFound=!0})}getProjectHTML(){this.http.get("../../../"+this.referenceProject?.resourcesPath+"/projectPage.html",{responseType:"text"}).subscribe(r=>{this.projectHTML=r,console.log(this.projectHTML)})}};e.\u0275fac=function(i){return new(i||e)(Ye(_f),Ye(ls),Ye(zn))},e.\u0275cmp=je({type:e,selectors:[["app-project-page"]],standalone:!0,features:[Ue],decls:18,vars:8,consts:[[1,"headerText"],[1,"section"],[1,"titleLabel"],[1,"title"],[1,"subTextHolder"],[1,"overview"],[1,"overviewImage",3,"src"],[1,"overviewSheet"],[1,"overviewSectionDescription"],[1,"overviewDivider"],["class","overviewSection"],[3,"innerHTML","classList"],["class","section"],[1,"overviewSection"],[1,"overviewSectionTitle"],[1,"overviewLinks"],[3,"href"],["src","assets\\social\\overview-sites\\itchio.png","alt","",1,"overviewIcon"],[1,"overviewTagList"],[1,"overviewTag"],["class","overviewTag"],[3,"project"]],template:function(i,s){i&1&&(v(0,"p",0),C(1),_(),v(2,"div",1)(3,"div",2)(4,"p",3),C(5,"PROJECT OVERVIEW"),_()(),v(6,"div",4)(7,"div",5),L(8,"img",6),v(9,"div",7)(10,"p",8),C(11),_(),L(12,"div",9),pi(13,VV,7,0)(14,UV,9,0)(15,$V,8,0,"div",10),_()()()(),L(16,"div",11),pi(17,zV,5,1,"div",12)),i&2&&(fe(),_i(s.referenceProject==null?null:s.referenceProject.name),fe(7),Wc("src",s.projectsService.projectCoverURL(s.referenceProject),Us),fe(3),_i(s.referenceProject==null?null:s.referenceProject.description),fe(2),$s(13,(s.referenceProject==null||s.referenceProject.links==null?null:s.referenceProject.links.length)>0?13:-1),fe(),$s(14,(s.referenceProject==null||s.referenceProject.toolsUsed==null?null:s.referenceProject.toolsUsed.length)>0?14:-1),fe(),$s(15,(s.referenceProject==null||s.referenceProject.skillsUsed==null?null:s.referenceProject.skillsUsed.length)>0?15:-1),fe(),$t("innerHTML",s.projectHTML,OI),fe(),$s(17,(s.referenceProject==null||s.referenceProject.mediaURLS==null?null:s.referenceProject.mediaURLS.length)>1?17:-1))},dependencies:[Ub],styles:[`body{background-color:#000}.headerText{width:100%;background-color:var(--keyYellow);margin-top:10vh;box-sizing:border-box;color:#000;font-family:MADE,sans-serif;font-size:50px;text-align:center}code{padding-inline:.25em;padding-block:1px;background-color:#262626;border-radius:.25em;font-family:CONSOLA,sans-serif;font-size:90%;color:#e3e3e3;outline:solid #adadad 2px}.overviewSheet{background-color:var(--keyYellow)}.overviewTag{margin:0;padding:0;--rounding: 5px;font-family:MADE,sans-serif;font-size:25px;color:var(--keyYellow);background-color:#000;border-radius:var(--rounding);padding-inline:var(--rounding);width:fit-content;height:fit-content}.overviewSectionTitle{margin:0;font-weight:400;font-family:MADE,sans-serif;font-size:30px;padding:0 0 0 10px}.overviewSectionDescription{margin:0;font-weight:400;font-family:MADE,sans-serif;font-size:25px;padding:5px 0 0 10px}.overviewIcon{display:block;height:40px;align-self:center;color:#000}.overviewDivider{margin:10px auto;border-top:3px solid black;width:90%}@media (min-width: 900px){.overview{display:grid;grid-template-columns:50% 50%;overflow:hidden}.overviewImage{height:500px;justify-self:center;align-self:center}.overviewSection{display:grid;grid-template-columns:auto 1fr;gap:5px}.overviewTagList{display:inline-flex;flex-wrap:wrap;gap:5px}.triplePic{display:grid;grid-template-columns:1fr 1fr 1fr;width:100%;height:fit-content}.keyGif{display:block;width:min(100%,800px);margin:auto}.singleImage{width:50%;display:block;margin-left:auto;margin-right:auto}.dualPic{display:grid;grid-template-columns:50% 50%;width:100%;height:fit-content}}@media (max-width: 900px){.overviewImage{width:100%}.headerText{width:100%;background-color:var(--keyYellow);margin-top:10vh;box-sizing:border-box;color:#000;font-family:MADE,sans-serif;font-size:50px;text-align:center}.overviewIcon{padding-left:10px}.overviewTagList{flex-wrap:wrap;gap:5px;padding-left:10px;margin-bottom:10px}.overviewSection{display:grid;grid-template-rows:auto 1fr;gap:5px}.subText{margin:0 0 100%;color:var(--keyYellow);font-family:MADE,sans-serif;font-size:30px}.triplePic{display:grid;grid-template-columns:1fr 1fr;width:100%;height:fit-content}.keyGif{width:100%}.singleImage{width:100%;display:block;margin-left:auto;margin-right:auto}.dualPic{width:100%;height:fit-content}}.titleLabel{margin-top:25px;height:fit-content;margin-bottom:10px;background-color:var(--keyYellow)}.section{width:75vw;margin:auto;box-sizing:border-box}.title{margin:0 0 0 20px;text-align:left;vertical-align:middle;padding-right:15px;color:#000;font-family:MADE,sans-serif;font-size:30px;text-decoration:none}.pictureContainer{width:100%;height:100%;align-self:self-end;display:grid;grid-template-columns:100%;grid-template-rows:auto 1fr;align-items:center}.picture{max-width:400px;width:100%;margin-left:auto;margin-right:auto}.picCaption{margin:0;color:var(--keyYellow);font-family:MADE,sans-serif;font-size:18px;height:fit-content;width:100%;text-align:center}.summaryText{margin:25px 0 0;overflow:auto;color:var(--keyYellow);font-family:MADE,sans-serif;text-align:justify;font-size:22px}li,.overviewText{margin:25px 0;color:var(--keyYellow);font-family:MADE,sans-serif;text-align:justify;font-size:22px}
`],encapsulation:2});let t=e;return t})();var $b=[{path:"",component:Xy},{path:"home",component:Xy},{path:"projects/:project",component:Bb}];var zb={providers:[Z_(X_()),qE($b),Nc(vT(()=>wT({projectId:"meltpack-net",appId:"1:953473933427:web:bd3d2821aff120b8764a06",storageBucket:"meltpack-net.appspot.com",apiKey:"AIzaSyCJCqWlEfyildnwmRm317aiyLaxZCxRT9E",authDomain:"meltpack-net.firebaseapp.com",messagingSenderId:"953473933427",measurementId:"G-7BMFKQ5T6D"}))),Nc(Ob(()=>kb()))]};var qb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=je({type:e,selectors:[["app-navbar"]],standalone:!0,features:[Ue],decls:25,vars:0,consts:[[1,"navbar"],[1,"navbarFlex"],["href","/",1,"meltpackLogo"],["src","assets/graphics/LogoColored.png","alt","",1,"logo"],[1,"navbarButtons"],["href","/",1,"navbarButton"],[1,"navbarBtnGlow"],["href","/#projects",1,"navbarButton"],["href","/#about",1,"navbarButton"],[1,"socials"],["href","https://github.com/LeytonV",1,"socialButtonFrame"],["src","assets/social/github.png",1,"socialButton"],["href","https://instagram.com/meltpack360/",1,"socialButtonFrame"],["src","assets/social/instagram.png",1,"socialButton"],["href","https://twitter.com/meltpacket",1,"socialButtonFrame"],["src","assets/social/twitter.png",1,"socialButton"],[1,"underline"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"div",1)(2,"a",2),L(3,"img",3),_(),v(4,"div",4)(5,"a",5),C(6,"HOME "),v(7,"p",6),C(8,"HOME"),_()(),v(9,"a",7),C(10,"PROJECTS"),v(11,"p",6),C(12,"PROJECTS"),_()(),v(13,"a",8),C(14,"ABOUT"),v(15,"p",6),C(16,"ABOUT"),_()()(),v(17,"div",9)(18,"a",10),L(19,"img",11),_(),v(20,"a",12),L(21,"img",13),_(),v(22,"a",14),L(23,"img",15),_()()(),L(24,"div",16),_())},styles:['.navbar[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#000;height:fit-content;width:100%}.navbarFlex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-content:center;align-items:center;flex-wrap:wrap;padding:10px;gap:10px}.meltpackLogo[_ngcontent-%COMP%]{height:37px;display:flex;align-self:center}.navbarButtons[_ngcontent-%COMP%]{height:100%;flex-grow:1;display:flex;align-items:center;gap:10px;flex-wrap:wrap}.navbarButton[_ngcontent-%COMP%]{text-decoration:none;color:var(--keyYellow);font-family:MADE,sans-serif;font-size:25px;text-align:center;position:relative}.navbarBtnGlow[_ngcontent-%COMP%]{position:absolute;top:0;margin:0;transition:filter .1s linear,opacity .1s linear;opacity:0}.navbarButton[_ngcontent-%COMP%]:hover   .navbarBtnGlow[_ngcontent-%COMP%]{opacity:1;filter:blur(3px)}.socialButtonFrame[_ngcontent-%COMP%]{justify-self:right;transform:translateY(3px)}.socials[_ngcontent-%COMP%]{display:flex;justify-items:center;align-items:center;gap:10px;--buttonWidth:35px}.socialButton[_ngcontent-%COMP%]{width:var(--buttonWidth)}.underline[_ngcontent-%COMP%]{content:"";width:100%;height:2px;background-color:var(--keyYellow);display:block}@media (max-width: 1000px){.navbarFlex[_ngcontent-%COMP%]{display:grid;grid-template-columns:100%;grid-template-rows:auto auto;justify-items:center;justify-content:center;padding-block:10px;gap:0}.navbarButtons[_ngcontent-%COMP%]{height:100%;display:flex;flex-grow:0;width:fit-content;align-items:center;justify-items:center;justify-content:center;gap:10px;flex-wrap:wrap}.socials[_ngcontent-%COMP%]{justify-self:center;justify-items:space-between;justify-content:space-evenly;width:100%;grid-row:3;--buttonWidth:20px}}']});let t=e;return t})();var Hb=(()=>{let e=class e{constructor(){this.title="MELTPACK.NET"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=je({type:e,selectors:[["app-root"]],standalone:!0,features:[Ue],decls:2,vars:0,template:function(i,s){i&1&&L(0,"app-navbar")(1,"router-outlet")},dependencies:[up,qb]});let t=e;return t})();aE(Hb,zb).catch(t=>console.error(t));
